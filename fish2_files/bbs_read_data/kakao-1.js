/**
 * Kakao Javascript SDK for Kakao Open Platform Service - v1.9.1
 *
 * Copyright 2017 Kakao Corp.
 *
 * Â 
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *    http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */
var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(t){if("object"===("undefined"==typeof exports?"undefined":_typeof(exports))&&"undefined"!=typeof module)module.exports=t();else if("function"==typeof define&&define.amd)define([],t);else{var e;e="undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this,e.Kakao=t()}}(function(){var t;return function e(t,n,i){function o(s,a){if(!n[s]){if(!t[s]){var c="function"==typeof require&&require;if(!a&&c)return c(s,!0);if(r)return r(s,!0);var l=new Error("Cannot find module '"+s+"'");throw l.code="MODULE_NOT_FOUND",l}var u=n[s]={exports:{}};t[s][0].call(u.exports,function(e){var n=t[s][1][e];return o(n?n:e)},u,u.exports,e,t,n,i)}return n[s].exports}for(var r="function"==typeof require&&require,s=0;s<i.length;s++)o(i[s]);return o}({1:[function(t,e){e.exports=function(){function e(){return"Bearer "+i.getAccessToken()}function n(){return"KakaoAK "+i.getAppKey()}var i=t("./auth.js");return{accessToken:e,appKey:n,tokenOrKey:i.getAccessToken()?e:n}}()},{"./auth.js":3}],2:[function(t,e){e.exports=function(){function e(){return s||(s=l.guardCreateEasyXDM(function(){return new a.Rpc({remote:l.URL.apiRemote},{remote:{request:{}}})})),s}function n(t){return"/v1/api/story/upload/multi"===t}function i(t){if(!c.isString(t))return!1;if(0===t.length||t.length>2048)throw new l.KakaoError("content length should be between 0 and 2048");return!0}function o(t){return c.isArray(t)?c.every(t,function(t){if(!c.isString(t))return!1;if(c.isURL(t))throw new l.KakaoError("url in image_url_list should be a kage url, obtained from '/v1/api/story/upload/multi'.");return!0}):!1}var r={};t("../vendor/es6-promise.js");var s,a=t("../vendor/easyXDM.js"),c=t("./util.js"),l=t("./common.js"),u=t("./api.authType");r.request=function(t){function i(){var e={};c.each(t.data,function(t,n){e[n]=c.isString(t)?t:JSON.stringify(t)});var i={url:s,method:d.api[s].method,headers:{KA:l.KAKAO_AGENT},data:e},r=d.api[s].authType||u.accessToken;return i.headers.Authorization=r(),new Promise(function(e,r){if(n(s)){if(!t.files)throw new l.KakaoError("'files' parameter should be set for "+s);o(t.files).then(function(t){i.file=t,e(i)},function(t){r(t)})}else e(i)})}function o(t){return new Promise(function(e,n){var i=c.map(t,function(t){return l.serializeFile(t).then(function(e){return{name:t.name,type:t.type,str:e}})});Promise.all(i).then(function(t){e({paramName:"file",data:t})},function(t){n(t)})})}function r(t){try{l.logDebug(t);var e=t.message;return JSON.parse(e.responseText)}catch(n){return{code:-777,msg:"Unknown error"}}}t=l.processRules(t,d.request,"API.request");var s=t.url,a=d.api[s].data;return a&&(t.data=l.processRules(t.data,d.api[s].data,"API.request - "+s)),new Promise(function(n,o){i().then(function(i){e().request(i,function(e){t.success(e),t.always(e),n(e)},function(e){var n=r(e);t.fail(n),t.always(n),o(n)})},function(t){o(t)})})},r.createAPIAlias=function(t){return function(e){return e=e||{},c.defaults(e,t),r.request(e)}};var h={permission:c.isOneOf(["A","F","M"]),enable_share:c.isBoolean,android_exec_param:c.isString,ios_exec_param:c.isString,android_market_param:c.isString,ios_market_param:c.isString},p={secure_resource:c.isBoolean},d={request:{required:{url:function(t){return c.isOneOf(c.keys(d.api))(t)}},optional:{data:c.isObject,files:function(t){return c.passesOneOf([c.isArray,c.isFileList])(t)&&c.every(t,c.passesOneOf([c.isFile,c.isBlob]))},success:c.isFunction,fail:c.isFunction,always:c.isFunction},defaults:{data:{},success:c.emptyFunc,fail:c.emptyFunc,always:c.emptyFunc}},api:{"/v1/user/signup":{method:"post",data:{optional:{properties:c.isObject}}},"/v1/user/unlink":{method:"post"},"/v1/user/me":{method:"post",data:{optional:c.extend({propertyKeys:c.isArray},p)}},"/v1/user/logout":{method:"post",data:{}},"/v1/user/update_profile":{method:"post",data:{required:{properties:c.isObject}}},"/v1/api/talk/profile":{method:"get",data:{optional:p}},"/v1/api/talk/memo/send":{method:"post",data:{required:{template_id:c.passesOneOf([c.isNumber,c.isString])},optional:{args:c.isString}}},"/v1/api/story/profile":{method:"get",data:{optional:p}},"/v1/api/story/isstoryuser":{method:"get"},"/v1/api/story/mystory":{method:"get",data:{required:{id:c.isString}}},"/v1/api/story/mystories":{method:"get",data:{optional:{last_id:c.isString}}},"/v1/api/story/linkinfo":{method:"get",data:{required:{url:c.isString}}},"/v1/api/story/post/note":{method:"post",data:{required:{content:i},optional:h}},"/v1/api/story/post/photo":{method:"post",data:{required:{image_url_list:o},optional:c.extend({content:i},h)}},"/v1/api/story/post/link":{method:"post",data:{required:{link_info:c.isObject},optional:c.extend({content:i},h)}},"/v1/api/story/upload/multi":{method:"post",data:{}},"/v1/emoticon/my_items":{method:"get",data:{},authType:u.appKey},"/v1/emoticon/item_resources":{method:"get",data:{required:{id:c.isString}},authType:u.appKey},"/v1/api/story/delete/mystory":{method:"delete",data:{required:{id:c.isString}}},"/v2/emoticon/items":{method:"get",authType:u.tokenOrKey},"/v2/emoticon/item":{method:"get",data:{required:{id:c.passesOneOf([c.isNumber,c.isString])}},authType:u.tokenOrKey},"/v2/emoticon/item_resources":{method:"get",authType:u.tokenOrKey},"/v2/emoticon/item_resource":{method:"get",data:{required:{id:c.passesOneOf([c.isNumber,c.isString])}},authType:u.tokenOrKey},"/v1/s2/publish":{method:"post",data:{required:{timestamp:c.isNumber,from:c.isString,to:c.isString,action:c.isString},defaults:function(){return{timestamp:(new Date).getTime()}},optional:{props:c.isObject},after:function(t){if(JSON.stringify(t).length>9e4)throw new l.KakaoError("Event's length is over 90000 bytes.")}},authType:u.appKey},"/v2/api/kakaolink/talk/template/validate":{method:"get",data:{required:{link_ver:c.isString,template_id:c.isNumber},optional:{template_args:c.isObject}},authType:u.appKey},"/v2/api/kakaolink/talk/template/scrap":{method:"get",data:{required:{link_ver:c.isString,request_url:c.isString},optional:{template_id:c.isNumber,template_args:c.isObject}},authType:u.appKey},"/v1/user/access_token_info":{method:"get",data:{}}}};return r.cleanup=function(){s&&(s.destroy(),s=null)},r}()},{"../vendor/easyXDM.js":20,"../vendor/es6-promise.js":21,"./api.authType":1,"./common.js":7,"./util.js":17}],3:[function(t,e){e.exports=function(){function e(){L&&L.close&&L.close()}function n(t,n){if(!j){if(j=o({},function(n){n.status?"ok"==n.status&&(e(),x.stop(),j.getAccessToken(n.code,w.RUNTIME.appKey,w.URL.talkLoginRedirectUri)):s(n,t)}),w.UA.os.android){var r=function l(e){if(/\.kakao\.com$/.test(e.origin)&&e.data&&e.data.substring(0,a.length)===a){var n=e.data.split(" ");if("postResponse"===n[1]){var i=JSON.parse(decodeURIComponent(n[2]));s(i,t),b.removeEvent(window,"message",l)}else"browser_fallback_url_data"===n[1]&&L.postMessage([a,"browser_fallback_url_data",encodeURIComponent(w.KAKAO_AGENT),location.host].join(" "),w.URL.authDomain)}};b.addEvent(window,"message",r);var a="postProxy"+n;E.push(function(){b.removeEvent(window,"message",r)})}E.push(function(){j.destroy(),j=null})}var c=i(t,n);L=_.login(n,c),x.start(function(){n&&j.getCode(n,w.RUNTIME.appKey)},function(){S("login_time_out"),s({error:"timeout",description:"login timeout. retry."})}),x.setStopCondition(function(){return _.hasWebLoginWindow()})}function i(t,e){function n(){var n=b.extend({redirect_uri:"kakaojs",response_type:"code",state:e,proxy:"easyXDM_Kakao_"+R.channel+"_provider"},l(t));return w.URL.authorize+"?"+b.buildQueryString(n)}return R||(R=o({},function(t){x.stop();var e=r(t,I);s(t,e)}),E.push(function(){R.destroy(),R=null})),I[e]=t,n()}function o(t,e){return b.extend(t,{remote:w.URL.loginWidget,channel:b.getRandomString()}),w.guardCreateEasyXDM(function(){var n=new y.Rpc(t,{local:{postResponse:e,getKakaoAgent:function(){return w.KAKAO_AGENT}},remote:{getCode:{},getAccessToken:{},setClient:{},setStateToken:{},deleteAuthCookie:{}}});return n.channel=t.channel,n})}function r(t,e){if(!b.has(e,t.stateToken))throw new w.KakaoError("security error: #CST2");var n=e[t.stateToken];return delete e[t.stateToken],delete t.stateToken,n}function s(t,e){t.error?a(t):(v.setAccessToken(t.access_token,e.persistAccessToken),T.dispatch("LOGIN")),c(t,e)}function a(t){var e="access_denied";t.error!=e&&v.setAccessToken(null)}function c(t,e){w.logDebug(t),t.error?(e.fail(t),e.always(t)):(e.success(t),e.always(t))}function l(t){var e={client_id:w.RUNTIME.appKey};return t.approvalType&&(e.approval_type=t.approvalType),t.scope&&(e.scope=t.scope),e}function u(t,e){var n=m(e,w.RUNTIME.appKey);b.localStorage.setItem(t,n)}function h(t){var e=b.localStorage.getItem(t);return e?g(e,w.RUNTIME.appKey):null}function p(t){b.localStorage.removeItem(t)}function d(){return D.accessTokenKey||(D.accessTokenKey="kakao_"+f("kat"+w.RUNTIME.appKey)),D.accessTokenKey}function f(t){var e=k.MD5(t);return e.toString()}function m(t,e){var n=k.AES.encrypt(t,e);return n.toString()}function g(t,e){var n=k.AES.decrypt(t,e);return n.toString(k.enc.Utf8)}var v={},y=t("../vendor/easyXDM.js"),k=t("../vendor/CryptoJS.js"),b=t("./util.js"),w=t("./common.js"),_=t("./auth.withTalk.js"),x=t("./auth.withTalk.poller.js"),T=t("./common/everntObserver"),S=t("./common/logger"),E=[],A="_blank",O="kakaostory_channel_select",P="width=380, height=520, scrollbars=yes";v.createLoginButton=function(t){function e(t){if(t.stateToken!==a)throw new w.KakaoError("security error: #CST");return delete t.stateToken,t}function n(){a=b.getRandomString(),c.setStateToken(a)}function i(){var e=l(t);c.setClient(t.lang,t.size,e,function(t){var e=r.getElementsByTagName("iframe")[0];e.style.width=t.width+"px",e.style.height=t.height+"px"})}t=w.processRules(t,K.createLoginButton,"Auth.createLoginButton");var r=b.getElement(t.container);if(!r)throw new w.KakaoError("container is required for Kakao login button: pass in element or id");var a="",c=o({container:r},function(i){e(i),s(i,t),n()});n(),i(),E.push(function(){c.destroy(),c=null})};var I={};v.login=function(t){t=w.processRules(t,K.login,"Auth.login");var e=b.getRandomString()+b.getRandomString();if(S("custom_login"),_.isSupport()&&t.throughTalk)n(t,e);else{var o=i(t,e);w.windowOpen(o,A,P)}T.dispatch("LOGIN_START")};var j,L,R,B,N={};v.selectStoryChannel=function(t){function e(){var e=b.extend({state:n,proxy:"easyXDM_Kakao_"+B.channel+"_provider",token:t.extendedToken||""},l(t));return w.URL.storyChannel+"?"+b.buildQueryString(e)}t=w.processRules(t,K.selectStoryChannel,"Auth.selectStoryChannel"),B||(B=o({},function(t){var e=r(t,N);c(t,e)}),E.push(function(){B.destroy(),B=null}));var n=b.getRandomString();N[n]=t,window.open(e(),O,P)};var C={success:b.emptyFunc,fail:b.emptyFunc,always:b.emptyFunc},U=b.extend({throughTalk:!0,persistAccessToken:!0,persistRefreshToken:!1},C),M={success:b.isFunction,fail:b.isFunction,always:b.isFunction,persistAccessToken:b.isBoolean,persistRefreshToken:b.isBoolean,approvalType:b.isOneOf(["project"]),scope:b.isString,throughTalk:b.isBoolean},K={createLoginButton:{required:{container:b.passesOneOf([b.isElement,b.isString])},optional:b.extend({lang:b.isOneOf(["en","kr"]),size:b.isOneOf(["small","medium","large"])},M),defaults:b.extend({lang:"kr",size:"medium"},U)},login:{optional:M,defaults:U},selectStoryChannel:{optional:{extendedToken:b.isString,success:b.isFunction,fail:b.isFunction,always:b.isFunction},defaults:C}};v.logout=function(t){function e(){var e=o({},b.emptyFunc);e.deleteAuthCookie(function(){e.destroy(),T.dispatch("LOGOUT"),t(!0)},function(){e.destroy(),t(!1)})}t=t||b.emptyFunc,w.validate(t,b.isFunction,"Auth.logout"),v.getAccessToken()?Kakao.API.request({url:"/v1/user/logout",always:function(){v.setAccessToken(null),e()}}):e()},v.setAccessToken=function(t,e){w.RUNTIME.accessToken=t,null===t||e===!1?p(d()):u(d(),t)},v.setRefreshToken=function(){console.log("unsupported operation: setRefreshToken()")},v.getAccessToken=function(){return w.RUNTIME.accessToken||(w.RUNTIME.accessToken=h(d())),w.RUNTIME.accessToken},v.getRefreshToken=function(){return console.log("unsupported operation: getRefreshToken()"),""};var D={};return v.getAppKey=function(){return w.RUNTIME.appKey},v.getStatus=function(t){w.validate(t,b.isFunction,"Auth.getStatus"),v.getAccessToken()?Kakao.API.request({url:"/v1/user/me",success:function(e){t({status:"connected",user:e})},fail:function(){t({status:"not_connected"})}}):t({status:"not_connected"})},v.cleanup=function(){b.each(E,function(t){t()}),E.length=0},v}()},{"../vendor/CryptoJS.js":19,"../vendor/easyXDM.js":20,"./auth.withTalk.js":4,"./auth.withTalk.poller.js":5,"./common.js":7,"./common/everntObserver":9,"./common/logger":10,"./util.js":17}],4:[function(t,e){e.exports=function(){function e(t){return[o.URL.talkLoginScheme,"?","client_id="+o.RUNTIME.appKey,"&","redirect_uri="+encodeURIComponent(o.URL.talkLoginRedirectUri),"&","params="+encodeURIComponent('{"state":"'+t+'"}')].join("")}function n(t,e){return["intent:#Intent","action=com.kakao.talk.intent.action.CAPRI_LOGGED_IN_ACTIVITY","launchFlags=0x14008000","S.com.kakao.sdk.talk.appKey="+o.RUNTIME.appKey,"S.com.kakao.sdk.talk.redirectUri="+o.URL.talkLoginRedirectUri,"S.com.kakao.sdk.talk.state="+t,"S.browser_fallback_url="+encodeURIComponent(e),"end;"].join(";")}var i,o=t("./common.js"),r="_blank",s="width=380, height=520, scrollbars=yes",a=/Version\/4.0|/i.test(o.UA.ua)&&(/Chrome\/30\.0\.0\.0 Mobile/i.test(o.UA.ua)||/; wv\)/i.test(o.UA.ua)),c=/naver\(inapp|fb_iab|daumapps/g.test(o.UA.ua);return{isSupport:function(){var t=9,e=30;return o.UA.os.ios?/safari/.test(o.UA.ua)&&!/CriOS/i.test(o.UA.ua)&&o.UA.browser.version.major>=t:o.UA.os.android?o.UA.browser.chrome&&o.UA.browser.version.major>=e&&(!a||a&&c):!1},login:function(t,c){function l(){var t=40;return o.UA.browser.version.major>t}function u(){setTimeout(function(){i.location.href=c},10)}if(this.isSupport()){if(o.UA.os.ios){var h=e(t);i=o.windowOpen(o.URL.universalKakaoLink+encodeURIComponent(h)+"&web="+encodeURIComponent(c),r,s)}else if(o.UA.os.android){var p=n(t,c);l()&&!a?i=o.windowOpen(p,r,s):(i=o.windowOpen("",r,s),i&&(i.addEventListener("unload",u),i.location.href=p))}return i}},hasWebLoginWindow:function(){try{return i&&i.location&&"about:blank"!=i.location.href?o.UA.os.android?!!i.location.href:!0:!1}catch(t){return!0}}}}()},{"./common.js":7}],5:[function(t,e){e.exports=function(){function t(){return c()?(e(),void 0):(++i>r?(e(),s()):a(),void 0)}function e(){clearInterval(n)}var n,i=0,o=1e3,r=30,s=function(){},a=function(){},c=function(){return!1};return{start:function(r,c){i=0,"function"==typeof r&&(a=r),"function"==typeof c&&(s=c),n&&e(),n=setInterval(t,o)},stop:function(){e()},setStopCondition:function(t){"function"==typeof t&&(c=t)}}}()},{}],6:[function(t,e){e.exports=function(){var e=t("../vendor/userAgent.js");return{getOrigin:function(){return location.protocol+"//"+location.hostname+(location.port?":"+location.port:"")},getNavigator:function(){return navigator},getUA:function(){return e()}}}()},{"../vendor/userAgent.js":22}],7:[function(t,e){e.exports=function(){var e={},n=t("./util.js"),i=t("./browserProxy.js"),o=i.getOrigin();e.VERSION="1.9.1",e.KAKAO_AGENT="sdk/"+e.VERSION+" os/javascript lang/"+(i.getNavigator().userLanguage||i.getNavigator().language)+" device/"+i.getNavigator().platform.replace(/ /g,"_")+" origin/"+encodeURIComponent(o),e.URL={authorize:"https://kauth.kakao.com/oauth/authorize",loginWidget:"https://kauth.kakao.com/public/widget/login/kakaoLoginWidget.html",apiRemote:"https://kapi.kakao.com/cors/",storyChannel:"https://kauth.kakao.com/story/select_channel",storyShare:"https://story.kakao.com/s/share",channelFollow:"https://story.kakao.com/s/follow",storyIcon:"//dev.kakao.com/sdk/js/resources/story/icon_small.png",universalKakaoLink:"https://talk-apps.kakao.com/scheme/",talkLoginScheme:"kakaokompassauth://authorize",talkLoginRedirectUri:"https://kapi.kakao.com/cors/afterlogin.html",authDomain:"https://kauth.kakao.com",stat:"https://apps.kakao.com/sdk/js",navi:"kakaonavi-sdk://navigate",naviShare:"kakaonavi-sdk://sharePoi",naviWeb:"https://kakaonavi-wguide.kakao.com/openapi"},e.RUNTIME={appKey:"",accessToken:""},e.DUMMY_KEY="YOUR APP KEY",e.UA=i.getUA();var r=function(t){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=t};return r.prototype=new Error,e.KakaoError=r,e.isDebug=function(){return!1},e.logDebug=function(t){e.isDebug()&&window.console&&console.log(JSON.stringify(t))},e.validate=function(t,e,n){if(e(t)!==!0)throw new r("Illegal argument for "+n)},e.processRules=function(t,i,o){t=t||{},i.before&&i.before(t),n.isFunction(i.defaults)?n.defaults(t,i.defaults(t)):n.defaults(t,i.defaults);var s=i.required||{},a=n.difference(n.keys(s),n.keys(t));if(a.length)throw new r("Missing required keys: "+a.join(",")+" at "+o);var c=i.optional||{},l=n.extend({},s,c),u=n.difference(n.keys(t),n.keys(l));if(u.length)throw new r("Invalid parameter keys: "+u.join(",")+" at "+o);return n.each(t,function(t,n){var i=l[n];e.validate(t,i,'"'+n+'" in '+o)}),i.after&&i.after(t),t},e.getInstallUrl=function(t,n){if(e.UA.os.android){var i={appkey:e.RUNTIME.appKey,KA:e.KAKAO_AGENT};return"market://details?id="+t+"&referrer="+JSON.stringify(i)}return e.UA.os.ios?"https://itunes.apple.com/app/id"+n:location.href},e.isRetinaDisplay=function(){var t="(-webkit-min-device-pixel-ratio: 1.5), (min--moz-device-pixel-ratio: 1.5), (-o-min-device-pixel-ratio: 3/2), (min-resolution: 1.5dppx)";return window.devicePixelRatio>1?!0:window.matchMedia&&window.matchMedia(t).matches?!0:!1},e.createHiddenIframe=function(t,e){var n=document.getElementById(t);return null!==n&&n.parentNode.removeChild(n),n=document.createElement("iframe"),n.id=t,n.style.border="none",n.style.display="none",n.style.width="0px",n.style.height="0px",n.src=e,n},e.guardCreateEasyXDM=function(t){try{return t()}catch(e){throw e instanceof TypeError?new r("kakao.js should be loaded from a web server"):new r("EasyXDM -"+e.message)}},e.serializeFile=function(t){return new Promise(function(e,i){"undefined"==typeof FileReader&&i(new r("File API is not supported for this browser."));var o=new FileReader;o.onload=function(t){try{e(n.arrayBufferToString(t.target.result))}catch(t){i(t)}},o.onerror=function(){i(new r("Cannot read file: "+t.name))},o.readAsArrayBuffer(t)})},e.popupWindows={},e.windowOpen=function(t,n,i){var o=e.popupWindows[n];return o&&o.close&&!o.closed&&o.close(),e.popupWindows[n]=window.open(t,n,i),e.popupWindows[n]},e}()},{"./browserProxy.js":6,"./util.js":17}],8:[function(t,e){e.exports=function(){var t=function(t){Error.prototype.constructor.apply(this,arguments),this.name="KakaoError",this.message=t};return t.prototype=new Error,t}()},{}],9:[function(t,e){e.exports=function(){var e=t("../util"),n={};return{subscribe:function(t,e){n[t]||(n[t]=[]),n[t].push(e)},unsubscribe:function(t,e){for(var i=n[t],o=0;o<l.length;o++)if(i[m]===e){i.splice(m,1);break}},dispatch:function(t){var i=n[t];i&&i.length&&e.each(i,function(t){t()})}}}()},{"../util":17}],10:[function(t,e){e.exports=function(){var e=t("../common.js");return function(t,n){setTimeout(function(){var i={v:e.VERSION,t:(new Date).getTime(),k:e.RUNTIME.appKey,m:t||""};n&&(i.e=n),(new Image).src=e.URL.stat+"?"+escape(JSON.stringify(i))},0)}}()},{"../common.js":7}],11:[function(t,e){e.exports=function(e,n,i){var o=t("../util.js"),r=t("./KakaoError"),s=t("./validate");e=e||{},n.before&&n.before(e),o.isFunction(n.defaults)?o.defaults(e,n.defaults(e)):o.defaults(e,n.defaults);var a=n.required||{},c=o.difference(o.keys(a),o.keys(e));if(c.length)throw new r("Missing required keys: "+c.join(",")+" at "+i);var l=n.optional||{},u=o.extend({},a,l),h=o.difference(o.keys(e),o.keys(u));if(h.length)throw new r("Invalid parameter keys: "+h.join(",")+" at "+i);return o.each(e,function(t,e){var n=u[e];s(t,n,'"'+e+'" in '+i)}),n.after&&n.after(e),e}},{"../util.js":17,"./KakaoError":8,"./validate":12}],12:[function(t,e){e.exports=function(e,n,i){var o=t("./KakaoError");if(n(e)!==!0)throw new o("Illegal argument for "+i)}},{"./KakaoError":8}],13:[function(t,e){e.exports=function(){function e(t,e){var n=new f;return n.forwardable=t.forwardable,n.extras=c.extend(n.extras,t.extras),c.each(t,function(t,i){var o=p.create(t,i,e);o&&n.objs.push(o)}),y+"://send?"+c.buildQueryString(n)}function n(t){return Kakao.API.request({url:"/v2/api/kakaolink/talk/template/validate",data:{link_ver:"4.0",template_id:t.templateId,template_args:t.templateArgs}}).then(function(e){var n={template_msg:e.template_msg||{},warning_msg:e.warning_msg||{},argument_msg:e.argument_msg||{}};t.always(n),t.success(n);var i=new m;i.extras=c.extend(i.extras,t.extras),i.template_json=e.template_msg,i.template_args=t.templateArgs,i.template_id=t.templateId;var r=y+"://send?"+c.buildQueryString(i);if(r.length>1e4)throw new l.KakaoError("Failed to send message because it exceeds the message size limit. Please contact the app administrator.");return o(r,t.fail,t.installTalk),n},function(t){throw d("talklink_4_0_error",t.message||t),t})}function i(t){var e={link_ver:"4.0",request_url:t.requestUrl};return t.templateId&&(e.template_id=t.templateId),t.templateArgs&&(e.template_args=t.templateArgs),Kakao.API.request({url:"/v2/api/kakaolink/talk/template/scrap",data:e}).then(function(e){var n={template_id:e.template_id||-1,template_args:e.template_args||{},template_msg:e.template_msg||{},warning_msg:e.warning_msg||{},argument_msg:e.argument_msg||{}};t.always(n),t.success(n);var i=new m;i.extras=c.extend(i.extras,t.extras),i.template_json=e.template_msg,i.template_args=e.template_args,i.template_id=e.template_id;var r=y+"://send?"+c.buildQueryString(i);if(r.length>1e4)throw new l.KakaoError("Failed to send message because it exceeds the message size limit. Please contact the app administrator.");return o(r,t.fail,t.installTalk),n},function(t){throw d("talklink_scrap_4_0_error",t.message||t),t})}function o(t,e,n){var i={urlScheme:t,intentURI:"intent:"+t+"#Intent;package=com.kakao.talk;end;",appName:"KakaoTalk",storeURL:l.getInstallUrl(r,s),onUnsupportedEnvironment:function(){e(t)}};(!n||h.isIOSKakaoTalkWebView()||h.isAndroidWebView())&&(i.onAppMissing=c.emptyFunc),h.isIOSKakaoTalkWebView()&&(i.universalLink=void 0);try{d("send_link"),u(i)}catch(o){setTimeout(function(){d("send_link_error",o.message||o)},0)}}var r="com.kakao.talk",s="362057947",a={},c=t("./util.js"),l=t("./common.js"),u=t("../vendor/web2app.js"),h=t("./webviewchecker.js")(),p=t("./link.obj.js"),d=t("./common/logger"),f=function(){this.appkey=l.RUNTIME.appKey,this.appver="1.0",this.apiver="3.0",this.linkver="3.5",this.extras={KA:l.KAKAO_AGENT},this.objs=[]},m=function(){this.appkey=l.RUNTIME.appKey,this.appver="1.0",this.linkver="4.0",this.template_json={},this.template_args={},this.template_id="",this.extras={KA:l.KAKAO_AGENT}},g=[];a.createTalkLink=a.createTalkLinkButton=function(t){t=l.processRules(t,v.createTalkLink,"Link.createTalkLink");var n=c.getElement(t.container);if(!n)throw new l.KakaoError("container is required for KakaoTalk Link: pass in element or id");var i=function(){var n=e(t,"Link.createTalkLink");o(n,t.fail,t.installTalk)};c.addEvent(n,"click",i),g.push(function(){c.removeEvent(n,"click",i)})},a.createTalkLinkWithTemplate=a.createTalkLinkButtonWithTemplate=function(t){t=l.processRules(t,v.createTalkLinkWithTemplate,"Link.createTalkLinkWithTemplate");var e=c.getElement(t.container);if(!e)throw new l.KakaoError("container is required for KakaoTalk Link: pass in element or id");var i=function(){n(t,"Link.createTalkLinkWithTemplate")};c.addEvent(e,"click",i),g.push(function(){c.removeEvent(e,"click",i)})},a.createScrapkWithTemplate=a.createScrapButtonWithTemplate=function(t){t=l.processRules(t,v.createScrapkWithTemplate,"Link.createScrapkWithTemplate");var e=c.getElement(t.container);if(!e)throw new l.KakaoError("container is required for KakaoTalk Link(scrap): pass in element or id");var n=function(){i(t,"Link.createScrapkWithTemplate")};c.addEvent(e,"click",n),g.push(function(){c.removeEvent(e,"click",n)})},a.sendTalkLink=function(t){t=l.processRules(t,v.talkLink,"Link.sendTalkLink");var n=e(t,"Link.sendTalkLink");o(n,t.fail,t.installTalk)},a.sendTalkLinkWithTemplate=function(t){var t=l.processRules(t,v.talkLinkWithTemplate,"Link.sendTalkLinkWithTemplate");return n(t,"Link.sendTalkLinkWithTemplate")},a.sendScrapWithTemplate=function(t){var t=l.processRules(t,v.scrapWithTemplate,"Link.sendScrapWithTemplate");return i(t,"Link.sendScrapWithTemplate")};var v={talkLink:{optional:{label:c.passesOneOf([c.isString,c.isObject]),image:c.isObject,webImage:c.isObject,webButton:c.isObject,webLink:c.isObject,appButton:c.isObject,appLink:c.isObject,horizontalButton:c.isArray,fail:c.isFunction,installTalk:c.isBoolean,forwardable:c.isBoolean,extras:c.isObject},before:function(t){c.isString(t.label)&&(t.label={text:t.label})},defaults:{installTalk:!0,forwardable:!1,fail:c.emptyFunc}},talkLinkWithTemplate:{required:{templateId:c.isNumber},optional:{templateArgs:c.isObject,templateJson:c.isObject,installTalk:c.isBoolean,fail:c.isFunction,always:c.isFunction,success:c.isFunction,extras:c.isObject},defaults:{templateArgs:{},installTalk:!0,fail:c.emptyFunc,always:c.emptyFunc,success:c.emptyFunc}},scrapWithTemplate:{required:{requestUrl:c.isString},optional:{templateId:c.isNumber,templateArgs:c.isObject,installTalk:c.isBoolean,fail:c.isFunction,always:c.isFunction,success:c.isFunction,extras:c.isObject},defaults:{templateArgs:{},installTalk:!0,fail:c.emptyFunc,always:c.emptyFunc,success:c.emptyFunc}}};v.createTalkLink=c.extend({required:{container:c.passesOneOf([c.isElement,c.isString])}},v.talkLink),v.createTalkLinkWithTemplate=c.defaults({required:{templateId:c.isNumber,container:c.passesOneOf([c.isElement,c.isString])}},v.talkLinkWithTemplate),v.createScrapkWithTemplate=c.defaults({required:{requestUrl:c.isString,container:c.passesOneOf([c.isElement,c.isString])}},v.scrapWithTemplate);var y=function(){var t="release";return!l.UA.os.ios||"alpha"!==t&&"sandbox"!==t?"kakaolink":"alphalink"}();return a.cleanup=function(){c.each(g,function(t){t()}),g.length=0},a}()},{"../vendor/web2app.js":23,"./common.js":7,"./common/logger":10,"./link.obj.js":14,"./util.js":17,"./webviewchecker.js":18}],14:[function(t,e){e.exports=function(){function e(t){var e=parseInt(t,10);if(isNaN(e)||80>e)throw new h("Illegal argument for image: width/height should be a number larger than 80");return!0}function n(t){t.width=parseInt(t.width,10),t.height=parseInt(t.height,10)}function i(t){var e=u.keys(t)[0];return"webButton"===e?p(t.webButton,m[e],"parameter webButton in Link.createTalkLink"):p(t.appButton,m[e],"parameter appButton in Link.createTalkLink"),!0}function o(t){var e=u.keys(t[0]),n=u.keys(t[1]),i=t[0][e],o=t[1][n];return{objtype:"horizontal",subs:[{objtype:"button",text:i.text,action:l(i.type,i)},{objtype:"button",text:o.text,action:l(o.type,o)}],disptype:"both"}}function r(t){return{objtype:"label",text:t.text,disptype:t.displayType}}function s(t,e){return{objtype:"image",src:e.src,width:e.width,height:e.height,action:l(t,e),disptype:e.displayType}}function a(t,e){return{objtype:"button",text:e.text,action:l(t,e),disptype:e.displayType}}function c(t,e){return{objtype:"link",text:e.text,action:l(t,e),disptype:e.displayType}}function l(t,e){function n(){function t(t){return t.indexOf("://")>-1?t:"http://"+t}return{type:e.type,url:e.url?t(e.url):void 0,auth:e.auth}}function i(){function t(t,e){var n={android:{os:"android"},iphone:{os:"ios",devicetype:"phone"},ipad:{os:"ios",devicetype:"pad"}};t&&(t=p(t,g,"execParams in Kakao.Link")),e&&(e=p(e,g,"marketParams in Kakao.Link"));var i=[];return u.each(n,function(n,o){var r=u.extend({},n);t&&t[o]&&(r.execparam=u.buildQueryString(t[o],!1)),e&&e[o]&&(r.marketparam=u.buildQueryString(e[o],!1)),(r.execparam||r.marketparam)&&i.push(r)}),i}return{type:"app",url:e.webUrl,actioninfo:t(e.execParams,e.marketParams)}}switch(t){case"web":return n();case"app":return i();default:return void 0}}var u=t("./util.js"),h=t("./common/KakaoError"),p=t("./common/ruleProcess"),d={WEB:"web",INWEB:"inweb",APP:"app"},f={displayType:u.isOneOf(["both","sender","receiver"])},m={label:{required:{text:u.isString},optional:f,builder:r},image:{required:{src:u.isString,width:e,height:e},optional:f,before:n,builder:u.partial(s,null)},webImage:{required:{src:u.isString,width:e,height:e},optional:u.extend({url:u.isString,auth:u.isBoolean,type:u.isOneOf([d.WEB,d.INWEB])},f),defaults:{type:d.WEB},before:n,builder:u.partial(s,"web")},webButton:{optional:u.extend({text:u.isString,url:u.isString,auth:u.isBoolean,type:u.isOneOf(["web","inweb"])},f),defaults:{type:"web"},builder:u.partial(a,"web")},appButton:{optional:u.extend({text:u.isString,webUrl:u.isString,execParams:u.isObject,marketParams:u.isObject,type:u.isString},f),defaults:{type:"app"},builder:u.partial(a,"app")},webLink:{required:{text:u.isString},optional:u.extend({url:u.isString,auth:u.isBoolean,type:u.isOneOf(["web","inweb"])},f),defaults:{type:"web"},builder:u.partial(c,"web")},appLink:{required:{text:u.isString},optional:u.extend({webUrl:u.isString,execParams:u.isObject,marketParams:u.isObject},f),builder:u.partial(c,"app")},horizontalButton:{required:{0:i,1:i},builder:o}},g={optional:{iphone:u.isObject,ipad:u.isObject,android:u.isObject}};return{create:function(t,e,n){var i=m[e];return i?(t=p(t,i,"parameter '"+e+"' in "+(n||"Link")),i.builder(t)):void 0}}}()},{"./common/KakaoError":8,"./common/ruleProcess":11,"./util.js":17}],15:[function(t,e){e.exports=function(){function e(t){var e=new l;return e.param={destination:u.spot.destinationBuilder(t),option:"{}"===JSON.stringify(u.spot.optionBuilder(t))?void 0:u.spot.optionBuilder(t),via_list:t.viaPoints},o.URL.navi+"?"+i.buildQueryString(e)}function n(t){var e=new l;return e.param={destination:h.spot.destinationBuilder(t),option:"{}"===JSON.stringify(h.spot.optionBuilder(t))?void 0:h.spot.optionBuilder(t)},e.scheme_type="sharePoi",o.URL.naviShare+"?"+i.buildQueryString(e)}var i=t("./util.js"),o=t("./common"),r=t("./common/ruleProcess"),s=t("../vendor/web2app.js"),a="com.locnall.KimGiSa",c={};c.start=function(t){t=r(t,u.spot);var n=e(t),i=encodeURIComponent(n.replace(o.URL.navi,o.URL.naviWeb));s({urlScheme:n,intentURI:"intent:"+n+"#Intent;package="+a+";S.browser_fallback_url="+i+";end;",storeURL:n.replace(o.URL.navi,o.URL.naviWeb),universalLink:n.replace(o.URL.navi,o.URL.naviWeb)})},c.share=function(t){t=r(t,h.spot);var e=n(t),i=encodeURIComponent(e.replace(o.URL.naviShare,o.URL.naviWeb));s({urlScheme:e,intentURI:"intent:"+e+"#Intent;package="+a+";S.browser_fallback_url="+i+";end;",storeURL:e.replace(o.URL.naviShare,o.URL.naviWeb),universalLink:e.replace(o.URL.naviShare,o.URL.naviWeb)})};var l=function(){this.appkey=o.RUNTIME.appKey,this.apiver="1.0",this.extras={KA:o.KAKAO_AGENT}},u={spot:{required:{name:i.isString,x:i.isNumber,y:i.isNumber},optional:{coordType:i.isOneOf(["wgs84","katec"]),vehicleType:i.isOneOf([1,2,3,4,5,6,7]),rpOption:i.isOneOf([1,2,3,4,5,6,8]),routeInfo:i.isBoolean,sX:i.isNumber,sY:i.isNumber,sAngle:i.isNumber,returnUri:i.isString,rpflag:i.isString,cid:i.isString,guideId:i.isNumber,viaPoints:function(t){if(!i.isArray(t))return!1;if(t.length>3)throw new Error("via points should not be exceed 3");return i.each(t,function(t){return r(t,u.viaPoint)}),!0}},destinationBuilder:function(t){return{name:t.name,x:t.x,y:t.y,rpflag:t.rpflag,cid:t.cid,guide_id:t.guideId}},optionBuilder:function(t){return{coord_type:t.coordType,vehicle_type:t.vehicleType,rpoption:t.rpOption,route_info:t.routeInfo,s_x:t.sX,s_y:t.sY,s_angle:t.sAngle,return_uri:t.returnUri}}},viaPoint:{required:{name:i.isString,x:i.isNumber,y:i.isNumber},optional:{rpflag:i.isString,cid:i.isString}}},h={spot:{required:{name:i.isString,x:i.isNumber,y:i.isNumber},optional:{coordType:i.isOneOf(["wgs84","katec"]),rpflag:i.isString,cid:i.isString,guideId:i.isNumber},destinationBuilder:function(t){return{name:t.name,x:t.x,y:t.y,rpflag:t.rpflag,cid:t.cid,guide_id:t.guideId}
},optionBuilder:function(t){return{coord_type:t.coordType}}}};return c}()},{"../vendor/web2app.js":23,"./common":7,"./common/ruleProcess":11,"./util.js":17}],16:[function(t,e){e.exports=function(){function e(t,e){var n={url:t};return e&&(n.text=e),s.extend(n,o()),a.URL.storyShare+"?"+s.buildQueryString(n)}function n(t,e,n,i){var r={post:t,appver:a.VERSION,appid:e,apiver:"1.0",appname:n};return i&&(r.urlinfo=i),s.extend(r,o()),"storylink://posting?"+s.buildQueryString(r)}function i(t,e){var n={id:t.id,type:t.type,hideFollower:!t.showFollowerCount,frameId:e};return s.extend(n,o()),a.URL.channelFollow+"?"+s.buildQueryString(n)}function o(){var t={kakao_agent:a.KAKAO_AGENT};return a.RUNTIME.appKey&&(t.app_key=a.RUNTIME.appKey),t}var r={},s=t("./util.js"),a=t("./common.js"),c=t("../vendor/web2app.js"),l="kakaostory_social_plugin",u="width=670, height=471",h=[];r.createShareButton=function(t){t=a.processRules(t,d.createShareButton,"Story.createShareButton");var n=s.getElement(t.container);if(!n)throw new a.KakaoError("container is required for KakaoStory share button: pass in element or id");var i=document.createElement("a"),o=document.createElement("img");i.appendChild(o);var r=e(t.url,t.text);i.setAttribute("href",r),i.setAttribute("target","_blank");var c=function(t){t.preventDefault?t.preventDefault():t.returnValue=!1,a.windowOpen(r,l,u)};s.addEvent(i,"click",c);var p=function(){s.removeEvent(i,"click",c),n.removeChild(i)};h.push(p),o.onload=function(t){var e,r;n.appendChild(i),a.UA.browser.msie&&parseInt(a.UA.browser.version.major)<=10?(e=o.width,r=o.height):(e=t.target.width,r=t.target.height),o.width=e,o.height=r},o.src=a.URL.storyIcon},r.share=function(t){t=a.processRules(t,d.share,"Story.share");var n=e(t.url,t.text);a.windowOpen(n,l,u)},r.open=function(t){t=a.processRules(t,d.open,"Story.open");var e,i,o=(t.text?t.text+"\n":"")+(t.url||""),r=location.hostname||"";t.urlInfo&&(e=a.processRules(t.urlInfo,d.openUrlInfo,"Story.open"),i=e.name||"");var s=n(o,r,i||r,JSON.stringify(e)),l={urlScheme:s,intentURI:"intent:"+s+"#Intent;package=com.kakao.story;end;",appname:"KakaoStory",storeURL:a.getInstallUrl("com.kakao.story","486244601"),onUnsupportedEnvironment:function(){t.fail&&t.fail()}};c(l)};var p=0;r.createFollowButton=function(t){t=a.processRules(t,d.createFollowButton,"Story.createFollowButton");var e=s.getElement(t.container);if(!e)throw new a.KakaoError("container is required for KakaoStory follow button: pass in element or id");var n=document.createElement("iframe"),o=p++;n.src=i(t,o),n.setAttribute("frameborder","0"),n.setAttribute("marginwidth","0"),n.setAttribute("marginheight","0"),n.setAttribute("scrolling","no");var r=t.showFollowerCount&&"horizontal"===t.type?85:59,c=t.showFollowerCount&&"vertical"===t.type?46:20;n.style.width=r+"px",n.style.height=c+"px";var l=function(t){if(t.data&&/\.kakao\.com$/.test(t.origin)){var e=t.data.split(","),i=parseInt(e[0],10),s=parseInt(e[1],10),a=parseInt(e[2],10);if(i!==o)return;r!==s&&(r=s,n.style.width=s+"px"),c!==a&&(c=a,n.style.height=a+"px")}};e.appendChild(n),s.addEvent(window,"message",l);var u=function(){s.removeEvent(window,"message",l),e.removeChild(n)};h.push(u)};var d={createShareButton:{required:{container:s.passesOneOf([s.isElement,s.isString])},optional:{url:s.isString,text:s.isString},defaults:function(t){var e=s.getElement(t.container);return e?{url:e.getAttribute("data-url")||location.href}:null}},share:{optional:{url:s.isString,text:s.isString},defaults:{url:location.href}},open:{optional:{url:s.isString,text:s.isString,urlInfo:s.isObject},defaults:{url:location.href}},openUrlInfo:{required:{title:s.isString},optional:{desc:s.isString,name:s.isString,images:s.isArray,imageurl:s.isArray,type:s.isString},defaults:{type:"website"},before:function(t){t.images&&(t.imageurl=t.images,delete t.images)}},createFollowButton:{required:{container:s.passesOneOf([s.isElement,s.isString]),id:s.isString},optional:{type:s.isOneOf(["horizontal","vertical"]),showFollowerCount:s.isBoolean},defaults:function(t){var e=s.getElement(t.container);if(e){var n={type:e.getAttribute("data-type")||"horizontal",showFollowerCount:"false"!==e.getAttribute("data-show-follower-count")},i=e.getAttribute("data-id");return i&&(n.id=i),n}return null},after:function(t){"@"!==t.id.substr(0,1)&&(t.id="@"+t.id)}}};return r.cleanup=function(){s.each(h,function(t){t()}),h.length=0},r}()},{"../vendor/web2app.js":23,"./common.js":7,"./util.js":17}],17:[function(t,e){/*!
       * underscore
       * https://github.com/jashkenas/underscore
       * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       * MIT License
       */
e.exports=function(){var t={},e={},n=Array.prototype,i=Object.prototype,o=n.slice,r=n.concat,s=i.toString,a=i.hasOwnProperty,c=n.forEach,l=n.map,u=n.filter,h=n.every,p=n.some,d=n.indexOf,f=Array.isArray,m=Object.keys,g=t.each=function(n,i,o){if(null==n)return n;if(c&&n.forEach===c)n.forEach(i,o);else if(n.length===+n.length){for(var r=0,s=n.length;s>r;r++)if(i.call(o,n[r],r,n)===e)return}else for(var a=t.keys(n),r=0,s=a.length;s>r;r++)if(i.call(o,n[a[r]],a[r],n)===e)return;return n};t.map=function(t,e,n){var i=[];return null==t?i:l&&t.map===l?t.map(e,n):(g(t,function(t,o,r){i.push(e.call(n,t,o,r))}),i)},t.filter=function(t,e,n){var i=[];return null==t?i:u&&t.filter===u?t.filter(e,n):(g(t,function(t,o,r){e.call(n,t,o,r)&&i.push(t)}),i)},t.every=function(n,i,o){i||(i=t.identity);var r=!0;return null==n?r:h&&n.every===h?n.every(i,o):(g(n,function(t,n,s){return(r=r&&i.call(o,t,n,s))?void 0:e}),!!r)};var v=t.any=function(n,i,o){i||(i=t.identity);var r=!1;return null==n?r:p&&n.some===p?n.some(i,o):(g(n,function(t,n,s){return r||(r=i.call(o,t,n,s))?e:void 0}),!!r)};return t.contains=function(t,e){return null==t?!1:d&&t.indexOf===d?-1!=t.indexOf(e):v(t,function(t){return t===e})},t.difference=function(e){var i=r.apply(n,o.call(arguments,1));return t.filter(e,function(e){return!t.contains(i,e)})},t.partial=function(e){var n=o.call(arguments,1);return function(){for(var i=0,o=n.slice(),r=0,s=o.length;s>r;r++)o[r]===t&&(o[r]=arguments[i++]);for(;i<arguments.length;)o.push(arguments[i++]);return e.apply(this,o)}},t.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},t.keys=function(e){if(!t.isObject(e))return[];if(m)return m(e);var n=[];for(var i in e)t.has(e,i)&&n.push(i);return n},t.extend=function(t){return g(o.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},t.defaults=function(t){return g(o.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},t.isElement=function(t){return!(!t||1!==t.nodeType)},t.isArray=f||function(t){return"[object Array]"==s.call(t)},t.isObject=function(t){return t===Object(t)},g(["Arguments","Function","String","Number","Date","RegExp","Blob","File","FileList"],function(e){t["is"+e]=function(t){return s.call(t)=="[object "+e+"]"}}),t.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==s.call(t)},t.has=function(t,e){return a.call(t,e)},t.identity=function(t){return t},t.emptyFunc=function(){},t.getElement=function(e){return t.isElement(e)?e:t.isString(e)?document.querySelector(e):null},t.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},t.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},t.buildQueryString=function(e,n){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];t.isObject(r)&&(r=JSON.stringify(r));var s=n===!1?o:encodeURIComponent(o),a=n===!1?r:encodeURIComponent(r);i.push(s+"="+a)}return i.join("&")},t.getRandomString=function(){return Math.random().toString(36).slice(2)},t.nullify=function(e){t.each(e,function(t,n){e[n]=null})},t.isOneOf=function(e){return t.partial(t.contains,e)},t.passesOneOf=function(e){if(!t.isArray(e))throw new Error("validators should be an Array");return function(n){return t.any(e,function(t){return t(n)})}},t.isURL=function(t){var e=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/;return e.test(t)},t.arrayBufferToString=function(t){var e,n,i,o="",r=new Uint8Array(t),s=r.length,a=Math.pow(2,16);for(e=0;s>e;e+=a)n=Math.min(a,s-e),i=r.subarray(e,e+n),o+=String.fromCharCode.apply(null,i);return o},t.localStorage=function(){var t={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}};try{return"localStorage"in window?(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage):t}catch(e){return t}}(),t}()},{}],18:[function(t,e){e.exports=function(){function e(){return/Version\/\d+\.\d+/i.test(o.ua)&&(/Chrome\/\d+\.\d+\.\d+\.\d+ Mobile/i.test(o.ua)||/; wv\)/i.test(o.ua))}function n(){return 4==o.os.version.major&&o.os.version.minor<4&&/Version\/\d+.\d+|/i.test(o.ua)}function i(){return 2==o.os.version.major&&/Version\/\d+.\d+|/i.test(o.ua)}var o=t("../vendor/userAgent.js")();return{isAndroidWebView:function(){return o.os.android&&(i()||n()||e())},isIOSKakaoTalkWebView:function(){return o.os.ios&&/KAKAOTALK/i.test(o.ua)}}}},{"../vendor/userAgent.js":22}],19:[function(t,e){e.exports=function(){/*!
         * crypto-js
         * https://github.com/brix/crypto-js
         * Copyright 2009-2013 Jeff Mott
         * Copyright 2013-2016 Evan Vosberg
         * MIT License
        */
var t=t||function(t,e){var n={},i=n.lib={},o=function(){},r=i.Base={extend:function(t){o.prototype=this;var e=new o;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},s=i.WordArray=r.extend({init:function(t,n){t=this.words=t||[],this.sigBytes=n!=e?n:4*t.length},toString:function(t){return(t||c).stringify(this)},concat:function(t){var e=this.words,n=t.words,i=this.sigBytes;if(t=t.sigBytes,this.clamp(),i%4)for(var o=0;t>o;o++)e[i+o>>>2]|=(n[o>>>2]>>>24-8*(o%4)&255)<<24-8*((i+o)%4);else if(65535<n.length)for(o=0;t>o;o+=4)e[i+o>>>2]=n[o>>>2];else e.push.apply(e,n);return this.sigBytes+=t,this},clamp:function(){var e=this.words,n=this.sigBytes;e[n>>>2]&=4294967295<<32-8*(n%4),e.length=t.ceil(n/4)},clone:function(){var t=r.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var n=[],i=0;e>i;i+=4)n.push(4294967296*t.random()|0);return new s.init(n,e)}}),a=n.enc={},c=a.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;t>i;i++){var o=e[i>>>2]>>>24-8*(i%4)&255;n.push((o>>>4).toString(16)),n.push((15&o).toString(16))}return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;e>i;i+=2)n[i>>>3]|=parseInt(t.substr(i,2),16)<<24-4*(i%8);return new s.init(n,e/2)}},l=a.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var n=[],i=0;t>i;i++)n.push(String.fromCharCode(e[i>>>2]>>>24-8*(i%4)&255));return n.join("")},parse:function(t){for(var e=t.length,n=[],i=0;e>i;i++)n[i>>>2]|=(255&t.charCodeAt(i))<<24-8*(i%4);return new s.init(n,e)}},u=a.Utf8={stringify:function(t){try{return decodeURIComponent(escape(l.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return l.parse(unescape(encodeURIComponent(t)))}},h=i.BufferedBlockAlgorithm=r.extend({reset:function(){this._data=new s.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=u.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var n=this._data,i=n.words,o=n.sigBytes,r=this.blockSize,a=o/(4*r),a=e?t.ceil(a):t.max((0|a)-this._minBufferSize,0);if(e=a*r,o=t.min(4*e,o),e){for(var c=0;e>c;c+=r)this._doProcessBlock(i,c);c=i.splice(0,e),n.sigBytes-=o}return new s.init(c,o)},clone:function(){var t=r.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});i.Hasher=h.extend({cfg:r.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){h.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,n){return new t.init(n).finalize(e)}},_createHmacHelper:function(t){return function(e,n){return new p.HMAC.init(t,n).finalize(e)}}});var p=n.algo={};return n}(Math);return function(){var e=t,n=e.lib.WordArray;e.enc.Base64={stringify:function(t){var e=t.words,n=t.sigBytes,i=this._map;t.clamp(),t=[];for(var o=0;n>o;o+=3)for(var r=(e[o>>>2]>>>24-8*(o%4)&255)<<16|(e[o+1>>>2]>>>24-8*((o+1)%4)&255)<<8|e[o+2>>>2]>>>24-8*((o+2)%4)&255,s=0;4>s&&n>o+.75*s;s++)t.push(i.charAt(r>>>6*(3-s)&63));if(e=i.charAt(64))for(;t.length%4;)t.push(e);return t.join("")},parse:function(t){var e=t.length,i=this._map,o=i.charAt(64);o&&(o=t.indexOf(o),-1!=o&&(e=o));for(var o=[],r=0,s=0;e>s;s++)if(s%4){var a=i.indexOf(t.charAt(s-1))<<2*(s%4),c=i.indexOf(t.charAt(s))>>>6-2*(s%4);o[r>>>2]|=(a|c)<<24-8*(r%4),r++}return n.create(o,r)},_map:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/="}}(),function(e){function n(t,e,n,i,o,r,s){return t=t+(e&n|~e&i)+o+s,(t<<r|t>>>32-r)+e}function i(t,e,n,i,o,r,s){return t=t+(e&i|n&~i)+o+s,(t<<r|t>>>32-r)+e}function o(t,e,n,i,o,r,s){return t=t+(e^n^i)+o+s,(t<<r|t>>>32-r)+e}function r(t,e,n,i,o,r,s){return t=t+(n^(e|~i))+o+s,(t<<r|t>>>32-r)+e}for(var s=t,a=s.lib,c=a.WordArray,l=a.Hasher,a=s.algo,u=[],h=0;64>h;h++)u[h]=4294967296*e.abs(e.sin(h+1))|0;a=a.MD5=l.extend({_doReset:function(){this._hash=new c.init([1732584193,4023233417,2562383102,271733878])},_doProcessBlock:function(t,e){for(var s=0;16>s;s++){var a=e+s,c=t[a];t[a]=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8)}var s=this._hash.words,a=t[e+0],c=t[e+1],l=t[e+2],h=t[e+3],p=t[e+4],d=t[e+5],f=t[e+6],m=t[e+7],g=t[e+8],v=t[e+9],y=t[e+10],k=t[e+11],b=t[e+12],w=t[e+13],_=t[e+14],x=t[e+15],T=s[0],S=s[1],E=s[2],A=s[3],T=n(T,S,E,A,a,7,u[0]),A=n(A,T,S,E,c,12,u[1]),E=n(E,A,T,S,l,17,u[2]),S=n(S,E,A,T,h,22,u[3]),T=n(T,S,E,A,p,7,u[4]),A=n(A,T,S,E,d,12,u[5]),E=n(E,A,T,S,f,17,u[6]),S=n(S,E,A,T,m,22,u[7]),T=n(T,S,E,A,g,7,u[8]),A=n(A,T,S,E,v,12,u[9]),E=n(E,A,T,S,y,17,u[10]),S=n(S,E,A,T,k,22,u[11]),T=n(T,S,E,A,b,7,u[12]),A=n(A,T,S,E,w,12,u[13]),E=n(E,A,T,S,_,17,u[14]),S=n(S,E,A,T,x,22,u[15]),T=i(T,S,E,A,c,5,u[16]),A=i(A,T,S,E,f,9,u[17]),E=i(E,A,T,S,k,14,u[18]),S=i(S,E,A,T,a,20,u[19]),T=i(T,S,E,A,d,5,u[20]),A=i(A,T,S,E,y,9,u[21]),E=i(E,A,T,S,x,14,u[22]),S=i(S,E,A,T,p,20,u[23]),T=i(T,S,E,A,v,5,u[24]),A=i(A,T,S,E,_,9,u[25]),E=i(E,A,T,S,h,14,u[26]),S=i(S,E,A,T,g,20,u[27]),T=i(T,S,E,A,w,5,u[28]),A=i(A,T,S,E,l,9,u[29]),E=i(E,A,T,S,m,14,u[30]),S=i(S,E,A,T,b,20,u[31]),T=o(T,S,E,A,d,4,u[32]),A=o(A,T,S,E,g,11,u[33]),E=o(E,A,T,S,k,16,u[34]),S=o(S,E,A,T,_,23,u[35]),T=o(T,S,E,A,c,4,u[36]),A=o(A,T,S,E,p,11,u[37]),E=o(E,A,T,S,m,16,u[38]),S=o(S,E,A,T,y,23,u[39]),T=o(T,S,E,A,w,4,u[40]),A=o(A,T,S,E,a,11,u[41]),E=o(E,A,T,S,h,16,u[42]),S=o(S,E,A,T,f,23,u[43]),T=o(T,S,E,A,v,4,u[44]),A=o(A,T,S,E,b,11,u[45]),E=o(E,A,T,S,x,16,u[46]),S=o(S,E,A,T,l,23,u[47]),T=r(T,S,E,A,a,6,u[48]),A=r(A,T,S,E,m,10,u[49]),E=r(E,A,T,S,_,15,u[50]),S=r(S,E,A,T,d,21,u[51]),T=r(T,S,E,A,b,6,u[52]),A=r(A,T,S,E,h,10,u[53]),E=r(E,A,T,S,y,15,u[54]),S=r(S,E,A,T,c,21,u[55]),T=r(T,S,E,A,g,6,u[56]),A=r(A,T,S,E,x,10,u[57]),E=r(E,A,T,S,f,15,u[58]),S=r(S,E,A,T,w,21,u[59]),T=r(T,S,E,A,p,6,u[60]),A=r(A,T,S,E,k,10,u[61]),E=r(E,A,T,S,l,15,u[62]),S=r(S,E,A,T,v,21,u[63]);s[0]=s[0]+T|0,s[1]=s[1]+S|0,s[2]=s[2]+E|0,s[3]=s[3]+A|0},_doFinalize:function(){var t=this._data,n=t.words,i=8*this._nDataBytes,o=8*t.sigBytes;n[o>>>5]|=128<<24-o%32;var r=e.floor(i/4294967296);for(n[(o+64>>>9<<4)+15]=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8),n[(o+64>>>9<<4)+14]=16711935&(i<<8|i>>>24)|4278255360&(i<<24|i>>>8),t.sigBytes=4*(n.length+1),this._process(),t=this._hash,n=t.words,i=0;4>i;i++)o=n[i],n[i]=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8);return t},clone:function(){var t=l.clone.call(this);return t._hash=this._hash.clone(),t}}),s.MD5=l._createHelper(a),s.HmacMD5=l._createHmacHelper(a)}(Math),function(){var e=t,n=e.lib,i=n.Base,o=n.WordArray,n=e.algo,r=n.EvpKDF=i.extend({cfg:i.extend({keySize:4,hasher:n.MD5,iterations:1}),init:function(t){this.cfg=this.cfg.extend(t)},compute:function(t,e){for(var n=this.cfg,i=n.hasher.create(),r=o.create(),s=r.words,a=n.keySize,n=n.iterations;s.length<a;){c&&i.update(c);var c=i.update(t).finalize(e);i.reset();for(var l=1;n>l;l++)c=i.finalize(c),i.reset();r.concat(c)}return r.sigBytes=4*a,r}});e.EvpKDF=function(t,e,n){return r.create(n).compute(t,e)}}(),t.lib.Cipher||function(e){var n=t,i=n.lib,o=i.Base,r=i.WordArray,s=i.BufferedBlockAlgorithm,a=n.enc.Base64,c=n.algo.EvpKDF,l=i.Cipher=s.extend({cfg:o.extend(),createEncryptor:function(t,e){return this.create(this._ENC_XFORM_MODE,t,e)},createDecryptor:function(t,e){return this.create(this._DEC_XFORM_MODE,t,e)},init:function(t,e,n){this.cfg=this.cfg.extend(n),this._xformMode=t,this._key=e,this.reset()},reset:function(){s.reset.call(this),this._doReset()},process:function(t){return this._append(t),this._process()},finalize:function(t){return t&&this._append(t),this._doFinalize()},keySize:4,ivSize:4,_ENC_XFORM_MODE:1,_DEC_XFORM_MODE:2,_createHelper:function(t){return{encrypt:function(e,n,i){return("string"==typeof n?m:f).encrypt(t,e,n,i)},decrypt:function(e,n,i){return("string"==typeof n?m:f).decrypt(t,e,n,i)}}}});i.StreamCipher=l.extend({_doFinalize:function(){return this._process(!0)},blockSize:1});var u=n.mode={},h=function(t,n,i){var o=this._iv;o?this._iv=e:o=this._prevBlock;for(var r=0;i>r;r++)t[n+r]^=o[r]},p=(i.BlockCipherMode=o.extend({createEncryptor:function(t,e){return this.Encryptor.create(t,e)},createDecryptor:function(t,e){return this.Decryptor.create(t,e)},init:function(t,e){this._cipher=t,this._iv=e}})).extend();p.Encryptor=p.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize;h.call(this,t,e,i),n.encryptBlock(t,e),this._prevBlock=t.slice(e,e+i)}}),p.Decryptor=p.extend({processBlock:function(t,e){var n=this._cipher,i=n.blockSize,o=t.slice(e,e+i);n.decryptBlock(t,e),h.call(this,t,e,i),this._prevBlock=o}}),u=u.CBC=p,p=(n.pad={}).Pkcs7={pad:function(t,e){for(var n=4*e,n=n-t.sigBytes%n,i=n<<24|n<<16|n<<8|n,o=[],s=0;n>s;s+=4)o.push(i);n=r.create(o,n),t.concat(n)},unpad:function(t){t.sigBytes-=255&t.words[t.sigBytes-1>>>2]}},i.BlockCipher=l.extend({cfg:l.cfg.extend({mode:u,padding:p}),reset:function(){l.reset.call(this);var t=this.cfg,e=t.iv,t=t.mode;if(this._xformMode==this._ENC_XFORM_MODE)var n=t.createEncryptor;else n=t.createDecryptor,this._minBufferSize=1;this._mode=n.call(t,this,e&&e.words)},_doProcessBlock:function(t,e){this._mode.processBlock(t,e)},_doFinalize:function(){var t=this.cfg.padding;if(this._xformMode==this._ENC_XFORM_MODE){t.pad(this._data,this.blockSize);var e=this._process(!0)}else e=this._process(!0),t.unpad(e);return e},blockSize:4});var d=i.CipherParams=o.extend({init:function(t){this.mixIn(t)},toString:function(t){return(t||this.formatter).stringify(this)}}),u=(n.format={}).OpenSSL={stringify:function(t){var e=t.ciphertext;return t=t.salt,(t?r.create([1398893684,1701076831]).concat(t).concat(e):e).toString(a)},parse:function(t){t=a.parse(t);var e=t.words;if(1398893684==e[0]&&1701076831==e[1]){var n=r.create(e.slice(2,4));e.splice(0,4),t.sigBytes-=16}return d.create({ciphertext:t,salt:n})}},f=i.SerializableCipher=o.extend({cfg:o.extend({format:u}),encrypt:function(t,e,n,i){i=this.cfg.extend(i);var o=t.createEncryptor(n,i);return e=o.finalize(e),o=o.cfg,d.create({ciphertext:e,key:n,iv:o.iv,algorithm:t,mode:o.mode,padding:o.padding,blockSize:t.blockSize,formatter:i.format})},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),t.createDecryptor(n,i).finalize(e.ciphertext)},_parse:function(t,e){return"string"==typeof t?e.parse(t,this):t}}),n=(n.kdf={}).OpenSSL={execute:function(t,e,n,i){return i||(i=r.random(8)),t=c.create({keySize:e+n}).compute(t,i),n=r.create(t.words.slice(e),4*n),t.sigBytes=4*e,d.create({key:t,iv:n,salt:i})}},m=i.PasswordBasedCipher=f.extend({cfg:f.cfg.extend({kdf:n}),encrypt:function(t,e,n,i){return i=this.cfg.extend(i),n=i.kdf.execute(n,t.keySize,t.ivSize),i.iv=n.iv,t=f.encrypt.call(this,t,e,n.key,i),t.mixIn(n),t},decrypt:function(t,e,n,i){return i=this.cfg.extend(i),e=this._parse(e,i.format),n=i.kdf.execute(n,t.keySize,t.ivSize,e.salt),i.iv=n.iv,f.decrypt.call(this,t,e,n.key,i)}})}(),function(){for(var e=t,n=e.lib.BlockCipher,i=e.algo,o=[],r=[],s=[],a=[],c=[],l=[],u=[],h=[],p=[],d=[],f=[],m=0;256>m;m++)f[m]=128>m?m<<1:m<<1^283;for(var g=0,v=0,m=0;256>m;m++){var y=v^v<<1^v<<2^v<<3^v<<4,y=y>>>8^255&y^99;o[g]=y,r[y]=g;var k=f[g],b=f[k],w=f[b],_=257*f[y]^16843008*y;s[g]=_<<24|_>>>8,a[g]=_<<16|_>>>16,c[g]=_<<8|_>>>24,l[g]=_,_=16843009*w^65537*b^257*k^16843008*g,u[y]=_<<24|_>>>8,h[y]=_<<16|_>>>16,p[y]=_<<8|_>>>24,d[y]=_,g?(g=k^f[f[f[w^k]]],v^=f[f[v]]):g=v=1}var x=[0,1,2,4,8,16,32,64,128,27,54],i=i.AES=n.extend({_doReset:function(){for(var t=this._key,e=t.words,n=t.sigBytes/4,t=4*((this._nRounds=n+6)+1),i=this._keySchedule=[],r=0;t>r;r++)if(n>r)i[r]=e[r];else{var s=i[r-1];r%n?n>6&&4==r%n&&(s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s]):(s=s<<8|s>>>24,s=o[s>>>24]<<24|o[s>>>16&255]<<16|o[s>>>8&255]<<8|o[255&s],s^=x[r/n|0]<<24),i[r]=i[r-n]^s}for(e=this._invKeySchedule=[],n=0;t>n;n++)r=t-n,s=n%4?i[r]:i[r-4],e[n]=4>n||4>=r?s:u[o[s>>>24]]^h[o[s>>>16&255]]^p[o[s>>>8&255]]^d[o[255&s]]},encryptBlock:function(t,e){this._doCryptBlock(t,e,this._keySchedule,s,a,c,l,o)},decryptBlock:function(t,e){var n=t[e+1];t[e+1]=t[e+3],t[e+3]=n,this._doCryptBlock(t,e,this._invKeySchedule,u,h,p,d,r),n=t[e+1],t[e+1]=t[e+3],t[e+3]=n},_doCryptBlock:function(t,e,n,i,o,r,s,a){for(var c=this._nRounds,l=t[e]^n[0],u=t[e+1]^n[1],h=t[e+2]^n[2],p=t[e+3]^n[3],d=4,f=1;c>f;f++)var m=i[l>>>24]^o[u>>>16&255]^r[h>>>8&255]^s[255&p]^n[d++],g=i[u>>>24]^o[h>>>16&255]^r[p>>>8&255]^s[255&l]^n[d++],v=i[h>>>24]^o[p>>>16&255]^r[l>>>8&255]^s[255&u]^n[d++],p=i[p>>>24]^o[l>>>16&255]^r[u>>>8&255]^s[255&h]^n[d++],l=m,u=g,h=v;m=(a[l>>>24]<<24|a[u>>>16&255]<<16|a[h>>>8&255]<<8|a[255&p])^n[d++],g=(a[u>>>24]<<24|a[h>>>16&255]<<16|a[p>>>8&255]<<8|a[255&l])^n[d++],v=(a[h>>>24]<<24|a[p>>>16&255]<<16|a[l>>>8&255]<<8|a[255&u])^n[d++],p=(a[p>>>24]<<24|a[l>>>16&255]<<16|a[u>>>8&255]<<8|a[255&h])^n[d++],t[e]=m,t[e+1]=g,t[e+2]=v,t[e+3]=p},keySize:8});e.AES=n._createHelper(i)}(),t}()},{}],20:[function(t,e){e.exports=function(){/*!
         * easyXDM
         * http://github.com/oyvindkinsey/easyXDM/
         * Copyright 2009-2011 Ãyvind Sean Kinsey, oyvind@kinsey.no
         * MIT License
         */
return function(t,e,n,i,o,r){function s(t,e){var n=_typeof(t[e]);return"function"==n||!("object"!=n||!t[e])||"unknown"==n}function a(t,e){return!("object"!=_typeof(t[e])||!t[e])}function c(t){return"[object Array]"===Object.prototype.toString.call(t)}function l(){var t="Shockwave Flash",e="application/x-shockwave-flash";if(!k(navigator.plugins)&&"object"==_typeof(navigator.plugins[t])){var n=navigator.plugins[t].description;n&&!k(navigator.mimeTypes)&&navigator.mimeTypes[e]&&navigator.mimeTypes[e].enabledPlugin&&(O=n.match(/\d+/g))}if(!O){var i;try{i=new ActiveXObject("ShockwaveFlash.ShockwaveFlash"),O=Array.prototype.slice.call(i.GetVariable("$version").match(/(\d+),(\d+),(\d+),(\d+)/),1),i=null}catch(o){}}if(!O)return!1;var r=parseInt(O[0],10),s=parseInt(O[1],10);return P=r>9&&s>0,!0}function u(){if(!z){z=!0;for(var t=0;t<Y.length;t++)Y[t]();Y.length=0}}function h(t,e){return z?(t.call(e),void 0):(Y.push(function(){t.call(e)}),void 0)}function p(){var t=parent;if(""!==M)for(var e=0,n=M.split(".");e<n.length;e++)t=t[n[e]];return t.easyXDM}function d(e){return t.easyXDM=D,M=e,M&&(X="easyXDM_"+M.replace(".","_")+"_"),K}function f(t){return t.match(N)[3]}function m(t){return t.match(N)[4]||""}function g(t){var e=t.toLowerCase().match(N),n=e[2],i=e[3],o=e[4]||"";return("http:"==n&&":80"==o||"https:"==n&&":443"==o)&&(o=""),n+"//"+i+o}function v(t){if(t=t.replace(U,"$1/"),!t.match(/^(http||https):\/\//)){var e="/"===t.substring(0,1)?"":n.pathname;"/"!==e.substring(e.length-1)&&(e=e.substring(0,e.lastIndexOf("/")+1)),t=n.protocol+"//"+n.host+e+t}for(;C.test(t);)t=t.replace(C,"");return t}function y(t,e){var n="",i=t.indexOf("#");-1!==i&&(n=t.substring(i),t=t.substring(0,i));var o=[];for(var s in e)e.hasOwnProperty(s)&&o.push(s+"="+r(e[s]));return t+(W?"#":-1==t.indexOf("?")?"?":"&")+o.join("&")+n}function k(t){return"undefined"==typeof t}function b(t,e,n){var i;for(var o in e)e.hasOwnProperty(o)&&(o in t?(i=e[o],"object"===("undefined"==typeof i?"undefined":_typeof(i))?b(t[o],i,n):n||(t[o]=e[o])):t[o]=e[o]);return t}function w(){var t=e.body.appendChild(e.createElement("form")),n=t.appendChild(e.createElement("input"));n.name=X+"TEST"+R,A=n!==t.elements[n.name],e.body.removeChild(t)}function _(t){k(A)&&w();var n;A?n=e.createElement('<iframe name="'+t.props.name+'"/>'):(n=e.createElement("IFRAME"),n.name=t.props.name),n.id=n.name=t.props.name,delete t.props.name,"string"==typeof t.container&&(t.container=e.getElementById(t.container)),t.container||(b(n.style,{position:"absolute",top:"-2000px",left:"0px"}),t.container=e.body);var i=t.props.src;if(t.props.src="javascript:false",b(n,t.props),n.border=n.frameBorder=0,n.allowTransparency=!0,t.container.appendChild(n),t.onLoad&&I(n,"load",t.onLoad),t.usePost){var o,r=t.container.appendChild(e.createElement("form"));if(r.target=n.name,r.action=i,r.method="POST","object"===_typeof(t.usePost))for(var s in t.usePost)t.usePost.hasOwnProperty(s)&&(A?o=e.createElement('<input name="'+s+'"/>'):(o=e.createElement("INPUT"),o.name=s),o.value=t.usePost[s],r.appendChild(o));r.submit(),r.parentNode.removeChild(r)}else n.src=i;return t.props.src=i,n}function x(t,e){"string"==typeof t&&(t=[t]);for(var n,i=t.length;i--;)if(n=t[i],n=new RegExp("^"==n.substr(0,1)?n:"^"+n.replace(/(\*)/g,".$1").replace(/\?/g,".")+"$"),n.test(e))return!0;return!1}function T(i){var o,r=i.protocol;if(i.isHost=i.isHost||k(H.xdm_p),W=i.hash||!1,i.props||(i.props={}),i.isHost)i.remote=v(i.remote),i.channel=i.channel||"default"+R++,i.secret=Math.random().toString(16).substring(2),k(r)&&(r=g(n.href)==g(i.remote)?"4":s(t,"postMessage")||s(e,"postMessage")?"1":i.swf&&s(t,"ActiveXObject")&&l()?"6":"Gecko"===navigator.product&&"frameElement"in t&&-1==navigator.userAgent.indexOf("WebKit")?"5":i.remoteHelper?"2":"0");else if(i.channel=H.xdm_c.replace(/["'<>\\]/g,""),i.secret=H.xdm_s,i.remote=H.xdm_e.replace(/["'<>\\]/g,""),r=H.xdm_p,i.acl&&!x(i.acl,i.remote))throw new Error("Access denied for "+i.remote);switch(i.protocol=r,r){case"0":if(b(i,{interval:100,delay:2e3,useResize:!0,useParent:!1,usePolling:!1},!0),i.isHost){if(!i.local){for(var a,c=n.protocol+"//"+n.host,u=e.body.getElementsByTagName("img"),h=u.length;h--;)if(a=u[h],a.src.substring(0,c.length)===c){i.local=a.src;break}i.local||(i.local=t)}var p={xdm_c:i.channel,xdm_p:0};i.local===t?(i.usePolling=!0,i.useParent=!0,i.local=n.protocol+"//"+n.host+n.pathname+n.search,p.xdm_e=i.local,p.xdm_pa=1):p.xdm_e=v(i.local),i.container&&(i.useResize=!1,p.xdm_po=1),i.remote=y(i.remote,p)}else b(i,{channel:H.xdm_c,remote:H.xdm_e,useParent:!k(H.xdm_pa),usePolling:!k(H.xdm_po),useResize:i.useParent?!1:i.useResize});o=[new K.stack.HashTransport(i),new K.stack.ReliableBehavior({}),new K.stack.QueueBehavior({encode:!0,maxLength:4e3-i.remote.length}),new K.stack.VerifyBehavior({initiate:i.isHost})];break;case"1":o=[new K.stack.PostMessageTransport(i)];break;case"2":i.isHost&&(i.remoteHelper=v(i.remoteHelper)),o=[new K.stack.NameTransport(i),new K.stack.QueueBehavior,new K.stack.VerifyBehavior({initiate:i.isHost})];break;case"3":o=[new K.stack.NixTransport(i)];break;case"4":o=[new K.stack.SameOriginTransport(i)];break;case"5":o=[new K.stack.FrameElementTransport(i)];break;case"6":O||l(),o=[new K.stack.FlashTransport(i)]}return o.push(new K.stack.QueueBehavior({lazy:i.lazy,remove:!0})),o}function S(t){for(var e,n={incoming:function(t,e){this.up.incoming(t,e)},outgoing:function(t,e){this.down.outgoing(t,e)},callback:function(t){this.up.callback(t)},init:function(){this.down.init()},destroy:function(){this.down.destroy()}},i=0,o=t.length;o>i;i++)e=t[i],b(e,n,!0),0!==i&&(e.down=t[i-1]),i!==o-1&&(e.up=t[i+1]);return e}function E(t){t.up.down=t.down,t.down.up=t.up,t.up=t.down=null}var A,O,P,I,j,L=this,R=Math.floor(1e4*Math.random()),B=Function.prototype,N=/^((http.?:)\/\/([^:\/\s]+)(:\d+)*)/,C=/[\-\w]+\/\.\.\//,U=/([^:])\/\//g,M="",K={},D=t.easyXDM,X="easyXDM_",W=!1;if(s(t,"addEventListener"))I=function(t,e,n){t.addEventListener(e,n,!1)},j=function(t,e,n){t.removeEventListener(e,n,!1)};else{if(!s(t,"attachEvent"))throw new Error("Browser not supported");I=function(t,e,n){t.attachEvent("on"+e,n)},j=function(t,e,n){t.detachEvent("on"+e,n)}}var F,z=!1,Y=[];if("readyState"in e?(F=e.readyState,z="complete"==F||~navigator.userAgent.indexOf("AppleWebKit/")&&("loaded"==F||"interactive"==F)):z=!!e.body,!z){if(s(t,"addEventListener"))I(e,"DOMContentLoaded",u);else if(I(e,"readystatechange",function(){"complete"==e.readyState&&u()}),e.documentElement.doScroll&&t===top){var q=function $(){if(!z){try{e.documentElement.doScroll("left")}catch(t){return i($,1),void 0}u()}};q()}I(t,"load",u)}var H=function(t){t=t.substring(1).split("&");for(var e,n={},i=t.length;i--;)e=t[i].split("="),n[e[0]]=o(e[1]);return n}(/xdm_e=/.test(n.search)?n.search:n.hash),V=function(){var t={},e={a:[1,2,3]},n='{"a":[1,2,3]}';return"undefined"!=typeof JSON&&"function"==typeof JSON.stringify&&JSON.stringify(e).replace(/\s/g,"")===n?JSON:(Object.toJSON&&Object.toJSON(e).replace(/\s/g,"")===n&&(t.stringify=Object.toJSON),"function"==typeof String.prototype.evalJSON&&(e=n.evalJSON(),e.a&&3===e.a.length&&3===e.a[2]&&(t.parse=function(t){return t.evalJSON()})),t.stringify&&t.parse?(V=function(){return t},t):null)};b(K,{version:"2.4.19.3",query:H,stack:{},apply:b,getJSONObject:V,whenReady:h,noConflict:d}),K.DomHelper={on:I,un:j,requiresJSON:function(n){a(t,"JSON")||e.write('<script type="text/javascript" src="'+n+'"></script>')}},function(){var t={};K.Fn={set:function(e,n){t[e]=n},get:function(e,n){if(t.hasOwnProperty(e)){var i=t[e];return n&&delete t[e],i}}}}(),K.Socket=function(t){var e=S(T(t).concat([{incoming:function(e,n){t.onMessage(e,n)},callback:function(e){t.onReady&&t.onReady(e)}}])),n=g(t.remote);this.origin=g(t.remote),this.destroy=function(){e.destroy()},this.postMessage=function(t){e.outgoing(t,n)},e.init()},K.Rpc=function(t,e){if(e.local)for(var n in e.local)if(e.local.hasOwnProperty(n)){var i=e.local[n];"function"==typeof i&&(e.local[n]={method:i})}var o=S(T(t).concat([new K.stack.RpcBehavior(this,e),{callback:function(e){t.onReady&&t.onReady(e)}}]));this.origin=g(t.remote),this.destroy=function(){o.destroy()},o.init()},K.stack.SameOriginTransport=function(t){var e,o,r,s;return e={outgoing:function(t,e,n){r(t),n&&n()},destroy:function(){o&&(o.parentNode.removeChild(o),o=null)},onDOMReady:function(){s=g(t.remote),t.isHost?(b(t.props,{src:y(t.remote,{xdm_e:n.protocol+"//"+n.host+n.pathname,xdm_c:t.channel,xdm_p:4}),name:X+t.channel+"_provider"}),o=_(t),K.Fn.set(t.channel,function(t){return r=t,i(function(){e.up.callback(!0)},0),function(t){e.up.incoming(t,s)}})):(r=p().Fn.get(t.channel,!0)(function(t){e.up.incoming(t,s)}),i(function(){e.up.callback(!0)},0))},init:function(){h(e.onDOMReady,e)}}},K.stack.FlashTransport=function(t){function o(t){i(function(){a.up.incoming(t,l)},0)}function s(n){var i=t.swf+"?host="+t.isHost,o="easyXDM_swf_"+Math.floor(1e4*Math.random());K.Fn.set("flash_loaded"+n.replace(/[\-.]/g,"_"),function(){K.stack.FlashTransport[n].swf=u=p.firstChild;for(var t=K.stack.FlashTransport[n].queue,e=0;e<t.length;e++)t[e]();t.length=0}),t.swfContainer?p="string"==typeof t.swfContainer?e.getElementById(t.swfContainer):t.swfContainer:(p=e.createElement("div"),b(p.style,P&&t.swfNoThrottle?{height:"20px",width:"20px",position:"fixed",right:0,top:0}:{height:"1px",width:"1px",position:"absolute",overflow:"hidden",right:0,top:0}),e.body.appendChild(p));var s="callback=flash_loaded"+r(n.replace(/[\-.]/g,"_"))+"&proto="+L.location.protocol+"&domain="+r(f(L.location.href))+"&port="+r(m(L.location.href))+"&ns="+r(M);p.innerHTML="<object height='20' width='20' type='application/x-shockwave-flash' id='"+o+"' data='"+i+"'><param name='allowScriptAccess' value='always'></param><param name='wmode' value='transparent'><param name='movie' value='"+i+"'></param><param name='flashvars' value='"+s+"'></param><embed type='application/x-shockwave-flash' FlashVars='"+s+"' allowScriptAccess='always' wmode='transparent' src='"+i+"' height='1' width='1'></embed></object>"}var a,c,l,u,p;return a={outgoing:function(e,n,i){u.postMessage(t.channel,e.toString()),i&&i()},destroy:function(){try{u.destroyChannel(t.channel)}catch(e){}u=null,c&&(c.parentNode.removeChild(c),c=null)},onDOMReady:function(){l=t.remote,K.Fn.set("flash_"+t.channel+"_init",function(){i(function(){a.up.callback(!0)})}),K.Fn.set("flash_"+t.channel+"_onMessage",o),t.swf=v(t.swf);var e=f(t.swf),r=function(){K.stack.FlashTransport[e].init=!0,u=K.stack.FlashTransport[e].swf,u.createChannel(t.channel,t.secret,g(t.remote),t.isHost),t.isHost&&(P&&t.swfNoThrottle&&b(t.props,{position:"fixed",right:0,top:0,height:"20px",width:"20px"}),b(t.props,{src:y(t.remote,{xdm_e:g(n.href),xdm_c:t.channel,xdm_p:6,xdm_s:t.secret}),name:X+t.channel+"_provider"}),c=_(t))};K.stack.FlashTransport[e]&&K.stack.FlashTransport[e].init?r():K.stack.FlashTransport[e]?K.stack.FlashTransport[e].queue.push(r):(K.stack.FlashTransport[e]={queue:[r]},s(e))},init:function(){h(a.onDOMReady,a)}}},K.stack.PostMessageTransport=function(e){function o(t){if(t.origin)return g(t.origin);if(t.uri)return g(t.uri);if(t.domain)return n.protocol+"//"+t.domain;throw"Unable to retrieve the origin of the event"}function r(t){var n=o(t);n==l&&t.data.substring(0,e.channel.length+1)==e.channel+" "&&s.up.incoming(t.data.substring(e.channel.length+1),n)}var s,a,c,l;return s={outgoing:function(t,n,i){c.postMessage(e.channel+" "+t,n||l),i&&i()},destroy:function(){j(t,"message",r),a&&(c=null,a.parentNode.removeChild(a),a=null)},onDOMReady:function(){if(l=g(e.remote),e.isHost){var o=function u(n){n.data==e.channel+"-ready"&&(c="postMessage"in a.contentWindow?a.contentWindow:a.contentWindow.document,j(t,"message",u),I(t,"message",r),i(function(){s.up.callback(!0)},0))};I(t,"message",o),b(e.props,{src:y(e.remote,{xdm_e:g(n.href),xdm_c:e.channel,xdm_p:1}),name:X+e.channel+"_provider"}),a=_(e)}else I(t,"message",r),c="postMessage"in t.parent?t.parent:t.parent.document,c.postMessage(e.channel+"-ready",l),i(function(){s.up.callback(!0)},0)},init:function(){h(s.onDOMReady,s)}}},K.stack.FrameElementTransport=function(o){var r,s,a,c;return r={outgoing:function(t,e,n){a.call(this,t),n&&n()},destroy:function(){s&&(s.parentNode.removeChild(s),s=null)},onDOMReady:function(){c=g(o.remote),o.isHost?(b(o.props,{src:y(o.remote,{xdm_e:g(n.href),xdm_c:o.channel,xdm_p:5}),name:X+o.channel+"_provider"}),s=_(o),s.fn=function(t){return delete s.fn,a=t,i(function(){r.up.callback(!0)},0),function(t){r.up.incoming(t,c)}}):(e.referrer&&g(e.referrer)!=H.xdm_e&&(t.top.location=H.xdm_e),a=t.frameElement.fn(function(t){r.up.incoming(t,c)}),r.up.callback(!0))},init:function(){h(r.onDOMReady,r)}}},K.stack.NameTransport=function(t){function e(e){var n=t.remoteHelper+(a?"#_3":"#_2")+t.channel;c.contentWindow.sendMessage(e,n)}function n(){a?2!==++u&&a||s.up.callback(!0):(e("ready"),s.up.callback(!0))}function o(t){s.up.incoming(t,d)}function r(){p&&i(function(){p(!0)},0)}var s,a,c,l,u,p,d,f;return s={outgoing:function(t,n,i){p=i,e(t)},destroy:function(){c.parentNode.removeChild(c),c=null,a&&(l.parentNode.removeChild(l),l=null)},onDOMReady:function(){a=t.isHost,u=0,d=g(t.remote),t.local=v(t.local),a?(K.Fn.set(t.channel,function(e){a&&"ready"===e&&(K.Fn.set(t.channel,o),n())}),f=y(t.remote,{xdm_e:t.local,xdm_c:t.channel,xdm_p:2}),b(t.props,{src:f+"#"+t.channel,name:X+t.channel+"_provider"}),l=_(t)):(t.remoteHelper=t.remote,K.Fn.set(t.channel,o));var e=function s(){var e=c||this;j(e,"load",s),K.Fn.set(t.channel+"_load",r),function o(){"function"==typeof e.contentWindow.sendMessage?n():i(o,50)}()};c=_({props:{src:t.local+"#_4"+t.channel},onLoad:e})},init:function(){h(s.onDOMReady,s)}}},K.stack.HashTransport=function(e){function n(t){if(m){var n=e.remote+"#"+d++ +"_"+t;(c||!v?m.contentWindow:m).location=n}}function o(t){p=t,a.up.incoming(p.substring(p.indexOf("_")+1),y)}function r(){if(f){var t=f.location.href,e="",n=t.indexOf("#");-1!=n&&(e=t.substring(n)),e&&e!=p&&o(e)}}function s(){l=setInterval(r,u)}var a,c,l,u,p,d,f,m,v,y;return a={outgoing:function(t){n(t)},destroy:function(){t.clearInterval(l),(c||!v)&&m.parentNode.removeChild(m),m=null},onDOMReady:function(){if(c=e.isHost,u=e.interval,p="#"+e.channel,d=0,v=e.useParent,y=g(e.remote),c){if(b(e.props,{src:e.remote,name:X+e.channel+"_provider"}),v)e.onLoad=function(){f=t,s(),a.up.callback(!0)};else{var n=0,o=e.delay/50;!function r(){if(++n>o)throw new Error("Unable to reference listenerwindow");try{f=m.contentWindow.frames[X+e.channel+"_consumer"]}catch(t){}f?(s(),a.up.callback(!0)):i(r,50)}()}m=_(e)}else f=t,s(),v?(m=parent,a.up.callback(!0)):(b(e,{props:{src:e.remote+"#"+e.channel+new Date,name:X+e.channel+"_consumer"},onLoad:function(){a.up.callback(!0)}}),m=_(e))},init:function(){h(a.onDOMReady,a)}}},K.stack.ReliableBehavior=function(){var t,e,n=0,i=0,o="";return t={incoming:function(r,s){var a=r.indexOf("_"),c=r.substring(0,a).split(",");r=r.substring(a+1),c[0]==n&&(o="",e&&e(!0)),r.length>0&&(t.down.outgoing(c[1]+","+n+"_"+o,s),i!=c[1]&&(i=c[1],t.up.incoming(r,s)))},outgoing:function(r,s,a){o=r,e=a,t.down.outgoing(i+","+ ++n+"_"+r,s)}}},K.stack.QueueBehavior=function(t){function e(){if(t.remove&&0===a.length)return E(n),void 0;if(!c&&0!==a.length&&!s){c=!0;var o=a.shift();n.down.outgoing(o.data,o.origin,function(t){c=!1,o.callback&&i(function(){o.callback(t)},0),e()})}}var n,s,a=[],c=!0,l="",u=0,h=!1,p=!1;return n={init:function(){k(t)&&(t={}),t.maxLength&&(u=t.maxLength,p=!0),t.lazy?h=!0:n.down.init()},callback:function(t){c=!1;var i=n.up;e(),i.callback(t)},incoming:function(e,i){if(p){var r=e.indexOf("_"),s=parseInt(e.substring(0,r),10);l+=e.substring(r+1),0===s&&(t.encode&&(l=o(l)),n.up.incoming(l,i),l="")}else n.up.incoming(e,i)},outgoing:function(i,o,s){t.encode&&(i=r(i));var c,l=[];if(p){for(;0!==i.length;)c=i.substring(0,u),i=i.substring(c.length),l.push(c);for(;c=l.shift();)a.push({data:l.length+"_"+c,origin:o,callback:0===l.length?s:null})}else a.push({data:i,origin:o,callback:s});h?n.down.init():e()},destroy:function(){s=!0,n.down.destroy()}}},K.stack.VerifyBehavior=function(t){function e(){i=Math.random().toString(16).substring(2),n.down.outgoing(i)}var n,i,o;return n={incoming:function(r,s){var a=r.indexOf("_");-1===a?r===i?n.up.callback(!0):o||(o=r,t.initiate||e(),n.down.outgoing(r)):r.substring(0,a)===o&&n.up.incoming(r.substring(a+1),s)},outgoing:function(t,e,o){n.down.outgoing(i+"_"+t,e,o)},callback:function(){t.initiate&&e()}}},K.stack.RpcBehavior=function(t,e){function n(t){t.jsonrpc="2.0",r.down.outgoing(s.stringify(t))}function i(t,e){var i=Array.prototype.slice;return function(){var o,r=arguments.length,s={method:e};r>0&&"function"==typeof arguments[r-1]?(r>1&&"function"==typeof arguments[r-2]?(o={success:arguments[r-2],error:arguments[r-1]},s.params=i.call(arguments,0,r-2)):(o={success:arguments[r-1]},s.params=i.call(arguments,0,r-1)),l[""+ ++a]=o,s.id=a):s.params=i.call(arguments,0),t.namedParams&&1===s.params.length&&(s.params=s.params[0]),n(s)}}function o(t,e,i,o){if(!i)return e&&n({id:e,error:{code:-32601,message:"Procedure not found."}}),void 0;var r,s;e?(r=function(t){r=B,n({id:e,result:t})},s=function(t,i){s=B;var o={id:e,error:{code:-32099,message:t}};i&&(o.error.data=i),n(o)}):r=s=B,c(o)||(o=[o]);try{var a=i.method.apply(i.scope,o.concat([r,s]));k(a)||r(a)}catch(l){s(l.message)}}var r,s=e.serializer||V(),a=0,l={};return r={incoming:function(t){var i=s.parse(t);if(i.method)e.handle?e.handle(i,n):o(i.method,i.id,e.local[i.method],i.params);else{var r=l[i.id];i.error?r.error&&r.error(i.error):r.success&&r.success(i.result),delete l[i.id]}},init:function(){if(e.remote)for(var n in e.remote)e.remote.hasOwnProperty(n)&&(t[n]=i(e.remote[n],n));r.down.init()},destroy:function(){for(var n in e.remote)e.remote.hasOwnProperty(n)&&t.hasOwnProperty(n)&&delete t[n];r.down.destroy()}}},L.easyXDM=K}(window,document,location,window.setTimeout,decodeURIComponent,encodeURIComponent),easyXDM.noConflict("Kakao")}()},{}],21:[function(e,n){(function(i,o){/*!
         * ES6-Promise
         * https://github.com/stefanpenner/es6-promise
         * Copyright 2014 Yehuda Katz, Tom Dale, Stefan Penner and contributors
         * MIT License
         */
(function(){"use strict";function r(t){return"function"==typeof t||"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t}function s(t){return"function"==typeof t}function a(t){return"object"===("undefined"==typeof t?"undefined":_typeof(t))&&null!==t}function c(t,e){te[H]=t,te[H+1]=e,H+=2,2===H&&Y()}function l(){var t=i.nextTick,e=i.versions.node.match(/^(?:(\d+)\.)?(?:(\d+)\.)?(\*|\d+)$/);return Array.isArray(e)&&"0"===e[1]&&"10"===e[2]&&(t=setImmediate),function(){t(f)}}function u(){return function(){z(f)}}function h(){var t=0,e=new J(f),n=document.createTextNode("");return e.observe(n,{characterData:!0}),function(){n.data=t=++t%2}}function p(){var t=new MessageChannel;return t.port1.onmessage=f,function(){t.port2.postMessage(0)}}function d(){return function(){setTimeout(f,1)}}function f(){for(var t=0;H>t;t+=2){var e=te[t],n=te[t+1];e(n),te[t]=void 0,te[t+1]=void 0}H=0}function m(){try{var t=e,n=t("vertx");return z=n.runOnLoop||n.runOnContext,u()}catch(i){return d()}}function g(){}function v(){return new TypeError("You cannot resolve a promise with itself")}function y(){return new TypeError("A promises callback cannot return that same promise.")}function k(t){try{return t.then}catch(e){return oe.error=e,oe}}function b(t,e,n,i){try{t.call(e,n,i)}catch(o){return o}}function w(t,e,n){V(function(t){var i=!1,o=b(n,e,function(n){i||(i=!0,e!==n?T(t,n):E(t,n))},function(e){i||(i=!0,A(t,e))},"Settle: "+(t._label||" unknown promise"));!i&&o&&(i=!0,A(t,o))},t)}function _(t,e){e._state===ne?E(t,e._result):e._state===ie?A(t,e._result):O(e,void 0,function(e){T(t,e)},function(e){A(t,e)})}function x(t,e){if(e.constructor===t.constructor)_(t,e);else{var n=k(e);n===oe?A(t,oe.error):void 0===n?E(t,e):s(n)?w(t,e,n):E(t,e)}}function T(t,e){t===e?A(t,v()):r(e)?x(t,e):E(t,e)}function S(t){t._onerror&&t._onerror(t._result),P(t)}function E(t,e){t._state===ee&&(t._result=e,t._state=ne,0!==t._subscribers.length&&V(P,t))}function A(t,e){t._state===ee&&(t._state=ie,t._result=e,V(S,t))}function O(t,e,n,i){var o=t._subscribers,r=o.length;t._onerror=null,o[r]=e,o[r+ne]=n,o[r+ie]=i,0===r&&t._state&&V(P,t)}function P(t){var e=t._subscribers,n=t._state;if(0!==e.length){for(var i,o,r=t._result,s=0;s<e.length;s+=3)i=e[s],o=e[s+n],i?L(n,i,o,r):o(r);t._subscribers.length=0}}function I(){this.error=null}function j(t,e){try{return t(e)}catch(n){return re.error=n,re}}function L(t,e,n,i){var o,r,a,c,l=s(n);if(l){if(o=j(n,i),o===re?(c=!0,r=o.error,o=null):a=!0,e===o)return A(e,y()),void 0}else o=i,a=!0;e._state!==ee||(l&&a?T(e,o):c?A(e,r):t===ne?E(e,o):t===ie&&A(e,o))}function R(t,e){try{e(function(e){T(t,e)},function(e){A(t,e)})}catch(n){A(t,n)}}function B(t,e){var n=this;n._instanceConstructor=t,n.promise=new t(g),n._validateInput(e)?(n._input=e,n.length=e.length,n._remaining=e.length,n._init(),0===n.length?E(n.promise,n._result):(n.length=n.length||0,n._enumerate(),0===n._remaining&&E(n.promise,n._result))):A(n.promise,n._validationError())}function N(t){return new se(this,t).promise}function C(t){function e(t){T(o,t)}function n(t){A(o,t)}var i=this,o=new i(g);if(!q(t))return A(o,new TypeError("You must pass an array to race.")),o;for(var r=t.length,s=0;o._state===ee&&r>s;s++)O(i.resolve(t[s]),void 0,e,n);return o}function U(t){var e=this;if(t&&"object"===("undefined"==typeof t?"undefined":_typeof(t))&&t.constructor===e)return t;var n=new e(g);return T(n,t),n}function M(t){var e=this,n=new e(g);return A(n,t),n}function K(){throw new TypeError("You must pass a resolver function as the first argument to the promise constructor")}function D(){throw new TypeError("Failed to construct 'Promise': Please use the 'new' operator, this object constructor cannot be called as a function.")}function X(t){this._id=he++,this._state=void 0,this._result=void 0,this._subscribers=[],g!==t&&(s(t)||K(),this instanceof X||D(),R(this,t))}function W(){var t;if("undefined"!=typeof o)t=o;else if("undefined"!=typeof self)t=self;else try{t=Function("return this")()}catch(e){throw new Error("polyfill failed because global object is unavailable in this environment")}var n=t.Promise;(!n||"[object Promise]"!==Object.prototype.toString.call(n.resolve())||n.cast)&&(t.Promise=pe)}var F;F=Array.isArray?Array.isArray:function(t){return"[object Array]"===Object.prototype.toString.call(t)};var z,Y,q=F,H=0,V=({}.toString,c),$="undefined"!=typeof window?window:void 0,G=$||{},J=G.MutationObserver||G.WebKitMutationObserver,Q="undefined"!=typeof i&&"[object process]"==={}.toString.call(i),Z="undefined"!=typeof Uint8ClampedArray&&"undefined"!=typeof importScripts&&"undefined"!=typeof MessageChannel,te=new Array(1e3);Y=Q?l():J?h():Z?p():void 0===$&&"function"==typeof e?m():d();var ee=void 0,ne=1,ie=2,oe=new I,re=new I;B.prototype._validateInput=function(t){return q(t)},B.prototype._validationError=function(){return new Error("Array Methods must be provided an Array")},B.prototype._init=function(){this._result=new Array(this.length)};var se=B;B.prototype._enumerate=function(){for(var t=this,e=t.length,n=t.promise,i=t._input,o=0;n._state===ee&&e>o;o++)t._eachEntry(i[o],o)},B.prototype._eachEntry=function(t,e){var n=this,i=n._instanceConstructor;a(t)?t.constructor===i&&t._state!==ee?(t._onerror=null,n._settledAt(t._state,e,t._result)):n._willSettleAt(i.resolve(t),e):(n._remaining--,n._result[e]=t)},B.prototype._settledAt=function(t,e,n){var i=this,o=i.promise;o._state===ee&&(i._remaining--,t===ie?A(o,n):i._result[e]=n),0===i._remaining&&E(o,i._result)},B.prototype._willSettleAt=function(t,e){var n=this;O(t,void 0,function(t){n._settledAt(ne,e,t)},function(t){n._settledAt(ie,e,t)})};var ae=N,ce=C,le=U,ue=M,he=0,pe=X;X.all=ae,X.race=ce,X.resolve=le,X.reject=ue,X.prototype={constructor:X,then:function(t,e){var n=this,i=n._state;if(i===ne&&!t||i===ie&&!e)return this;var o=new this.constructor(g),r=n._result;if(i){var s=arguments[i-1];V(function(){L(i,o,s,r)})}else O(n,o,t,e);return o},"catch":function(t){return this.then(null,t)}};var de=W,fe={Promise:pe,polyfill:de};"function"==typeof t&&t.amd?t(function(){return fe}):"undefined"!=typeof n&&n.exports?n.exports=fe:"undefined"!=typeof this&&(this.ES6Promise=fe),de()}).call(this)}).call(this,e("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{_process:24}],22:[function(t,e){e.exports=function(){var t=function(t){function e(t){var e={},i=/(dolfin)[ \/]([\w.]+)/.exec(t)||/(edge)[ \/]([\w.]+)/.exec(t)||/(chrome)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(webkit)(?:.*version)?[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+))?/.exec(t)||["","unknown"];return"webkit"===i[1]?i=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||[i[0],"safari",i[2]]:"mozilla"===i[1]?i[1]=/trident/.test(t)?"msie":"firefox":"edge"===i[1]?i[1]="spartan":/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)&&(i[1]="polaris"),e[i[1]]=!0,e.name=i[1],e.version=n(i[2]),e}function n(t){var e={},n=t?t.split(/\.|-|_/):["0","0","0"];return e.info=n.join("."),e.major=n[0]||"0",e.minor=n[1]||"0",e.patch=n[2]||"0",e}function i(t){return o(t)?"pc":r(t)?"tablet":s(t)?"mobile":""}function o(t){return t.match(/linux|windows (nt|98)|macintosh/)&&!t.match(/android|mobile|polaris|lgtelecom|uzard|natebrowser|ktf;|skt;/)?!0:!1}function r(t){return t.match(/ipad/)||t.match(/android/)&&!t.match(/mobi|mini|fennec/)?!0:!1}function s(t){return t.match(/ip(hone|od)|android.+mobile|windows (ce|phone)|blackberry|bb10|symbian|webos|firefox.+fennec|opera m(ob|in)i|polaris|iemobile|lgtelecom|nokia|sonyericsson|dolfin|uzard|natebrowser|ktf;|skt;/)?!0:!1}function a(t){var e={},i=/(iphone|ipad|ipod)[\S\s]*os ([\w._\-]+) like/.exec(t)||/(android)[ \/]([\w._\-]+);/.exec(t)||(/android/.test(t)?["","android","0.0.0"]:!1)||(/polaris|natebrowser|([010|011|016|017|018|019]{3}\d{3,4}\d{4}$)/.test(t)?["","polaris","0.0.0"]:!1)||/(windows)(?: nt | phone(?: os){0,1} | )([\w._\-]+)/.exec(t)||(/(windows)/.test(t)?["","windows","0.0.0"]:!1)||/(mac) os x ([\w._\-]+)/.exec(t)||(/(linux)/.test(t)?["","linux","0.0.0"]:!1)||(/webos/.test(t)?["","webos","0.0.0"]:!1)||/(bada)[ \/]([\w._\-]+)/.exec(t)||(/bada/.test(t)?["","bada","0.0.0"]:!1)||(/(rim|blackberry|bb10)/.test(t)?["","blackberry","0.0.0"]:!1)||["","unknown","0.0.0"];return"iphone"===i[1]||"ipad"===i[1]||"ipod"===i[1]?i[1]="ios":"windows"===i[1]&&"98"===i[2]&&(i[2]="0.98.0"),e[i[1]]=!0,e.name=i[1],e.version=n(i[2]),e}function c(t){var e={},i=/(crios)[ \/]([\w.]+)/.exec(t)||/(daumapps)[ \/]([\w.]+)/.exec(t)||["",""];return i[1]?(e.isApp=!0,e.name=i[1],e.version=n(i[2])):e.isApp=!1,e}return t=(t||window.navigator.userAgent).toString().toLowerCase(),{ua:t,browser:e(t),platform:i(t),os:a(t),app:c(t)}};return t}()},{}],23:[function(t,e){/*!
       * web2app
       * https://github.com/kakao/web2app
       * Copyright 2015 Kakao Corp. http://www.kakaocorp.com
       * MIT License
       */
e.exports=function(){function e(t){window.location.href=t}function n(t){var n="function"==typeof t.willInvokeApp?t.willInvokeApp:function(){},r="function"==typeof t.onAppMissing?t.onAppMissing:e,c="function"==typeof t.onUnsupportedEnvironment?t.onUnsupportedEnvironment:function(){};n(),b.android?i()&&t.intentURI&&!t.useUrlScheme?s(t.intentURI):t.storeURL&&o(t.urlScheme,t.storeURL,r):b.ios&&t.storeURL?a(t.urlScheme,t.storeURL,r,t.universalLink):setTimeout(function(){c()},100)}function i(){var t=k.browser.chrome&&+k.browser.version.major>=25,e=new RegExp(w.join("|"),"i"),n=new RegExp(_.join("|"),"i");return t&&!e.test(k.ua)||n.test(k.ua)}function o(t,e,n){r(v,e,n),p(t)}function r(t,e,n){var i=(new Date).getTime();return setTimeout(function(){var o=(new Date).getTime();u()&&t+y>o-i&&n(e)},t)}function s(t){function e(){top.location.href=t}k.browser.chrome?e():setTimeout(e,100)}function a(t,e,n,i){var o=r(g,e,n);parseInt(k.os.version.major,10)<8?c(o):l(o),f()?(void 0===i?i=t:clearTimeout(o),h(i)):p(t)}function c(t){window.addEventListener("pagehide",function e(){u()&&(clearTimeout(t),window.removeEventListener("pagehide",e))})}function l(t){document.addEventListener("visibilitychange",function e(){u()&&(clearTimeout(t),document.removeEventListener("visibilitychange",e))})}function u(){for(var t=["hidden","webkitHidden"],e=0,n=t.length;n>e;e++)if("undefined"!=typeof document[t[e]])return!document[t[e]];return!0}function h(t){window.top.location.href=t}function p(t){setTimeout(function(){var e=d("appLauncher");e.src=t},100)}function d(t){var e=document.createElement("iframe");return e.id=t,e.style.border="none",e.style.width="0",e.style.height="0",e.style.display="none",e.style.overflow="hidden",document.body.appendChild(e),e}function f(){return parseInt(k.os.version.major,10)>8&&k.os.ios}var m=t("./userAgent.js"),g=2e3,v=300,y=100,k=m(),b=k.os,w=["firefox","opr"],_=["KAKAOTALK"];return n}()},{"./userAgent.js":22}],24:[function(t,e){function n(){throw new Error("setTimeout has not been defined")}function i(){throw new Error("clearTimeout has not been defined")}function o(t){if(u===setTimeout)return setTimeout(t,0);if((u===n||!u)&&setTimeout)return u=setTimeout,setTimeout(t,0);try{return u(t,0)}catch(e){try{return u.call(null,t,0)}catch(e){return u.call(this,t,0)}}}function r(t){if(h===clearTimeout)return clearTimeout(t);if((h===i||!h)&&clearTimeout)return h=clearTimeout,clearTimeout(t);try{return h(t)}catch(e){try{return h.call(null,t)}catch(e){return h.call(this,t)}}}function s(){m&&d&&(m=!1,d.length?f=d.concat(f):g=-1,f.length&&a())}function a(){if(!m){var t=o(s);m=!0;for(var e=f.length;e;){for(d=f,f=[];++g<e;)d&&d[g].run();g=-1,e=f.length}d=null,m=!1,r(t)}}function c(t,e){this.fun=t,this.array=e}function l(){}var u,h,p=e.exports={};!function(){try{u="function"==typeof setTimeout?setTimeout:n}catch(t){u=n}try{h="function"==typeof clearTimeout?clearTimeout:i}catch(t){h=i}}();var d,f=[],m=!1,g=-1;p.nextTick=function(t){var e=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)e[n-1]=arguments[n];f.push(new c(t,e)),1!==f.length||m||o(a)},c.prototype.run=function(){this.fun.apply(null,this.array)},p.title="browser",p.browser=!0,p.env={},p.argv=[],p.version="",p.versions={},p.on=l,p.addListener=l,p.once=l,p.off=l,p.removeListener=l,p.removeAllListeners=l,p.emit=l,p.binding=function(){throw new Error("process.binding is not supported")},p.cwd=function(){return"/"},p.chdir=function(){throw new Error("process.chdir is not supported")},p.umask=function(){return 0}},{}],25:[function(t,e){e.exports=function(){function e(){return"Bearer "+o.getAccessToken()}function n(){return"KakaoAK "+o.getAppKey()}function i(){return o.getAccessToken()?e():n()}var o=t("../kakao-js-sdk/src/auth.js");return{accessToken:e,appKey:n,tokenOrKey:i}}()},{"../kakao-js-sdk/src/auth.js":3}],26:[function(t,e){e.exports=function(){function e(){return i||(i=s.guardCreateEasyXDM(function(){return new o.Rpc({remote:"https://api-item.daum.net/cors/"},{remote:{request:{}}})})),i}var n={};t("../kakao-js-sdk/vendor/es6-promise.js");var i,o=t("../kakao-js-sdk/vendor/easyXDM.js"),r=t("./util.js"),s=t("../kakao-js-sdk/src/common.js"),a=t("./api.authType");n.request=function(t){function n(){var e={};r.each(t.data,function(t,n){e[n]=r.isString(t)?t:JSON.stringify(t)});var n={url:o,method:c.api[o].method,headers:{KA:s.KAKAO_AGENT},data:e},i=c.api[o].authType||a.accessToken;return n.headers.Authorization=i(),new Promise(function(t){t(n)})}function i(t){try{s.logDebug(t);var e=t.message;return JSON.parse(e.responseText)}catch(n){return{code:-777,msg:"Unknown error"}}}t=s.processRules(t,c.request,"API.request");var o=t.url,l=c.api[o].data;return l&&(t.data=s.processRules(t.data,c.api[o].data,"API.request - "+o)),new Promise(function(o,r){n().then(function(n){e().request(n,function(e){t.success(e),t.always(e),o(e)},function(e){var n=i(e);t.fail(n),t.always(n),r(n)})},function(t){r(t)})})},n.createAPIAlias=function(t){return function(e){return e=e||{},r.defaults(e,t),n.request(e)}};var c={request:{required:{url:function(t){return r.isOneOf(r.keys(c.api))(t)}},optional:{data:r.isObject,files:function(t){return r.passesOneOf([r.isArray,r.isFileList])(t)&&r.every(t,r.passesOneOf([r.isFile,r.isBlob]))},success:r.isFunction,fail:r.isFunction,always:r.isFunction},defaults:{data:{},success:r.emptyFunc,fail:r.emptyFunc,always:r.emptyFunc}},api:{"/api/sdk/config":{method:"get",data:{optional:{timestamp:r.isNumber}},authType:a.appKey},"/api/sdk/items":{method:"get",data:{optional:{timestamp:r.isNumber}},authType:a.tokenOrKey},"/api/sdk/item":{method:"get",data:{required:{id:r.passesOneOf([r.isNumber,r.isString])},optional:{timestamp:r.isNumber}},authType:a.tokenOrKey}}};return n.cleanup=function(){i&&(i.destroy(),i=null)},n}()},{"../kakao-js-sdk/src/common.js":7,"../kakao-js-sdk/vendor/easyXDM.js":20,"../kakao-js-sdk/vendor/es6-promise.js":21,"./api.authType":25,"./util.js":30}],27:[function(t,e){/*! iScroll v5.2.0 ~ (c) 2008-2016 Matteo Spinelli ~ http://cubiq.org/license */
e.exports=function(t,e,n){function i(n,i){this.wrapper="string"==typeof n?e.querySelector(n):n,this.scroller=this.wrapper.children[0],this.scrollerStyle=this.scroller.style,this.options={resizeScrollbars:!0,mouseWheelSpeed:20,snapThreshold:.334,disablePointer:!a.hasPointer,disableTouch:a.hasPointer||!a.hasTouch,disableMouse:a.hasPointer||a.hasTouch,startX:0,startY:0,scrollY:!0,directionLockThreshold:5,momentum:!0,bounce:!0,bounceTime:600,bounceEasing:"",preventDefault:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|BUTTON|SELECT)$/},HWCompositing:!0,useTransition:!0,useTransform:!0,bindToWrapper:"undefined"==typeof t.onmousedown};for(var o in i)this.options[o]=i[o];this.translateZ=this.options.HWCompositing&&a.hasPerspective?" translateZ(0)":"",this.options.useTransition=a.hasTransition&&this.options.useTransition,this.options.useTransform=a.hasTransform&&this.options.useTransform,this.options.eventPassthrough=this.options.eventPassthrough===!0?"vertical":this.options.eventPassthrough,this.options.preventDefault=!this.options.eventPassthrough&&this.options.preventDefault,this.options.scrollY="vertical"==this.options.eventPassthrough?!1:this.options.scrollY,this.options.scrollX="horizontal"==this.options.eventPassthrough?!1:this.options.scrollX,this.options.freeScroll=this.options.freeScroll&&!this.options.eventPassthrough,this.options.directionLockThreshold=this.options.eventPassthrough?0:this.options.directionLockThreshold,this.options.bounceEasing="string"==typeof this.options.bounceEasing?a.ease[this.options.bounceEasing]||a.ease.circular:this.options.bounceEasing,this.options.resizePolling=void 0===this.options.resizePolling?60:this.options.resizePolling,this.options.tap===!0&&(this.options.tap="tap"),this.options.useTransition||this.options.useTransform||/relative|absolute/i.test(this.scrollerStyle.position)||(this.scrollerStyle.position="relative"),"scale"==this.options.shrinkScrollbars&&(this.options.useTransition=!1),this.options.invertWheelDirection=this.options.invertWheelDirection?-1:1,this.x=0,this.y=0,this.directionX=0,this.directionY=0,this._events={},this._init(),this.refresh(),this.scrollTo(this.options.startX,this.options.startY),this.enable()}function o(t,n,i){var o=e.createElement("div"),r=e.createElement("div");return i===!0&&(o.style.cssText="position:absolute;z-index:9999",r.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;background:rgba(0,0,0,0.5);border:1px solid rgba(255,255,255,0.9);border-radius:3px"),r.className="iScrollIndicator","h"==t?(i===!0&&(o.style.cssText+=";height:7px;left:2px;right:2px;bottom:0",r.style.height="100%"),o.className="iScrollHorizontalScrollbar"):(i===!0&&(o.style.cssText+=";width:7px;bottom:2px;top:2px;right:1px",r.style.width="100%"),o.className="iScrollVerticalScrollbar"),o.style.cssText+=";overflow:hidden",n||(o.style.pointerEvents="none"),o.appendChild(r),o}function r(n,i){this.wrapper="string"==typeof i.el?e.querySelector(i.el):i.el,this.wrapperStyle=this.wrapper.style,this.indicator=this.wrapper.children[0],this.indicatorStyle=this.indicator.style,this.scroller=n,this.options={listenX:!0,listenY:!0,interactive:!1,resize:!0,defaultScrollbars:!1,shrink:!1,fade:!1,speedRatioX:0,speedRatioY:0};for(var o in i)this.options[o]=i[o];if(this.sizeRatioX=1,this.sizeRatioY=1,this.maxPosX=0,this.maxPosY=0,this.options.interactive&&(this.options.disableTouch||(a.addEvent(this.indicator,"touchstart",this),a.addEvent(t,"touchend",this)),this.options.disablePointer||(a.addEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.addEvent(t,a.prefixPointerEvent("pointerup"),this)),this.options.disableMouse||(a.addEvent(this.indicator,"mousedown",this),a.addEvent(t,"mouseup",this))),this.options.fade){this.wrapperStyle[a.style.transform]=this.scroller.translateZ;var r=a.style.transitionDuration;if(!r)return;this.wrapperStyle[r]=a.isBadAndroid?"0.0001ms":"0ms";var c=this;a.isBadAndroid&&s(function(){"0.0001ms"===c.wrapperStyle[r]&&(c.wrapperStyle[r]="0s")}),this.wrapperStyle.opacity="0"}}var s=t.requestAnimationFrame||t.webkitRequestAnimationFrame||t.mozRequestAnimationFrame||t.oRequestAnimationFrame||t.msRequestAnimationFrame||function(e){t.setTimeout(e,1e3/60)},a=function(){function i(t){return s===!1?!1:""===s?t:s+t.charAt(0).toUpperCase()+t.substr(1)}var o={},r=e.createElement("div").style,s=function(){for(var t,e=["t","webkitT","MozT","msT","OT"],n=0,i=e.length;i>n;n++)if(t=e[n]+"ransform",t in r)return e[n].substr(0,e[n].length-1);return!1}();o.getTime=Date.now||function(){return(new Date).getTime()},o.extend=function(t,e){for(var n in e)t[n]=e[n]},o.addEvent=function(t,e,n,i){t.addEventListener(e,n,!!i)},o.removeEvent=function(t,e,n,i){t.removeEventListener(e,n,!!i)},o.prefixPointerEvent=function(e){return t.MSPointerEvent?"MSPointer"+e.charAt(7).toUpperCase()+e.substr(8):e},o.momentum=function(t,e,i,o,r,s){var a,c,l=t-e,u=n.abs(l)/i;return s=void 0===s?6e-4:s,a=t+u*u/(2*s)*(0>l?-1:1),c=u/s,o>a?(a=r?o-r/2.5*(u/8):o,l=n.abs(a-t),c=l/u):a>0&&(a=r?r/2.5*(u/8):0,l=n.abs(t)+a,c=l/u),{destination:n.round(a),duration:c}};var a=i("transform");return o.extend(o,{hasTransform:a!==!1,hasPerspective:i("perspective")in r,hasTouch:"ontouchstart"in t,hasPointer:!(!t.PointerEvent&&!t.MSPointerEvent),hasTransition:i("transition")in r}),o.isBadAndroid=function(){var e=t.navigator.appVersion;if(/Android/.test(e)&&!/Chrome\/\d/.test(e)){var n=e.match(/Safari\/(\d+.\d)/);return n&&"object"===("undefined"==typeof n?"undefined":_typeof(n))&&n.length>=2?parseFloat(n[1])<535.19:!0}return!1}(),o.extend(o.style={},{transform:a,transitionTimingFunction:i("transitionTimingFunction"),transitionDuration:i("transitionDuration"),transitionDelay:i("transitionDelay"),transformOrigin:i("transformOrigin")}),o.hasClass=function(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)},o.addClass=function(t,e){if(!o.hasClass(t,e)){var n=t.className.split(" ");n.push(e),t.className=n.join(" ")}},o.removeClass=function(t,e){if(o.hasClass(t,e)){var n=new RegExp("(^|\\s)"+e+"(\\s|$)","g");t.className=t.className.replace(n," ")}},o.offset=function(t){for(var e=-t.offsetLeft,n=-t.offsetTop;t=t.offsetParent;)e-=t.offsetLeft,n-=t.offsetTop;return{left:e,top:n}},o.preventDefaultException=function(t,e){for(var n in e)if(e[n].test(t[n]))return!0;return!1},o.extend(o.eventType={},{touchstart:1,touchmove:1,touchend:1,mousedown:2,mousemove:2,mouseup:2,pointerdown:3,pointermove:3,pointerup:3,MSPointerDown:3,MSPointerMove:3,MSPointerUp:3}),o.extend(o.ease={},{quadratic:{style:"cubic-bezier(0.25, 0.46, 0.45, 0.94)",fn:function(t){return t*(2-t)}},circular:{style:"cubic-bezier(0.1, 0.57, 0.1, 1)",fn:function(t){return n.sqrt(1- --t*t)}},back:{style:"cubic-bezier(0.175, 0.885, 0.32, 1.275)",fn:function(t){var e=4;return(t-=1)*t*((e+1)*t+e)+1}},bounce:{style:"",fn:function(t){return(t/=1)<1/2.75?7.5625*t*t:2/2.75>t?7.5625*(t-=1.5/2.75)*t+.75:2.5/2.75>t?7.5625*(t-=2.25/2.75)*t+.9375:7.5625*(t-=2.625/2.75)*t+.984375}},elastic:{style:"",fn:function(t){var e=.22,i=.4;return 0===t?0:1==t?1:i*n.pow(2,-10*t)*n.sin(2*(t-e/4)*n.PI/e)+1}}}),o.tap=function(t,n){var i=e.createEvent("Event");i.initEvent(n,!0,!0),i.pageX=t.pageX,i.pageY=t.pageY,t.target.dispatchEvent(i)},o.click=function(n){var i,o=n.target;/(SELECT|INPUT|TEXTAREA)/i.test(o.tagName)||(i=e.createEvent(t.MouseEvent?"MouseEvents":"Event"),i.initEvent("click",!0,!0),i.view=n.view||t,i.detail=1,i.screenX=o.screenX||0,i.screenY=o.screenY||0,i.clientX=o.clientX||0,i.clientY=o.clientY||0,i.ctrlKey=!!n.ctrlKey,i.altKey=!!n.altKey,i.shiftKey=!!n.shiftKey,i.metaKey=!!n.metaKey,i.button=0,i.relatedTarget=null,i._constructed=!0,o.dispatchEvent(i))},o}();return i.prototype={version:"5.2.0",_init:function(){this._initEvents(),(this.options.scrollbars||this.options.indicators)&&this._initIndicators(),this.options.mouseWheel&&this._initWheel(),this.options.snap&&this._initSnap(),this.options.keyBindings&&this._initKeys()},destroy:function(){this._initEvents(!0),clearTimeout(this.resizeTimeout),this.resizeTimeout=null,this._execEvent("destroy")},_transitionEnd:function(t){t.target==this.scroller&&this.isInTransition&&(this._transitionTime(),this.resetPosition(this.options.bounceTime)||(this.isInTransition=!1,this._execEvent("scrollEnd")))},_start:function(t){if(1!=a.eventType[t.type]){var e;if(e=t.which?t.button:t.button<2?0:4==t.button?1:2,0!==e)return}if(this.enabled&&(!this.initiated||a.eventType[t.type]===this.initiated)){!this.options.preventDefault||a.isBadAndroid||a.preventDefaultException(t.target,this.options.preventDefaultException)||t.preventDefault();var i,o=t.touches?t.touches[0]:t;this.initiated=a.eventType[t.type],this.moved=!1,this.distX=0,this.distY=0,this.directionX=0,this.directionY=0,this.directionLocked=0,this.startTime=a.getTime(),this.options.useTransition&&this.isInTransition?(this._transitionTime(),this.isInTransition=!1,i=this.getComputedPosition(),this._translate(n.round(i.x),n.round(i.y)),this._execEvent("scrollEnd")):!this.options.useTransition&&this.isAnimating&&(this.isAnimating=!1,this._execEvent("scrollEnd")),this.startX=this.x,this.startY=this.y,this.absStartX=this.x,this.absStartY=this.y,this.pointX=o.pageX,this.pointY=o.pageY,this._execEvent("beforeScrollStart")}},_move:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&t.preventDefault();var e,i,o,r,s=t.touches?t.touches[0]:t,c=s.pageX-this.pointX,l=s.pageY-this.pointY,u=a.getTime();if(this.pointX=s.pageX,this.pointY=s.pageY,this.distX+=c,this.distY+=l,o=n.abs(this.distX),r=n.abs(this.distY),!(u-this.endTime>300&&10>o&&10>r)){if(this.directionLocked||this.options.freeScroll||(this.directionLocked=o>r+this.options.directionLockThreshold?"h":r>=o+this.options.directionLockThreshold?"v":"n"),"h"==this.directionLocked){if("vertical"==this.options.eventPassthrough)t.preventDefault();else if("horizontal"==this.options.eventPassthrough)return this.initiated=!1,void 0;l=0}else if("v"==this.directionLocked){if("horizontal"==this.options.eventPassthrough)t.preventDefault();else if("vertical"==this.options.eventPassthrough)return this.initiated=!1,void 0;c=0}c=this.hasHorizontalScroll?c:0,l=this.hasVerticalScroll?l:0,e=this.x+c,i=this.y+l,(e>0||e<this.maxScrollX)&&(e=this.options.bounce?this.x+c/3:e>0?0:this.maxScrollX),(i>0||i<this.maxScrollY)&&(i=this.options.bounce?this.y+l/3:i>0?0:this.maxScrollY),this.directionX=c>0?-1:0>c?1:0,this.directionY=l>0?-1:0>l?1:0,this.moved||this._execEvent("scrollStart"),this.moved=!0,this._translate(e,i),u-this.startTime>300&&(this.startTime=u,this.startX=this.x,this.startY=this.y)}}},_end:function(t){if(this.enabled&&a.eventType[t.type]===this.initiated){this.options.preventDefault&&!a.preventDefaultException(t.target,this.options.preventDefaultException)&&t.preventDefault();var e,i,o=(t.changedTouches?t.changedTouches[0]:t,a.getTime()-this.startTime),r=n.round(this.x),s=n.round(this.y),c=n.abs(r-this.startX),l=n.abs(s-this.startY),u=0,h="";if(this.isInTransition=0,this.initiated=0,this.endTime=a.getTime(),!this.resetPosition(this.options.bounceTime)){if(this.scrollTo(r,s),!this.moved)return this.options.tap&&a.tap(t,this.options.tap),this.options.click&&a.click(t),this._execEvent("scrollCancel"),void 0;if(this._events.flick&&200>o&&100>c&&100>l)return this._execEvent("flick"),void 0;if(this.options.momentum&&300>o&&(e=this.hasHorizontalScroll?a.momentum(this.x,this.startX,o,this.maxScrollX,this.options.bounce?this.wrapperWidth:0,this.options.deceleration):{destination:r,duration:0},i=this.hasVerticalScroll?a.momentum(this.y,this.startY,o,this.maxScrollY,this.options.bounce?this.wrapperHeight:0,this.options.deceleration):{destination:s,duration:0},r=e.destination,s=i.destination,u=n.max(e.duration,i.duration),this.isInTransition=1),this.options.snap){var p=this._nearestSnap(r,s);this.currentPage=p,u=this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-p.x),1e3),n.min(n.abs(s-p.y),1e3)),300),r=p.x,s=p.y,this.directionX=0,this.directionY=0,h=this.options.bounceEasing}return r!=this.x||s!=this.y?((r>0||r<this.maxScrollX||s>0||s<this.maxScrollY)&&(h=a.ease.quadratic),this.scrollTo(r,s,u,h),void 0):(this._execEvent("scrollEnd"),void 0)}}},_resize:function(){var t=this;clearTimeout(this.resizeTimeout),this.resizeTimeout=setTimeout(function(){t.refresh()},this.options.resizePolling)},resetPosition:function(t){var e=this.x,n=this.y;return t=t||0,!this.hasHorizontalScroll||this.x>0?e=0:this.x<this.maxScrollX&&(e=this.maxScrollX),!this.hasVerticalScroll||this.y>0?n=0:this.y<this.maxScrollY&&(n=this.maxScrollY),e==this.x&&n==this.y?!1:(this.scrollTo(e,n,t,this.options.bounceEasing),!0)},disable:function(){this.enabled=!1},enable:function(){this.enabled=!0},refresh:function(){this.wrapper.offsetHeight;this.wrapperWidth=this.wrapper.clientWidth,this.wrapperHeight=this.wrapper.clientHeight,this.scrollerWidth=this.scroller.offsetWidth,this.scrollerHeight=this.scroller.offsetHeight,this.maxScrollX=this.wrapperWidth-this.scrollerWidth,this.maxScrollY=this.wrapperHeight-this.scrollerHeight,this.hasHorizontalScroll=this.options.scrollX&&this.maxScrollX<0,this.hasVerticalScroll=this.options.scrollY&&this.maxScrollY<0,this.hasHorizontalScroll||(this.maxScrollX=0,this.scrollerWidth=this.wrapperWidth),this.hasVerticalScroll||(this.maxScrollY=0,this.scrollerHeight=this.wrapperHeight),this.endTime=0,this.directionX=0,this.directionY=0,this.wrapperOffset=a.offset(this.wrapper),this._execEvent("refresh"),this.resetPosition()},on:function(t,e){this._events[t]||(this._events[t]=[]),this._events[t].push(e)},off:function(t,e){if(this._events[t]){var n=this._events[t].indexOf(e);n>-1&&this._events[t].splice(n,1)}},_execEvent:function(t){if(this._events[t]){var e=0,n=this._events[t].length;if(n)for(;n>e;e++)this._events[t][e].apply(this,[].slice.call(arguments,1))}},scrollBy:function(t,e,n,i){t=this.x+t,e=this.y+e,n=n||0,this.scrollTo(t,e,n,i)},scrollTo:function(t,e,n,i){i=i||a.ease.circular,this.isInTransition=this.options.useTransition&&n>0;var o=this.options.useTransition&&i.style;!n||o?(o&&(this._transitionTimingFunction(i.style),this._transitionTime(n)),this._translate(t,e)):this._animate(t,e,n,i.fn)},scrollToElement:function(t,e,i,o,r){if(t=t.nodeType?t:this.scroller.querySelector(t)){var s=a.offset(t);s.left-=this.wrapperOffset.left,s.top-=this.wrapperOffset.top,i===!0&&(i=n.round(t.offsetWidth/2-this.wrapper.offsetWidth/2)),o===!0&&(o=n.round(t.offsetHeight/2-this.wrapper.offsetHeight/2)),s.left-=i||0,s.top-=o||0,s.left=s.left>0?0:s.left<this.maxScrollX?this.maxScrollX:s.left,s.top=s.top>0?0:s.top<this.maxScrollY?this.maxScrollY:s.top,e=void 0===e||null===e||"auto"===e?n.max(n.abs(this.x-s.left),n.abs(this.y-s.top)):e,this.scrollTo(s.left,s.top,e,r)}},_transitionTime:function(t){if(this.options.useTransition){t=t||0;var e=a.style.transitionDuration;if(e){if(this.scrollerStyle[e]=t+"ms",!t&&a.isBadAndroid){this.scrollerStyle[e]="0.0001ms";var n=this;s(function(){"0.0001ms"===n.scrollerStyle[e]&&(n.scrollerStyle[e]="0s")})}if(this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].transitionTime(t)}}},_transitionTimingFunction:function(t){if(this.scrollerStyle[a.style.transitionTimingFunction]=t,this.indicators)for(var e=this.indicators.length;e--;)this.indicators[e].transitionTimingFunction(t)},_translate:function(t,e){if(this.options.useTransform?this.scrollerStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.translateZ:(t=n.round(t),e=n.round(e),this.scrollerStyle.left=t+"px",this.scrollerStyle.top=e+"px"),this.x=t,this.y=e,this.indicators)for(var i=this.indicators.length;i--;)this.indicators[i].updatePosition()},_initEvents:function(e){var n=e?a.removeEvent:a.addEvent,i=this.options.bindToWrapper?this.wrapper:t;n(t,"orientationchange",this),n(t,"resize",this),this.options.click&&n(this.wrapper,"click",this,!0),this.options.disableMouse||(n(this.wrapper,"mousedown",this),n(i,"mousemove",this),n(i,"mousecancel",this),n(i,"mouseup",this)),a.hasPointer&&!this.options.disablePointer&&(n(this.wrapper,a.prefixPointerEvent("pointerdown"),this),n(i,a.prefixPointerEvent("pointermove"),this),n(i,a.prefixPointerEvent("pointercancel"),this),n(i,a.prefixPointerEvent("pointerup"),this)),a.hasTouch&&!this.options.disableTouch&&(n(this.wrapper,"touchstart",this),n(i,"touchmove",this),n(i,"touchcancel",this),n(i,"touchend",this)),n(this.scroller,"transitionend",this),n(this.scroller,"webkitTransitionEnd",this),n(this.scroller,"oTransitionEnd",this),n(this.scroller,"MSTransitionEnd",this)},getComputedPosition:function(){var e,n,i=t.getComputedStyle(this.scroller,null);return this.options.useTransform?(i=i[a.style.transform].split(")")[0].split(", "),e=+(i[12]||i[4]),n=+(i[13]||i[5])):(e=+i.left.replace(/[^-\d.]/g,""),n=+i.top.replace(/[^-\d.]/g,"")),{x:e,y:n}},_initIndicators:function(){function t(t){if(a.indicators)for(var e=a.indicators.length;e--;)t.call(a.indicators[e])}var e,n=this.options.interactiveScrollbars,i="string"!=typeof this.options.scrollbars,s=[],a=this;this.indicators=[],this.options.scrollbars&&(this.options.scrollY&&(e={el:o("v",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenX:!1},this.wrapper.appendChild(e.el),s.push(e)),this.options.scrollX&&(e={el:o("h",n,this.options.scrollbars),interactive:n,defaultScrollbars:!0,customStyle:i,resize:this.options.resizeScrollbars,shrink:this.options.shrinkScrollbars,fade:this.options.fadeScrollbars,listenY:!1},this.wrapper.appendChild(e.el),s.push(e))),this.options.indicators&&(s=s.concat(this.options.indicators));for(var c=s.length;c--;)this.indicators.push(new r(this,s[c]));this.options.fadeScrollbars&&(this.on("scrollEnd",function(){t(function(){this.fade()})}),this.on("scrollCancel",function(){t(function(){this.fade()})}),this.on("scrollStart",function(){t(function(){this.fade(1)})}),this.on("beforeScrollStart",function(){t(function(){this.fade(1,!0)})})),this.on("refresh",function(){t(function(){this.refresh()})}),this.on("destroy",function(){t(function(){this.destroy()}),delete this.indicators})},_initWheel:function(){a.addEvent(this.wrapper,"wheel",this),a.addEvent(this.wrapper,"mousewheel",this),a.addEvent(this.wrapper,"DOMMouseScroll",this),this.on("destroy",function(){clearTimeout(this.wheelTimeout),this.wheelTimeout=null,a.removeEvent(this.wrapper,"wheel",this),a.removeEvent(this.wrapper,"mousewheel",this),a.removeEvent(this.wrapper,"DOMMouseScroll",this)})},_wheel:function(t){if(this.enabled){t.preventDefault();var e,i,o,r,s=this;if(void 0===this.wheelTimeout&&s._execEvent("scrollStart"),clearTimeout(this.wheelTimeout),this.wheelTimeout=setTimeout(function(){s.options.snap||s._execEvent("scrollEnd"),s.wheelTimeout=void 0},400),"deltaX"in t)1===t.deltaMode?(e=-t.deltaX*this.options.mouseWheelSpeed,i=-t.deltaY*this.options.mouseWheelSpeed):(e=-t.deltaX,i=-t.deltaY);else if("wheelDeltaX"in t)e=t.wheelDeltaX/120*this.options.mouseWheelSpeed,i=t.wheelDeltaY/120*this.options.mouseWheelSpeed;else if("wheelDelta"in t)e=i=t.wheelDelta/120*this.options.mouseWheelSpeed;else{if(!("detail"in t))return;e=i=-t.detail/3*this.options.mouseWheelSpeed}if(e*=this.options.invertWheelDirection,i*=this.options.invertWheelDirection,this.hasVerticalScroll||(e=i,i=0),this.options.snap)return o=this.currentPage.pageX,r=this.currentPage.pageY,e>0?o--:0>e&&o++,i>0?r--:0>i&&r++,this.goToPage(o,r),void 0;o=this.x+n.round(this.hasHorizontalScroll?e:0),r=this.y+n.round(this.hasVerticalScroll?i:0),this.directionX=e>0?-1:0>e?1:0,this.directionY=i>0?-1:0>i?1:0,o>0?o=0:o<this.maxScrollX&&(o=this.maxScrollX),r>0?r=0:r<this.maxScrollY&&(r=this.maxScrollY),this.scrollTo(o,r,0)}},_initSnap:function(){this.currentPage={},"string"==typeof this.options.snap&&(this.options.snap=this.scroller.querySelectorAll(this.options.snap)),this.on("refresh",function(){var t,e,i,o,r,s,a=0,c=0,l=0,u=this.options.snapStepX||this.wrapperWidth,h=this.options.snapStepY||this.wrapperHeight;if(this.pages=[],this.wrapperWidth&&this.wrapperHeight&&this.scrollerWidth&&this.scrollerHeight){if(this.options.snap===!0)for(i=n.round(u/2),o=n.round(h/2);l>-this.scrollerWidth;){for(this.pages[a]=[],t=0,r=0;r>-this.scrollerHeight;)this.pages[a][t]={x:n.max(l,this.maxScrollX),y:n.max(r,this.maxScrollY),width:u,height:h,cx:l-i,cy:r-o},r-=h,t++;l-=u,a++}else for(s=this.options.snap,t=s.length,e=-1;t>a;a++)(0===a||s[a].offsetLeft<=s[a-1].offsetLeft)&&(c=0,e++),this.pages[c]||(this.pages[c]=[]),l=n.max(-s[a].offsetLeft,this.maxScrollX),r=n.max(-s[a].offsetTop,this.maxScrollY),i=l-n.round(s[a].offsetWidth/2),o=r-n.round(s[a].offsetHeight/2),this.pages[c][e]={x:l,y:r,width:s[a].offsetWidth,height:s[a].offsetHeight,cx:i,cy:o},l>this.maxScrollX&&c++;this.goToPage(this.currentPage.pageX||0,this.currentPage.pageY||0,0),this.options.snapThreshold%1===0?(this.snapThresholdX=this.options.snapThreshold,this.snapThresholdY=this.options.snapThreshold):(this.snapThresholdX=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].width*this.options.snapThreshold),this.snapThresholdY=n.round(this.pages[this.currentPage.pageX][this.currentPage.pageY].height*this.options.snapThreshold))}}),this.on("flick",function(){var t=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.x-this.startX),1e3),n.min(n.abs(this.y-this.startY),1e3)),300);this.goToPage(this.currentPage.pageX+this.directionX,this.currentPage.pageY+this.directionY,t)})},_nearestSnap:function(t,e){if(!this.pages.length)return{x:0,y:0,pageX:0,pageY:0};var i=0,o=this.pages.length,r=0;if(n.abs(t-this.absStartX)<this.snapThresholdX&&n.abs(e-this.absStartY)<this.snapThresholdY)return this.currentPage;for(t>0?t=0:t<this.maxScrollX&&(t=this.maxScrollX),e>0?e=0:e<this.maxScrollY&&(e=this.maxScrollY);o>i;i++)if(t>=this.pages[i][0].cx){t=this.pages[i][0].x;break}for(o=this.pages[i].length;o>r;r++)if(e>=this.pages[0][r].cy){e=this.pages[0][r].y;break}return i==this.currentPage.pageX&&(i+=this.directionX,0>i?i=0:i>=this.pages.length&&(i=this.pages.length-1),t=this.pages[i][0].x),r==this.currentPage.pageY&&(r+=this.directionY,0>r?r=0:r>=this.pages[0].length&&(r=this.pages[0].length-1),e=this.pages[0][r].y),{x:t,y:e,pageX:i,pageY:r}},goToPage:function(t,e,i,o){o=o||this.options.bounceEasing,t>=this.pages.length?t=this.pages.length-1:0>t&&(t=0),e>=this.pages[t].length?e=this.pages[t].length-1:0>e&&(e=0);var r=this.pages[t][e].x,s=this.pages[t][e].y;i=void 0===i?this.options.snapSpeed||n.max(n.max(n.min(n.abs(r-this.x),1e3),n.min(n.abs(s-this.y),1e3)),300):i,this.currentPage={x:r,y:s,pageX:t,pageY:e},this.scrollTo(r,s,i,o)},next:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n++,n>=this.pages.length&&this.hasVerticalScroll&&(n=0,i++),this.goToPage(n,i,t,e)},prev:function(t,e){var n=this.currentPage.pageX,i=this.currentPage.pageY;n--,0>n&&this.hasVerticalScroll&&(n=0,i--),this.goToPage(n,i,t,e)},_initKeys:function(){var e,n={pageUp:33,pageDown:34,end:35,home:36,left:37,up:38,right:39,down:40};if("object"==_typeof(this.options.keyBindings))for(e in this.options.keyBindings)"string"==typeof this.options.keyBindings[e]&&(this.options.keyBindings[e]=this.options.keyBindings[e].toUpperCase().charCodeAt(0));else this.options.keyBindings={};for(e in n)this.options.keyBindings[e]=this.options.keyBindings[e]||n[e];a.addEvent(t,"keydown",this),this.on("destroy",function(){a.removeEvent(t,"keydown",this)})},_key:function(t){if(this.enabled){var e,i=this.options.snap,o=i?this.currentPage.pageX:this.x,r=i?this.currentPage.pageY:this.y,s=a.getTime(),c=this.keyTime||0,l=.25;switch(this.options.useTransition&&this.isInTransition&&(e=this.getComputedPosition(),this._translate(n.round(e.x),n.round(e.y)),this.isInTransition=!1),this.keyAcceleration=200>s-c?n.min(this.keyAcceleration+l,50):0,t.keyCode){case this.options.keyBindings.pageUp:this.hasHorizontalScroll&&!this.hasVerticalScroll?o+=i?1:this.wrapperWidth:r+=i?1:this.wrapperHeight;break;case this.options.keyBindings.pageDown:this.hasHorizontalScroll&&!this.hasVerticalScroll?o-=i?1:this.wrapperWidth:r-=i?1:this.wrapperHeight;break;case this.options.keyBindings.end:o=i?this.pages.length-1:this.maxScrollX,r=i?this.pages[0].length-1:this.maxScrollY;break;case this.options.keyBindings.home:o=0,r=0;break;case this.options.keyBindings.left:o+=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.up:r+=i?1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.right:o-=i?-1:5+this.keyAcceleration>>0;break;case this.options.keyBindings.down:r-=i?1:5+this.keyAcceleration>>0;break;default:return}if(i)return this.goToPage(o,r),void 0;o>0?(o=0,this.keyAcceleration=0):o<this.maxScrollX&&(o=this.maxScrollX,this.keyAcceleration=0),r>0?(r=0,this.keyAcceleration=0):r<this.maxScrollY&&(r=this.maxScrollY,this.keyAcceleration=0),this.scrollTo(o,r,0),this.keyTime=s}},_animate:function(t,e,n,i){function o(){var p,d,f,m=a.getTime();return m>=h?(r.isAnimating=!1,r._translate(t,e),r.resetPosition(r.options.bounceTime)||r._execEvent("scrollEnd"),void 0):(m=(m-u)/n,f=i(m),p=(t-c)*f+c,d=(e-l)*f+l,r._translate(p,d),r.isAnimating&&s(o),void 0)}var r=this,c=this.x,l=this.y,u=a.getTime(),h=u+n;this.isAnimating=!0,o()},handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t);break;case"orientationchange":case"resize":this._resize();break;case"transitionend":case"webkitTransitionEnd":case"oTransitionEnd":case"MSTransitionEnd":this._transitionEnd(t);break;case"wheel":case"DOMMouseScroll":case"mousewheel":this._wheel(t);break;case"keydown":this._key(t);break;case"click":this.enabled&&!t._constructed&&(t.preventDefault(),t.stopPropagation())}}},r.prototype={handleEvent:function(t){switch(t.type){case"touchstart":case"pointerdown":case"MSPointerDown":case"mousedown":this._start(t);break;case"touchmove":case"pointermove":case"MSPointerMove":case"mousemove":this._move(t);break;case"touchend":case"pointerup":case"MSPointerUp":case"mouseup":case"touchcancel":case"pointercancel":case"MSPointerCancel":case"mousecancel":this._end(t)}},destroy:function(){this.options.fadeScrollbars&&(clearTimeout(this.fadeTimeout),this.fadeTimeout=null),this.options.interactive&&(a.removeEvent(this.indicator,"touchstart",this),a.removeEvent(this.indicator,a.prefixPointerEvent("pointerdown"),this),a.removeEvent(this.indicator,"mousedown",this),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),a.removeEvent(t,"touchend",this),a.removeEvent(t,a.prefixPointerEvent("pointerup"),this),a.removeEvent(t,"mouseup",this)),this.options.defaultScrollbars&&this.wrapper.parentNode.removeChild(this.wrapper)},_start:function(e){var n=e.touches?e.touches[0]:e;e.preventDefault(),e.stopPropagation(),this.transitionTime(),this.initiated=!0,this.moved=!1,this.lastPointX=n.pageX,this.lastPointY=n.pageY,this.startTime=a.getTime(),this.options.disableTouch||a.addEvent(t,"touchmove",this),this.options.disablePointer||a.addEvent(t,a.prefixPointerEvent("pointermove"),this),this.options.disableMouse||a.addEvent(t,"mousemove",this),this.scroller._execEvent("beforeScrollStart")},_move:function(t){{var e,n,i,o,r=t.touches?t.touches[0]:t;a.getTime()}this.moved||this.scroller._execEvent("scrollStart"),this.moved=!0,e=r.pageX-this.lastPointX,this.lastPointX=r.pageX,n=r.pageY-this.lastPointY,this.lastPointY=r.pageY,i=this.x+e,o=this.y+n,this._pos(i,o),t.preventDefault(),t.stopPropagation()},_end:function(e){if(this.initiated){if(this.initiated=!1,e.preventDefault(),e.stopPropagation(),a.removeEvent(t,"touchmove",this),a.removeEvent(t,a.prefixPointerEvent("pointermove"),this),a.removeEvent(t,"mousemove",this),this.scroller.options.snap){var i=this.scroller._nearestSnap(this.scroller.x,this.scroller.y),o=this.options.snapSpeed||n.max(n.max(n.min(n.abs(this.scroller.x-i.x),1e3),n.min(n.abs(this.scroller.y-i.y),1e3)),300);(this.scroller.x!=i.x||this.scroller.y!=i.y)&&(this.scroller.directionX=0,this.scroller.directionY=0,this.scroller.currentPage=i,this.scroller.scrollTo(i.x,i.y,o,this.scroller.options.bounceEasing))}this.moved&&this.scroller._execEvent("scrollEnd")}},transitionTime:function(t){t=t||0;var e=a.style.transitionDuration;if(e&&(this.indicatorStyle[e]=t+"ms",!t&&a.isBadAndroid)){this.indicatorStyle[e]="0.0001ms";var n=this;s(function(){"0.0001ms"===n.indicatorStyle[e]&&(n.indicatorStyle[e]="0s")})}},transitionTimingFunction:function(t){this.indicatorStyle[a.style.transitionTimingFunction]=t},refresh:function(){this.transitionTime(),this.indicatorStyle.display=this.options.listenX&&!this.options.listenY?this.scroller.hasHorizontalScroll?"block":"none":this.options.listenY&&!this.options.listenX?this.scroller.hasVerticalScroll?"block":"none":this.scroller.hasHorizontalScroll||this.scroller.hasVerticalScroll?"block":"none",this.scroller.hasHorizontalScroll&&this.scroller.hasVerticalScroll?(a.addClass(this.wrapper,"iScrollBothScrollbars"),a.removeClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="8px":this.wrapper.style.bottom="8px")):(a.removeClass(this.wrapper,"iScrollBothScrollbars"),a.addClass(this.wrapper,"iScrollLoneScrollbar"),this.options.defaultScrollbars&&this.options.customStyle&&(this.options.listenX?this.wrapper.style.right="2px":this.wrapper.style.bottom="2px"));this.wrapper.offsetHeight;this.options.listenX&&(this.wrapperWidth=this.wrapper.clientWidth,this.options.resize?(this.indicatorWidth=n.max(n.round(this.wrapperWidth*this.wrapperWidth/(this.scroller.scrollerWidth||this.wrapperWidth||1)),8),this.indicatorStyle.width=this.indicatorWidth+"px"):this.indicatorWidth=this.indicator.clientWidth,this.maxPosX=this.wrapperWidth-this.indicatorWidth,"clip"==this.options.shrink?(this.minBoundaryX=-this.indicatorWidth+8,this.maxBoundaryX=this.wrapperWidth-8):(this.minBoundaryX=0,this.maxBoundaryX=this.maxPosX),this.sizeRatioX=this.options.speedRatioX||this.scroller.maxScrollX&&this.maxPosX/this.scroller.maxScrollX),this.options.listenY&&(this.wrapperHeight=this.wrapper.clientHeight,this.options.resize?(this.indicatorHeight=n.max(n.round(this.wrapperHeight*this.wrapperHeight/(this.scroller.scrollerHeight||this.wrapperHeight||1)),8),this.indicatorStyle.height=this.indicatorHeight+"px"):this.indicatorHeight=this.indicator.clientHeight,this.maxPosY=this.wrapperHeight-this.indicatorHeight,"clip"==this.options.shrink?(this.minBoundaryY=-this.indicatorHeight+8,this.maxBoundaryY=this.wrapperHeight-8):(this.minBoundaryY=0,this.maxBoundaryY=this.maxPosY),this.maxPosY=this.wrapperHeight-this.indicatorHeight,this.sizeRatioY=this.options.speedRatioY||this.scroller.maxScrollY&&this.maxPosY/this.scroller.maxScrollY),this.updatePosition()},updatePosition:function(){var t=this.options.listenX&&n.round(this.sizeRatioX*this.scroller.x)||0,e=this.options.listenY&&n.round(this.sizeRatioY*this.scroller.y)||0;this.options.ignoreBoundaries||(t<this.minBoundaryX?("scale"==this.options.shrink&&(this.width=n.max(this.indicatorWidth+t,8),this.indicatorStyle.width=this.width+"px"),t=this.minBoundaryX):t>this.maxBoundaryX?"scale"==this.options.shrink?(this.width=n.max(this.indicatorWidth-(t-this.maxPosX),8),this.indicatorStyle.width=this.width+"px",t=this.maxPosX+this.indicatorWidth-this.width):t=this.maxBoundaryX:"scale"==this.options.shrink&&this.width!=this.indicatorWidth&&(this.width=this.indicatorWidth,this.indicatorStyle.width=this.width+"px"),e<this.minBoundaryY?("scale"==this.options.shrink&&(this.height=n.max(this.indicatorHeight+3*e,8),this.indicatorStyle.height=this.height+"px"),e=this.minBoundaryY):e>this.maxBoundaryY?"scale"==this.options.shrink?(this.height=n.max(this.indicatorHeight-3*(e-this.maxPosY),8),this.indicatorStyle.height=this.height+"px",e=this.maxPosY+this.indicatorHeight-this.height):e=this.maxBoundaryY:"scale"==this.options.shrink&&this.height!=this.indicatorHeight&&(this.height=this.indicatorHeight,this.indicatorStyle.height=this.height+"px")),this.x=t,this.y=e,this.scroller.options.useTransform?this.indicatorStyle[a.style.transform]="translate("+t+"px,"+e+"px)"+this.scroller.translateZ:(this.indicatorStyle.left=t+"px",this.indicatorStyle.top=e+"px")
},_pos:function(t,e){0>t?t=0:t>this.maxPosX&&(t=this.maxPosX),0>e?e=0:e>this.maxPosY&&(e=this.maxPosY),t=this.options.listenX?n.round(t/this.sizeRatioX):this.scroller.x,e=this.options.listenY?n.round(e/this.sizeRatioY):this.scroller.y,this.scroller.scrollTo(t,e)},fade:function(t,e){if(!e||this.visible){clearTimeout(this.fadeTimeout),this.fadeTimeout=null;var n=t?250:500,i=t?0:300;t=t?"1":"0",this.wrapperStyle[a.style.transitionDuration]=n+"ms",this.fadeTimeout=setTimeout(function(t){this.wrapperStyle.opacity=t,this.visible=+t}.bind(this,t),i)}}},i.utils=a,i}(window,document,Math)},{}],28:[function(t,e){/*! observable - v0.1.5 - 2013-06-17
       * Copyright (c) 2013 HTML5 tech team, Daum corp;
       * Licensed MIT*/
!function(){var t=!1,e=/xyz/.test(function(){})?/\b_super\b/:/.*/;this.Class=function(){},Class.extend=function(n){function i(){!t&&this.init&&this.init.apply(this,arguments)}var o=this.prototype;t=!0;var r=new this;t=!1;for(var s in n)r[s]="function"==typeof n[s]&&"function"==typeof o[s]&&e.test(n[s])?function(t,e){return function(){var n=this._super;this._super=o[t];var i=e.apply(this,arguments);return this._super=n,i}}(s,n[s]):n[s];return i.prototype=r,i.prototype.constructor=i,i.extend=arguments.callee,i},this.Observable=Class.extend({addListener:function(t,e){var n=this.getListeners(t);return n.push(e),this},on:function(){return this.addListener.apply(this,arguments)},emit:function(t){var e=this.getListeners(t),n=[].slice.call(arguments,1);if("undefined"!=typeof e)for(var i=0,o=e.length;o>i;i++)try{e[i].apply(this,n)}catch(r){throw"undefined"!=typeof console&&console.error('failed on while "'+t+'" event, caused by\r\n > '+r),r}return this},removeListener:function(t,e){var n=this.getListeners(t);if("undefined"!=typeof n)for(var i=0,o=n.length;o>i;i++)if(n[i]===e||n[i].__original__===e){n.splice(i,1);break}return this},off:function(){return this.removeListener.apply(this,arguments)},getListeners:function(t){return this.listeners=this.listeners||{},this.listeners[t]=this.listeners[t]||[],this.listeners[t]}})}(),e.exports=function(){function e(t,e){for(var n=t.parentNode,i=e.parentNode;null!==i;){if(i===n)return!0;i=i.parentNode}return!1}function n(t,e){var n=new RegExp("(^|\\s)"+e+"(\\s|$)");return n.test(t.className)}function i(t,e){n(t,e)||(t.className?t.className+=" "+e:t.className=e)}function o(t,e){n(t,e)&&t.className&&(t.className=(" "+t.className+" ").replace(" "+e+" "," ").replace(/^\s+|\s+$/g,""))}function r(t){("keydown"!==t.type||(t.ctrlKey||t.metaKey)&&(65===t.keyCode||97===t.keyCode||67===t.keyCode||99===t.keyCode))&&(l.preventDefault(t),l.stopPropagation(t))}function s(t,e,n){var i=t||{};for(var o in e)e.hasOwnProperty(o)&&(!i[o]||n)&&(i[o]="object"===_typeof(e[o])?s(i[o],e[o],!0):e[o]);return i}var a="com.kakao.talk",c="362057947",l=t("./util.js");!function(t){return t.$=function(t){return document.getElementById(t)},window.Sizzle?(t.$$=window.Sizzle,void 0):window.jQuery&&window.jQuery.find?(t.$$=window.jQuery.find,void 0):(t.$$=function(t,e){return"object"===("undefined"==typeof e?"undefined":_typeof(e))&&e.querySelectorAll?e.querySelectorAll(t):"string"==typeof e?document.querySelectorAll(e+" "+t):document.querySelectorAll(t)},void 0)}(l);var u,h=t("../kakao-js-sdk/src/common.js"),p=t("./api.js"),d=t("../kakao-js-sdk/src/common/everntObserver"),f=t("./emoticon.animate"),m=t("../kakao-js-sdk/vendor/web2app.js"),g=[],v=[],y=-401,k=-402,b={tabmenu:'<div id="emoticonTabWrapper" class="emoticon_control"><ul id="emoticonTab" class="emoticon_tab"></ul></div>',tabmenu_pc:'<div id="emoticonTabWrapper" class="emoticon_control"><ul id="emoticonTab" class="emoticon_tab"></ul><a href="#" class="paging btn_prev"><span class="ico_arr">ì´ì </span></a><a href="#" class="paging btn_next"><span class="ico_arr">ë¤ì</span></a></div>',emoticons:'<div id="emoticonListWrapper" class="emoticon_list_wrapper"><div id="emoticonList" class="emoticon_list"></div></div>',guide:'<div class="user_guide"><div class="guide_inner"><img src="//mk.kakaocdn.net/dn/emoticon/static/images/sdk/guild_title.png" width="60" height="66" /><strong class="title">ì¹´ì¹´ì¤í¡ìì êµ¬ë§¤í ì´ëª¨í°ì½ì ì¬ì©í  ì ìì´ì.<br />ë¤ìí ì´ëª¨í°ì½ì¼ë¡ ëë¥¼ ííí´ ë³´ì¸ì!</strong><span class="note">íì¬ë íë ì¦ì´ëª¨í°ì½ë§ ì¬ì© ê°ë¥íë©´ ì¶í íëë  ìì ìëë¤.</span><button type="button" class="btn_close"><span>ë«ê¸°</span></button></div></div>',store_link:'<li><button type="button" class="link_tab store_link"><img style="height:20px;" src="//mk.kakaocdn.net/dn/emoticon/static/images/sdk/store_link.png" /></button></li>'},w={need_agree:'<div class="layer_agree"><div class="inner_agree_layer"><div class="need_agree"><img src="//mk.kakaocdn.net/dn/emoticon/static/images/sdk/emoticon_title.png" width="135" height="15" /><div class="title_wrapper"><strong class="tit_agree tit_detail">ì¹´ì¹´ì¤í¡ ì´ëª¨í°ì½ ì¬ì©ì ìí´<br />ì¬ì©ìì ì¶ê° ëìê° íìí©ëë¤.<br />íë¨ë²í¼ì ëë¥´ë©´ ëì íì´ì§ë¡ ì´ëí©ëë¤.</strong></div><a href="#" class="btn_agree btn_submit">ëìíë¬ ê°ê¸°</a></div></div></div>',expire_token:'<div class="layer_agree"><div class="inner_agree_layer"><div class="need_agree"><img src="//mk.kakaocdn.net/dn/emoticon/static/images/sdk/emoticon_title.png" width="135" height="15" /><div class="title_wrapper"><strong class="tit_extend tit_detail">ì¹´ì¹´ì¤ê³ì  ë¡ê·¸ì¸ ì í¨ ìê°ì´ ë§ë£ëììµëë¤.<br />ê³ìíë ¤ë©´ ë¡ê·¸ì¸ì ì°ì¥í´ì£¼ì¸ì.</strong></div><a href="#" class="btn_extend btn_submit">ë¡ê·¸ì¸ ì°ì¥íê¸°</a></div></div></div>'},_={ENABLED:0,EXPIRE_TOKEN:-401,NEED_AGREE:-402},x=p.createAPIAlias({url:"/api/sdk/items"}),T=p.createAPIAlias({url:"/api/sdk/config"}),S={configurations:{},signature:null,needUpdate:!0,init:function(t){this.emoticon=new E(t)},toggleKeyboard:function(t){this.emoticon.toggleKeyboard(t)},showKeyboard:function(t){var e=this.emoticon;e.current||(e.current=t,e.current.appendChild(e.keyboardEl)),e._getEmoticonData(function(){e.emit("toggleKeyboard",t,!0)})},reset:function(){this.emoticon&&this.emoticon.reset()},getCurrentLayer:function(){return this.emoticon.getCurrentLayer()},update:function(t){var e=t||"kakao_emoticon";this._updateConfig(this._applyEmoticon,e)},_updateConfig:function(t){var e=this,n=[].slice.call(arguments,1),i=JSON.parse(l.localStorage.getItem("kconf"));return i&&(this.configurations=i,this.signature=1e3*i.auth.expires),this._isExpired()?(this.needUpdate&&(u=null,this.needUpdate=!1),u||(u=new Promise(function(t){T().then(function(e){l.localStorage.setItem("kconf",JSON.stringify(e)),t(e)}).then(void 0,function(t){throw new h.KakaoError(t)})})),u.then(function(i){e.configurations=i,e.signature=1e3*i.auth.expires,e.needUpdate||(e.needUpdate=!0),t.apply(e,n)}),void 0):(t.apply(e,n),void 0)},_isExpired:function(){return!this.signature||this.signature<(new Date).getTime()},_applyEmoticon:function(t){for(var e=l.$$("."+t+".e_cover"),s=this,a=function(t){var e=l.$$(".thumb_img",t)[0],n=e.getAttribute("data-id"),r=e.getAttribute("data-idx"),a=parseInt(e.getAttribute("data-type")),c=70,u=70;e.removeAttribute("data-id"),e.removeAttribute("data-idx"),e.removeAttribute("data-type"),e.src=s._getResourceUrl(n,r),s._appendViewDetail(t,e,n),(1===a||2===a)&&(c=90,i(t,"anicon")),e.width=c,e.height=u,o(t,"e_cover")},c=0;c<e.length;c++){var u=e[c];a(u),"pc"===h.UA.platform&&(l.addEvent(u,"contextmenu",r),l.addEvent(u,"selectstart",r),l.addEvent(u,"dragstart",r))}"pc"!==h.UA.platform&&l.addEvent(document,"touchstart",function(e){if(!n(l.getTarget(e),"view_detail")){var i=l.$$("."+t+" .view_detail.active")[0];i&&(i.style.display="none",o(i,"active"))}})},_appendViewDetail:function(t,e,n){if(!("msie"===h.UA.browser.name&&h.UA.browser.version.major<9)){var o=document.createElement("span");o.className="view_detail",o.innerHTML="ì´ëª¨í°ì½ìì¸ë³´ê¸°","pc"!==h.UA.platform?l.addEvent(e,"click",function(){o.style.display="block",i(o,"active")}):(l.addEvent(t,"mouseover",function(){o.style.display="block"}),l.addEvent(t,"mouseout",function(){o.style.display="none"})),l.addEvent(o,"click",function(){if("pc"!==h.UA.platform){var t="kakaotalk://store/emoticon/"+n+"?referer=e_sdk_"+encodeURIComponent(document.location.host)+"_longtap",e={urlScheme:t,intentURI:"intent:"+t+"#Intent;package=com.kakao.talk;end;",appName:"KakaoTalk",storeURL:h.getInstallUrl(a,c),onUnsupportedEnvironment:function(){alert("í´ë¹ íê²½ììë ì§ìëì§ ììµëë¤. ì¹´ì¹´ì¤í¡ìì íì¸í´ì£¼ì¸ì.")}};m(e),o.style.display="none"}else{for(var i=n.split(""),r=[],s=[7,2,1,8,4,9,5,6,3,0],u=0;3>u;u++)i.push(Math.floor(10*Math.random()).toString());l.map(s,function(t){r.push(i[t])}),window.open("https://e.kakao.com/store/detail?item_code="+r.join("")+"&referer=sdk_"+encodeURIComponent(document.location.host)+"_longtap","_blank")}}),t.insertBefore(o,e.nextSibling)}},_getResourceUrl:function(t,e){var n=e.length>=3?e:new Array(3-e.length+1).join("0")+e,i=this.configurations;return"//"+i.host+i.base+"/"+t+"/thum_"+n+".png?credential="+i.auth.credential+"&expires="+i.auth.expires+"&allow_referer="+encodeURIComponent(document.location.host)+"&signature="+encodeURIComponent(i.auth.signature)+"&path="+i.auth.path}},E=Observable.extend({init:function(t){this.current=null,this.previous=null,this.keyboardEl=null,this.options=this._overrideDefaultOptions(t),this.completeSetData=!1,this._createKeyboardLayer(),this._initElements(),this._bindEvents()},getData:function(){this._getEmoticonData()},getDataBeforeToggle:function(){var t=this;this._getEmoticonData(function(){t.emit("toggleKeyboard",t.current,!1)})},toggleKeyboard:function(t){this.current=t;var e=!1;this.previous?this.previous!==this.current&&(this.changeContainer(),e=!0):(this.previous=this.current,this.current.appendChild(this.keyboardEl)),this.completeSetData?this.emit("toggleKeyboard",t,e):this.getDataBeforeToggle()},changeContainer:function(){this.previous.removeChild(this.keyboardEl),this.current.appendChild(this.keyboardEl),this.previous=this.current},hideKeyboard:function(){this.keyboardView.hide()},showKeyboard:function(){this.keyboardView.show()},getCurrentLayer:function(){return this.current},reset:function(){this.emit("resetKeyboard")},cleanup:function(){l.each(g,function(t){t()}),g.length=0},_onDocumentClicked:function(t){if(this.completeSetData&&this.current){var n=l.getTarget(t);e(this.current,n)||this.hideKeyboard()}},_createKeyboardLayer:function(){var t=document.createElement("div");t.id="emoticonKeyboard",t.className="emoticon_keyboard",this.keyboardEl=t},_initElements:function(){var t="pc"===h.UA.platform?E.EmoticonListViewForPC:E.EmoticonListView;this.keyboardView=new t(this.options,this)},_overrideDefaultOptions:function(t){var e={tabmenu:"TOP",callback:{showKeyboard:function(){},hideKeyboard:function(){},selectEmoticon:function(){}}};return s(e,t,!0)},_bindEvents:function(){var t=this;d.subscribe("LOGIN",this.reset.bind(this)),d.subscribe("LOGOUT",this.reset.bind(this)),l.addEvent(document,"click",this._onDocumentClicked.bind(this)),this.on("resetKeyboard",function(){t.cleanup(),v=[],t.completeSetData=!1})},_getEmoticonData:function(t){if(!v.length){var e=this,n=t||function(){};x({data:{timestamp:(new Date).getTime()}}).then(function(t){for(var i=t.items,o=t.logged_in,r=i.length,s=0;s!=r;s++)v.push({id:i[s].id,version:i[s].version,count:i[s].count,item_sub_type:i[s].item_sub_type,off_image_url:i[s].off_image_url,on_image_url:i[s].on_image_url,title_image_url:i[s].title_image_url});e.completeSetData=!0,e.emit("getEmoticonData",o),n()}).then(void 0,function(t){if(t.code===k)e.emit("updateNeedAgree");else{if(t.code!==y)throw new h.KakaoError(t);e.emit("updateNeedRefreshToken")}n()})}}});return E.EmoticonListView=Class.extend({init:function(t,e){var n=this;this.keyboard_status=_.ENABLED,this.options=t,this.completeRendering=!1,this.queue=e,this.currentIdx=-1,this.curTabPageIdx=0,this.maxTabPageIdx=0,this.shouldOfferGuide=!1,this.loggedIn=!1,Kakao.Auth.getStatus(function(t){"connected"===t.status&&"off"!==l.localStorage.getItem("guideActive")&&(n.shouldOfferGuide=!0)}),this.queue.on("toggleKeyboard",function(t,e){n.toggle(t,e)}),this.queue.on("renderComplete",function(){n._applyAnimation()}),this.queue.on("resetKeyboard",function(){n.reset()}),this.queue.on("updateNeedAgree",function(){n.keyboard_status=_.NEED_AGREE}),this.queue.on("updateNeedRefreshToken",function(){n.keyboard_status=_.EXPIRE_TOKEN}),this.queue.on("selectEmoticon",function(t){t.image_url=S._getResourceUrl(t.item_id,t.resource_id),n.options.callback.selectEmoticon(t)||n.hide()}),this.queue.on("scrollTop",function(){n._scrollTo(0,0)}),this.queue.on("updateKeyboard",function(t){n._updateKeyboard(t)}),this.queue.on("getEmoticonData",function(t){n.loggedIn=t})},_scrollTo:function(t,e){this.List&&this.List.scrollTo(t,e)},_updateKeyboard:function(t){this.List&&(t||!this.List.hasVerticalScroll)&&(this.TabList&&this.TabList.refresh(),this.List.refresh())},reset:function(){var t=this;this.completeRendering&&this.keyboard_status===_.ENABLED&&(this.currentIdx=-1,this.curTabPageIdx=0,this.hide(),this.move()),Kakao.Auth.getStatus(function(e){t.shouldOfferGuide="connected"===e.status&&"off"!==l.localStorage.getItem("guideActive")?!0:!1}),this.keyboard_status=_.ENABLED,this.completeRendering=!1},doItemSelect:function(t){var e=this.queue.emit.bind(this.queue);S._updateConfig(e,"selectEmoticon",t)},setContainer:function(t){this.keyboardLayer=t},render:function(){this.completeRendering||(this.renderTabMenu(),this.renderEmoticonList(0),this.completeRendering=!0)},toggle:function(t,e){this.setContainer(t);var i=this;if(!this.completeRendering){var o=t.getElementsByClassName("emoticon_keyboard")[0];if(this._generateTemplate(o),this.keyboard_status!==_.ENABLED){var r=o.getElementsByClassName("btn_submit")[0],s={};l.addEvent(r,"click",function(t){l.preventDefault(t),l.stopPropagation(t),n(r,"btn_agree")&&(s={scope:"emoticon"}),Kakao.Auth.login(s),i.hide()}),this.completeRendering=!0}else"BOTTOM"===this.options.tabmenu&&(t.className+=" bottom"),this.render(),this._bindEvents(),setTimeout(function(){i.queue.emit("renderComplete")},300)}this.visible()&&!e?this.hide():this.show()},show:function(){this.keyboardLayer.style.display="block",this.options.callback.showKeyboard(),this.queue.emit("updateKeyboard",!1)},hide:function(){this.keyboardLayer.style.display="none",this.options.callback.hideKeyboard(),this.queue.emit("scrollTop");var t=l.$$(".user_guide")[0];t&&"off"===l.localStorage.getItem("guideActive")&&t.parentNode.removeChild(t)},visible:function(){return"block"===window.getComputedStyle(this.keyboardLayer).display},move:function(){var t=l.$("emoticonTab"),e=l.$$("li",t)[0],n=5*e.clientWidth,i=n*this.curTabPageIdx*-1;t.style.transform="translateX("+i+"px)",t.style.msTransform="translateX("+i+"px)"},renderTabMenu:function(){for(var t="",e=l.$("emoticonTab"),n=v.length,i=0;n>i;i++){var o=v[i%n];t+='<li class="emot_tab'+(i>0?"":" on")+'"><button type="button" class="link_tab" data-id="'+o.id+'"><img style="height:26px;"src="'+(i>0?o.off_image_url:o.on_image_url)+'" /></button></li>'}this.loggedIn&&(t+=b.store_link),e.innerHTML=t},renderEmoticonList:function(t){t!==this.currentIdx&&this.renderEmoticonItem(t)},renderEmoticonItem:function(t){var e=document.getElementById("emoticonList"),n=v[t],o=this;e.innerHTML="",i(e.parentNode,"loading"),n.items?this._renderItem(n,t):this.requestItemResources(t,function(){o._renderItem(n,t)})},requestItemResources:function(t,e){var n=v[t].id,i=function(){v[t].items=[];for(var i=0;i!=v[t].count;i++){var o={emot_image_url:"",thumbnail_image_url:S._getResourceUrl(n,(i+1).toString())};v[t].items.push(o)}e&&e()};S._updateConfig(i)},changeContent:function(t){{var e=document.getElementById("emoticonList");e.getElementsByTagName("ul")}this.renderEmoticonList(t)},_bindEvents:function(){var t=document.getElementById("emoticonList"),e=document.getElementById("emoticonTab"),n=l.$$(".btn_close")[0],i=this._onItemSelected.bind(this),o=this._onMenuSelected.bind(this);n&&l.addEvent(n,"click",function(){var t=l.$("userGuideWrapper");t.style.display="none",l.localStorage.setItem("guideActive","off")}),l.addEvent(t,"click",i),l.addEvent(e,"click",o);var r=function(){l.removeEvent(t,"click",i),l.removeEvent(e,"click",o)};g.push(r)},_onItemSelected:function(t){l.preventDefault(t),l.stopPropagation(t);var e=l.getTarget(t);if("BUTTON"===e.nodeName.toUpperCase()&&(e=e.getElementsByClassName("emoticon_thumb")[0]),n(e,"emoticon_thumb")){var i={item_id:v[e.getAttribute("data-id")].id,resource_id:e.getAttribute("data-index"),item_sub_type:v[e.getAttribute("data-id")].item_sub_type,item_version:v[e.getAttribute("data-id")].version};this.doItemSelect(i)}},_onMenuSelected:function(t){l.preventDefault(t),l.stopPropagation(t);var e=l.getTarget(t);if(n(e,"store_link")||n(e.parentNode,"store_link"))return this._sendLink(),this.hide(),void 0;var r=l.$("emoticonTab"),s=l.$$("li.emot_tab",r),a=0;if(e!==r&&e.parentNode!==r){"BUTTON"!==e.nodeName.toUpperCase()&&(e=e.parentNode);for(var c=0;c<s.length;c++){var u=l.$$("img",s[c])[0];s[c]===e.parentNode?(i(s[c],"on"),a=c,u.src=v[c].on_image_url):(o(s[c],"on"),u.src=v[c].off_image_url)}this.changeContent(a)}},_sendLink:function(){var t="kakaotalk://store?referer=e_sdk_"+encodeURIComponent(document.location.host)+"_tab",e={urlScheme:t,intentURI:"intent:"+t+"#Intent;package=com.kakao.talk;end;",appName:"KakaoTalk",storeURL:h.getInstallUrl(a,c),onUnsupportedEnvironment:function(){alert("í´ë¹ íê²½ììë ì§ìëì§ ììµëë¤. ì¹´ì¹´ì¤í¡ìì íì¸í´ì£¼ì¸ì.")}};m(e)},_renderItem:function(t,e){var n=this,i=document.getElementById("emoticonList"),r="",s=1===t.item_sub_type||2===t.item_sub_type;this.queue.emit("scrollTop");for(var a=0;a<t.items.length;a++){var c=t.items[a];r+='<li class="idx_'+a+'"><button type="button" class="link_emoticon"><img src="'+c.thumbnail_image_url+'" class="emoticon_thumb" data-id="'+e+'" data-index="'+(a+1)+'" alt="ì í ì´ëª¨í°ì½"></button></li>'}i.innerHTML="<ul"+(s?' class="anicon"':"")+' data-id="'+t.id+'">'+r+"</ul>",this.currentIdx=e,o(i.parentNode,"loading"),setTimeout(function(){n.queue.emit("updateKeyboard",!0)},300)},_applyAnimation:function(){this.TabList=new f("#emoticonTabWrapper",{preventDefaultException:{tagName:/^(INPUT|TEXTAREA|IMG|BUTTON|SELECT)$/},scrollX:!0,disablePointer:!0,disableTouch:!1,disableMouse:!1}),this.List=new f("#emoticonListWrapper",{scrollbars:!0,fadeScrollbars:!0,interactiveScrollbars:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|IMG|BUTTON|SELECT)$/},disablePointer:!0,disableTouch:!1,disableMouse:!1})},_generateTemplate:function(t){switch(this.keyboard_status){case _.NEED_AGREE:t.innerHTML=w.need_agree;break;case _.EXPIRE_TOKEN:t.innerHTML=w.expire_token;break;default:if(t.innerHTML="BOTTOM"===this.options.tabmenu?b.emoticons+b.tabmenu:b.tabmenu+b.emoticons,this.shouldOfferGuide){var e=document.createElement("div");e.id="userGuideWrapper",e.innerHTML=b.guide,t.appendChild(e),l.localStorage.setItem("guideActive","off")}}}}),E.EmoticonListViewForPC=E.EmoticonListView.extend({renderTabMenu:function(){this._super();var t=document.getElementById("emoticonTab"),e=document.getElementById("emoticonTabWrapper"),n=e.getElementsByClassName("btn_next")[0],o=v.length;this.maxTabPageIdx=parseInt(o/5),this.maxTabPageIdx>0&&this.maxTabPageIdx>this.curTabPageIdx&&i(n,"on"),t.style.width=100*(this.maxTabPageIdx+1)+"%"},tabPaging:function(t,e){l.preventDefault(t),l.stopPropagation(t);var i=l.getTarget(t);if("A"!==i.nodeName.toUpperCase()&&(i=i.parentNode),n(i,"on"))switch(e){case"prev":this.prev(i);break;case"next":this.next(i)}},prev:function(t){var e=document.getElementById("emoticonTabWrapper"),n=e.getElementsByClassName("btn_next")[0];this.curTabPageIdx<=0||(this.curTabPageIdx--,this.move(),i(n,"on"),0===this.curTabPageIdx&&o(t,"on"))},next:function(t){var e=document.getElementById("emoticonTabWrapper"),n=e.getElementsByClassName("btn_prev")[0];this.curTabPageIdx>=this.maxTabPageIdx||(this.curTabPageIdx++,this.move(),i(n,"on"),this.curTabPageIdx===this.maxTabPageIdx&&o(t,"on"))},reset:function(){if(this.completeRendering&&this.keyboard_status===_.ENABLED){var t=document.getElementById("emoticonTabWrapper"),e=t.getElementsByClassName("btn_next")[0],n=t.getElementsByClassName("btn_prev")[0];o(e,"on"),o(n,"on")}this._super()},_bindEvents:function(){this._super();var t=this,e=document.getElementById("emoticonTabWrapper"),n=e.getElementsByClassName("btn_next")[0],i=e.getElementsByClassName("btn_prev")[0],o=document.getElementById("emoticonList");l.addEvent(o,"contextmenu",r),l.addEvent(o,"selectstart",r),l.addEvent(o,"dragstart",r);var s=function(e){t.tabPaging(e,"next")},a=function(e){t.tabPaging(e,"prev")};l.addEvent(n,"click",s),l.addEvent(i,"click",a);var c=function(){l.removeEvent(n,"click",s),l.removeEvent(i,"click",a),l.removeEvent(o,"contextmenu",r),l.removeEvent(o,"selectstart",r),l.removeEvent(o,"dragstart",r)};g.push(c)},_applyAnimation:function(){this.List=new f("#emoticonListWrapper",{scrollbars:!0,fadeScrollbars:!0,interactiveScrollbars:!0,mouseWheel:!0,disableMouse:!0,disablePointer:!0,disableTouch:!0,preventDefaultException:{tagName:/^(INPUT|TEXTAREA|IMG|BUTTON|SELECT)$/}})},_generateTemplate:function(t){switch(this.keyboard_status){case _.NEED_AGREE:t.innerHTML=w.need_agree;break;case _.EXPIRE_TOKEN:t.innerHTML=w.expire_token;break;default:if(t.innerHTML="BOTTOM"===this.options.tabmenu?b.emoticons+b.tabmenu_pc:b.tabmenu_pc+b.emoticons,this.shouldOfferGuide){var e=document.createElement("div");e.id="userGuideWrapper",e.innerHTML=b.guide,t.appendChild(e),l.localStorage.setItem("guideActive","off")}}},_sendLink:function(){window.open("https://e.kakao.com?referer=sdk_"+encodeURIComponent(document.location.host)+"_tab","_blank")}}),S}()},{"../kakao-js-sdk/src/common.js":7,"../kakao-js-sdk/src/common/everntObserver":9,"../kakao-js-sdk/vendor/web2app.js":23,"./api.js":26,"./emoticon.animate":27,"./util.js":30}],29:[function(t,e){e.exports=function(e){e.Kakao=e.Kakao||{};var n=e.Kakao,i=t("./util.js"),o=t("../kakao-js-sdk/src/common.js");return n.VERSION=o.VERSION,n.Story=t("../kakao-js-sdk/src/story.js"),n.init=function(e){if(o.RUNTIME.appKey)throw new o.KakaoError("Kakao.init: Already initialized.");if(!i.isString(e)||e===o.DUMMY_KEY)throw new o.KakaoError("Kakao.init: App key must be provided");o.RUNTIME.appKey=e,n.Auth=t("../kakao-js-sdk/src/auth.js"),n.API=t("../kakao-js-sdk/src/api.js"),n.Link=t("../kakao-js-sdk/src/link.js"),n.Emoticon=t("./emoticon.js"),n.Navi=t("../kakao-js-sdk/src/navi.js")},n.cleanup=function(){n.Auth&&n.Auth.cleanup(),n.API&&n.API.cleanup(),n.Link&&n.Link.cleanup(),n.Story&&n.Story.cleanup(),n.Emoticon&&n.Emoticon.cleanup(),i.nullify(o.RUNTIME)},window.kakaoAsyncInit&&window.kakaoAsyncInit(),n}(window)},{"../kakao-js-sdk/src/api.js":2,"../kakao-js-sdk/src/auth.js":3,"../kakao-js-sdk/src/common.js":7,"../kakao-js-sdk/src/link.js":13,"../kakao-js-sdk/src/navi.js":15,"../kakao-js-sdk/src/story.js":16,"./emoticon.js":28,"./util.js":30}],30:[function(t,e){/*!
       * underscore
       * https://github.com/jashkenas/underscore
       * Copyright 2009-2016 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
       * MIT License
       */
e.exports=function(){var t={},e={},n=Array.prototype,i=Object.prototype,o=n.slice,r=n.concat,s=i.toString,a=i.hasOwnProperty,c=n.forEach,l=n.map,u=n.filter,h=n.every,p=n.some,d=n.indexOf,f=Array.isArray,m=Object.keys,g=t.each=function(n,i,o){if(null==n)return n;if(c&&n.forEach===c)n.forEach(i,o);else if(n.length===+n.length){for(var r=0,s=n.length;s>r;r++)if(i.call(o,n[r],r,n)===e)return}else for(var a=t.keys(n),r=0,s=a.length;s>r;r++)if(i.call(o,n[a[r]],a[r],n)===e)return;return n};t.map=function(t,e,n){var i=[];return null==t?i:l&&t.map===l?t.map(e,n):(g(t,function(t,o,r){i.push(e.call(n,t,o,r))}),i)},t.filter=function(t,e,n){var i=[];return null==t?i:u&&t.filter===u?t.filter(e,n):(g(t,function(t,o,r){e.call(n,t,o,r)&&i.push(t)}),i)},t.every=function(n,i,o){i||(i=t.identity);var r=!0;return null==n?r:h&&n.every===h?n.every(i,o):(g(n,function(t,n,s){return(r=r&&i.call(o,t,n,s))?void 0:e}),!!r)};var v=t.any=function(n,i,o){i||(i=t.identity);var r=!1;return null==n?r:p&&n.some===p?n.some(i,o):(g(n,function(t,n,s){return r||(r=i.call(o,t,n,s))?e:void 0}),!!r)};return t.contains=function(t,e){return null==t?!1:d&&t.indexOf===d?-1!=t.indexOf(e):v(t,function(t){return t===e})},t.difference=function(e){var i=r.apply(n,o.call(arguments,1));return t.filter(e,function(e){return!t.contains(i,e)})},t.partial=function(e){var n=o.call(arguments,1);return function(){for(var i=0,o=n.slice(),r=0,s=o.length;s>r;r++)o[r]===t&&(o[r]=arguments[i++]);for(;i<arguments.length;)o.push(arguments[i++]);return e.apply(this,o)}},t.after=function(t,e){return function(){return--t<1?e.apply(this,arguments):void 0}},t.keys=function(e){if(!t.isObject(e))return[];if(m)return m(e);var n=[];for(var i in e)t.has(e,i)&&n.push(i);return n},t.extend=function(t){return g(o.call(arguments,1),function(e){if(e)for(var n in e)t[n]=e[n]}),t},t.defaults=function(t){return g(o.call(arguments,1),function(e){if(e)for(var n in e)void 0===t[n]&&(t[n]=e[n])}),t},t.isElement=function(t){return!(!t||1!==t.nodeType)},t.isArray=f||function(t){return"[object Array]"==s.call(t)},t.isObject=function(t){return t===Object(t)},g(["Arguments","Function","String","Number","Date","RegExp","Blob","File","FileList"],function(e){t["is"+e]=function(t){return s.call(t)=="[object "+e+"]"}}),t.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==s.call(t)},t.has=function(t,e){return a.call(t,e)},t.identity=function(t){return t},t.emptyFunc=function(){},t.getElement=function(e){return t.isElement(e)?e:t.isString(e)?document.querySelector(e):null},t.addEvent=function(t,e,n){t.addEventListener?t.addEventListener(e,n,!1):t.attachEvent&&t.attachEvent("on"+e,n)},t.removeEvent=function(t,e,n){t.removeEventListener?t.removeEventListener(e,n,!1):t.detachEvent&&t.detachEvent("on"+e,n)},t.getTarget=function(t){var e=t||window.event;return e.target||e.srcElement},t.preventDefault=function(t){var e=t||window.event;e.preventDefault?e.preventDefault():e.returnValue=!1},t.stopPropagation=function(t){var e=t||window.event;e.stopPropagation?e.stopPropagation():e.cancelBubble=!0},t.buildQueryString=function(e,n){var i=[];for(var o in e)if(e.hasOwnProperty(o)){var r=e[o];t.isObject(r)&&(r=JSON.stringify(r));var s=n===!1?o:encodeURIComponent(o),a=n===!1?r:encodeURIComponent(r);i.push(s+"="+a)}return i.join("&")},t.getRandomString=function(){return Math.random().toString(36).slice(2)},t.nullify=function(e){t.each(e,function(t,n){e[n]=null})},t.isOneOf=function(e){return t.partial(t.contains,e)},t.passesOneOf=function(e){if(!t.isArray(e))throw new Error("validators should be an Array");return function(n){return t.any(e,function(t){return t(n)})}},t.isURL=function(t){var e=/(http|ftp|https):\/\/[\w-]+(\.[\w-]+)+([\w.,@?^=%&amp;:\/~+#-]*[\w@?^=%&amp;\/~+#-])?/;return e.test(t)},t.arrayBufferToString=function(t){var e,n,i,o="",r=new Uint8Array(t),s=r.length,a=Math.pow(2,16);for(e=0;s>e;e+=a)n=Math.min(a,s-e),i=r.subarray(e,e+n),o+=String.fromCharCode.apply(null,i);return o},t.localStorage=function(){var t={_data:{},setItem:function(t,e){return this._data[t]=String(e)},getItem:function(t){return this._data.hasOwnProperty(t)?this._data[t]:null},removeItem:function(t){return delete this._data[t]},clear:function(){return this._data={}}};try{return"localStorage"in window?(window.localStorage.setItem("store",""),window.localStorage.removeItem("store"),window.localStorage):t}catch(e){return t}}(),t}()},{}]},{},[29])(29)});