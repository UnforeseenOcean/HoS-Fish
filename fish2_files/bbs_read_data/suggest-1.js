/*! suggest - v1.2.6.1 - 2016-06-28
* Copyright (c) 2016 Armand.cat (Choi Hee-jin) <armand.cat@kakaocorp.com> */
(function(){var a,b,c,d,e,f,g,h;c=function(a){return window.document.createElement(a)},d=window.encodeURIComponent,g=Math.random,a=function(a){var d,f,g,i,j;if(a=a?a:{},i={data:a.data||{},error:a.error||e,success:a.success||e,beforeSend:a.beforeSend||e,complete:a.complete||e,url:a.url||""},i.computedUrl=b(i),0===i.url.length)throw new Error("MissingUrl");return f=!1,i.beforeSend({},i)!==!1?(d=i.data[a.callbackName||"callback"]="jsonp_"+h(15),window[d]=function(a){i.success(a,i),i.complete(a,i);try{return delete window[d]}catch(b){return void(window[d]=void 0)}},j=c("script"),j.src=b(i),j.async=!0,j.onerror=function(a){return i.error({url:j.src,event:a}),i.complete({url:j.src,event:a},i)},j.onload=j.onreadystatechange=function(){return f||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState?void 0:(f=!0,j.onload=j.onreadystatechange=null,j&&j.parentNode&&j.parentNode.removeChild(j),j=null)},g=g||window.document.getElementsByTagName("head")[0]||window.document.documentElement,g.insertBefore(j,g.firstChild)):void 0},e=function(){},b=function(a){var b;return b=a.url,b+=a.url.indexOf("?")<0?"?":"&",b+=f(a.data)},h=function(a){var b;for(b="";b.length<a;)b+=g().toString(36)[2];return b},f=function(a){var b,c,e;b=[];for(c in a)e=a[c],b.push(d(c)+"="+d(e));return b.join("&")},"undefined"!=typeof define&&null!==define&&define.amd?define(function(){return a}):"undefined"!=typeof module&&null!==module&&module.exports?module.exports=a:this.JSONP=a}).call(this),function(a,b){"use strict";var c=function(a){if("object"!=typeof a.document)throw new Error("Cookies.js requires a `window` with a `document` object");var c=function(a,b,d){return 1===arguments.length?c.get(a):c.set(a,b,d)};return c._document=a.document,c._cacheKeyPrefix="cookey.",c._maxExpireDate=new Date("Fri, 31 Dec 9999 23:59:59 UTC"),c.defaults={path:"/",secure:!1},c.get=function(a){return c._cachedDocumentCookie!==c._document.cookie&&c._renewCache(),c._cache[c._cacheKeyPrefix+a]},c.set=function(a,d,e){return e=c._getExtendedOptions(e),e.expires=c._getExpiresDate(d===b?-1:e.expires),c._document.cookie=c._generateCookieString(a,d,e),c},c.expire=function(a,d){return c.set(a,b,d)},c._getExtendedOptions=function(a){return{path:a&&a.path||c.defaults.path,domain:a&&a.domain||c.defaults.domain,expires:a&&a.expires||c.defaults.expires,secure:a&&a.secure!==b?a.secure:c.defaults.secure}},c._isValidDate=function(a){return"[object Date]"===Object.prototype.toString.call(a)&&!isNaN(a.getTime())},c._getExpiresDate=function(a,b){if(b=b||new Date,"number"==typeof a?a=a===1/0?c._maxExpireDate:new Date(b.getTime()+1e3*a):"string"==typeof a&&(a=new Date(a)),a&&!c._isValidDate(a))throw new Error("`expires` parameter cannot be converted to a valid Date instance");return a},c._generateCookieString=function(a,b,c){a=a.replace(/[^#$&+\^`|]/g,encodeURIComponent),a=a.replace(/\(/g,"%28").replace(/\)/g,"%29"),b=(b+"").replace(/[^!#$&-+\--:<-\[\]-~]/g,encodeURIComponent),c=c||{};var d=a+"="+b;return d+=c.path?";path="+c.path:"",d+=c.domain?";domain="+c.domain:"",d+=c.expires?";expires="+c.expires.toUTCString():"",d+=c.secure?";secure":""},c._getCacheFromString=function(a){for(var d={},e=a?a.split("; "):[],f=0;f<e.length;f++){var g=c._getKeyValuePairFromCookieString(e[f]);d[c._cacheKeyPrefix+g.key]===b&&(d[c._cacheKeyPrefix+g.key]=g.value)}return d},c._getKeyValuePairFromCookieString=function(a){var b=a.indexOf("=");return b=0>b?a.length:b,{key:decodeURIComponent(a.substr(0,b)),value:decodeURIComponent(a.substr(b+1))}},c._renewCache=function(){c._cache=c._getCacheFromString(c._document.cookie),c._cachedDocumentCookie=c._document.cookie},c._areEnabled=function(){var a="cookies.js",b="1"===c.set(a,1).get(a);return c.expire(a),b},c.enabled=c._areEnabled(),c},d="object"==typeof a.document?c(a):c;"function"==typeof define&&define.amd?define(function(){return d}):"object"==typeof exports?("object"==typeof module&&"object"==typeof module.exports&&(exports=module.exports=d),exports.Cookies=d):a.Cookies=d}("undefined"==typeof window?this:window),function(){!function(a){var b=this||(0,eval)("this"),c=b.document,d=b.navigator,e=b.jQuery,f=b.JSON;!function(a){"function"==typeof define&&define.amd?define(["exports","require"],a):a("function"==typeof require&&"object"==typeof exports&&"object"==typeof module?module.exports||exports:b.ko={})}(function(g,h){function i(a,b){return null===a||typeof a in n?a===b:!1}function j(b,c){var d;return function(){d||(d=setTimeout(function(){d=a,b()},c))}}function k(a,b){var c;return function(){clearTimeout(c),c=setTimeout(a,b)}}function l(a,b,c,d){m.d[a]={init:function(a,e,f,g,h){var i,j;return m.w(function(){var f=m.a.c(e()),g=!c!=!f,k=!j;(k||b||g!==i)&&(k&&m.Z.oa()&&(j=m.a.la(m.e.childNodes(a),!0)),g?(k||m.e.T(a,m.a.la(j)),m.Ja(d?d(h,f):h,a)):m.e.ma(a),i=g)},null,{q:a}),{controlsDescendantBindings:!0}}},m.h.ka[a]=!1,m.e.R[a]=!0}var m="undefined"!=typeof g?g:{};m.b=function(a,b){for(var c=a.split("."),d=m,e=0;e<c.length-1;e++)d=d[c[e]];d[c[c.length-1]]=b},m.D=function(a,b,c){a[b]=c},m.version="3.3.0",m.b("version",m.version),m.a=function(){function g(a,b){for(var c in a)a.hasOwnProperty(c)&&b(c,a[c])}function h(a,b){if(b)for(var c in b)b.hasOwnProperty(c)&&(a[c]=b[c]);return a}function i(a,b){return a.__proto__=b,a}function j(a,b,c,d){var e=a[b].match(q)||[];m.a.o(c.match(q),function(a){m.a.ga(e,a,d)}),a[b]=e.join(" ")}var k={__proto__:[]}instanceof Array,l={},n={};l[d&&/Firefox\/2/i.test(d.userAgent)?"KeyboardEvent":"UIEvents"]=["keyup","keydown","keypress"],l.MouseEvents="click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave".split(" "),g(l,function(a,b){if(b.length)for(var c=0,d=b.length;d>c;c++)n[b[c]]=a});var o={propertychange:!0},p=c&&function(){for(var b=3,d=c.createElement("div"),e=d.getElementsByTagName("i");d.innerHTML="<!--[if gt IE "+ ++b+"]><i></i><![endif]-->",e[0];);return b>4?b:a}(),q=/\S+/g;return{Bb:["authenticity_token",/^__RequestVerificationToken(_.*)?$/],o:function(a,b){for(var c=0,d=a.length;d>c;c++)b(a[c],c)},m:function(a,b){if("function"==typeof Array.prototype.indexOf)return Array.prototype.indexOf.call(a,b);for(var c=0,d=a.length;d>c;c++)if(a[c]===b)return c;return-1},vb:function(a,b,c){for(var d=0,e=a.length;e>d;d++)if(b.call(c,a[d],d))return a[d];return null},ya:function(a,b){var c=m.a.m(a,b);c>0?a.splice(c,1):0===c&&a.shift()},wb:function(a){a=a||[];for(var b=[],c=0,d=a.length;d>c;c++)0>m.a.m(b,a[c])&&b.push(a[c]);return b},Ka:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;e>d;d++)c.push(b(a[d],d));return c},xa:function(a,b){a=a||[];for(var c=[],d=0,e=a.length;e>d;d++)b(a[d],d)&&c.push(a[d]);return c},ia:function(a,b){if(b instanceof Array)a.push.apply(a,b);else for(var c=0,d=b.length;d>c;c++)a.push(b[c]);return a},ga:function(a,b,c){var d=m.a.m(m.a.cb(a),b);0>d?c&&a.push(b):c||a.splice(d,1)},za:k,extend:h,Fa:i,Ga:k?i:h,A:g,pa:function(a,b){if(!a)return a;var c,d={};for(c in a)a.hasOwnProperty(c)&&(d[c]=b(a[c],c,a));return d},Ra:function(a){for(;a.firstChild;)m.removeNode(a.firstChild)},Jb:function(a){a=m.a.O(a);for(var b=(a[0]&&a[0].ownerDocument||c).createElement("div"),d=0,e=a.length;e>d;d++)b.appendChild(m.S(a[d]));return b},la:function(a,b){for(var c=0,d=a.length,e=[];d>c;c++){var f=a[c].cloneNode(!0);e.push(b?m.S(f):f)}return e},T:function(a,b){if(m.a.Ra(a),b)for(var c=0,d=b.length;d>c;c++)a.appendChild(b[c])},Qb:function(a,b){var c=a.nodeType?[a]:a;if(0<c.length){for(var d=c[0],e=d.parentNode,f=0,g=b.length;g>f;f++)e.insertBefore(b[f],d);for(f=0,g=c.length;g>f;f++)m.removeNode(c[f])}},na:function(a,b){if(a.length){for(b=8===b.nodeType&&b.parentNode||b;a.length&&a[0].parentNode!==b;)a.splice(0,1);if(1<a.length){var c=a[0],d=a[a.length-1];for(a.length=0;c!==d;)if(a.push(c),c=c.nextSibling,!c)return;a.push(d)}}return a},Sb:function(a,b){7>p?a.setAttribute("selected",b):a.selected=b},ib:function(b){return null===b||b===a?"":b.trim?b.trim():b.toString().replace(/^[\s\xa0]+|[\s\xa0]+$/g,"")},Dc:function(a,b){return a=a||"",b.length>a.length?!1:a.substring(0,b.length)===b},jc:function(a,b){if(a===b)return!0;if(11===a.nodeType)return!1;if(b.contains)return b.contains(3===a.nodeType?a.parentNode:a);if(b.compareDocumentPosition)return 16==(16&b.compareDocumentPosition(a));for(;a&&a!=b;)a=a.parentNode;return!!a},Qa:function(a){return m.a.jc(a,a.ownerDocument.documentElement)},tb:function(a){return!!m.a.vb(a,m.a.Qa)},v:function(a){return a&&a.tagName&&a.tagName.toLowerCase()},n:function(a,b,c){var d=p&&o[b];if(!d&&e)e(a).bind(b,c);else if(d||"function"!=typeof a.addEventListener){if("undefined"==typeof a.attachEvent)throw Error("Browser doesn't support addEventListener or attachEvent");var f=function(b){c.call(a,b)},g="on"+b;a.attachEvent(g,f),m.a.C.fa(a,function(){a.detachEvent(g,f)})}else a.addEventListener(b,c,!1)},qa:function(a,d){if(!a||!a.nodeType)throw Error("element must be a DOM node when calling triggerEvent");var f;if("input"===m.a.v(a)&&a.type&&"click"==d.toLowerCase()?(f=a.type,f="checkbox"==f||"radio"==f):f=!1,e&&!f)e(a).trigger(d);else if("function"==typeof c.createEvent){if("function"!=typeof a.dispatchEvent)throw Error("The supplied element doesn't support dispatchEvent");f=c.createEvent(n[d]||"HTMLEvents"),f.initEvent(d,!0,!0,b,0,0,0,0,0,!1,!1,!1,!1,0,a),a.dispatchEvent(f)}else if(f&&a.click)a.click();else{if("undefined"==typeof a.fireEvent)throw Error("Browser doesn't support triggering events");a.fireEvent("on"+d)}},c:function(a){return m.F(a)?a():a},cb:function(a){return m.F(a)?a.B():a},Ia:function(a,b,c){var d;b&&("object"==typeof a.classList?(d=a.classList[c?"add":"remove"],m.a.o(b.match(q),function(b){d.call(a.classList,b)})):"string"==typeof a.className.baseVal?j(a.className,"baseVal",b,c):j(a,"className",b,c))},Ha:function(b,c){var d=m.a.c(c);null!==d&&d!==a||(d="");var e=m.e.firstChild(b);!e||3!=e.nodeType||m.e.nextSibling(e)?m.e.T(b,[b.ownerDocument.createTextNode(d)]):e.data=d,m.a.mc(b)},Rb:function(a,b){if(a.name=b,7>=p)try{a.mergeAttributes(c.createElement("<input name='"+a.name+"'/>"),!1)}catch(d){}},mc:function(a){p>=9&&(a=1==a.nodeType?a:a.parentNode,a.style&&(a.style.zoom=a.style.zoom))},kc:function(a){if(p){var b=a.style.width;a.style.width=0,a.style.width=b}},Bc:function(a,b){a=m.a.c(a),b=m.a.c(b);for(var c=[],d=a;b>=d;d++)c.push(d);return c},O:function(a){for(var b=[],c=0,d=a.length;d>c;c++)b.push(a[c]);return b},Hc:6===p,Ic:7===p,M:p,Db:function(a,b){for(var c=m.a.O(a.getElementsByTagName("input")).concat(m.a.O(a.getElementsByTagName("textarea"))),d="string"==typeof b?function(a){return a.name===b}:function(a){return b.test(a.name)},e=[],f=c.length-1;f>=0;f--)d(c[f])&&e.push(c[f]);return e},yc:function(a){return"string"==typeof a&&(a=m.a.ib(a))?f&&f.parse?f.parse(a):new Function("return "+a)():null},jb:function(a,b,c){if(!f||!f.stringify)throw Error("Cannot find JSON.stringify(). Some browsers (e.g., IE < 8) don't support it natively, but you can overcome this by adding a script reference to json2.js, downloadable from http://www.json.org/json2.js");return f.stringify(m.a.c(a),b,c)},zc:function(a,b,d){d=d||{};var e=d.params||{},f=d.includeFields||this.Bb,h=a;if("object"==typeof a&&"form"===m.a.v(a))for(var h=a.action,i=f.length-1;i>=0;i--)for(var j=m.a.Db(a,f[i]),k=j.length-1;k>=0;k--)e[j[k].name]=j[k].value;b=m.a.c(b);var l=c.createElement("form");l.style.display="none",l.action=h,l.method="post";for(var n in b)a=c.createElement("input"),a.type="hidden",a.name=n,a.value=m.a.jb(m.a.c(b[n])),l.appendChild(a);g(e,function(a,b){var d=c.createElement("input");d.type="hidden",d.name=a,d.value=b,l.appendChild(d)}),c.body.appendChild(l),d.submitter?d.submitter(l):l.submit(),setTimeout(function(){l.parentNode.removeChild(l)},0)}}}(),m.b("utils",m.a),m.b("utils.arrayForEach",m.a.o),m.b("utils.arrayFirst",m.a.vb),m.b("utils.arrayFilter",m.a.xa),m.b("utils.arrayGetDistinctValues",m.a.wb),m.b("utils.arrayIndexOf",m.a.m),m.b("utils.arrayMap",m.a.Ka),m.b("utils.arrayPushAll",m.a.ia),m.b("utils.arrayRemoveItem",m.a.ya),m.b("utils.extend",m.a.extend),m.b("utils.fieldsIncludedWithJsonPost",m.a.Bb),m.b("utils.getFormFields",m.a.Db),m.b("utils.peekObservable",m.a.cb),m.b("utils.postJson",m.a.zc),m.b("utils.parseJson",m.a.yc),m.b("utils.registerEventHandler",m.a.n),m.b("utils.stringifyJson",m.a.jb),m.b("utils.range",m.a.Bc),m.b("utils.toggleDomNodeCssClass",m.a.Ia),m.b("utils.triggerEvent",m.a.qa),m.b("utils.unwrapObservable",m.a.c),m.b("utils.objectForEach",m.a.A),m.b("utils.addOrRemoveItem",m.a.ga),m.b("utils.setTextContent",m.a.Ha),m.b("unwrap",m.a.c),Function.prototype.bind||(Function.prototype.bind=function(a){var b=this;if(1===arguments.length)return function(){return b.apply(a,arguments)};var c=Array.prototype.slice.call(arguments,1);return function(){var d=c.slice(0);return d.push.apply(d,arguments),b.apply(a,d)}}),m.a.f=new function(){function b(b,f){var g=b[d];if(!g||"null"===g||!e[g]){if(!f)return a;g=b[d]="ko"+c++,e[g]={}}return e[g]}var c=0,d="__ko__"+(new Date).getTime(),e={};return{get:function(c,d){var e=b(c,!1);return e===a?a:e[d]},set:function(c,d,e){e===a&&b(c,!1)===a||(b(c,!0)[d]=e)},clear:function(a){var b=a[d];return b?(delete e[b],a[d]=null,!0):!1},I:function(){return c++ +d}}},m.b("utils.domData",m.a.f),m.b("utils.domData.clear",m.a.f.clear),m.a.C=new function(){function b(b,c){var e=m.a.f.get(b,d);return e===a&&c&&(e=[],m.a.f.set(b,d,e)),e}function c(a){var d=b(a,!1);if(d)for(var d=d.slice(0),e=0;e<d.length;e++)d[e](a);if(m.a.f.clear(a),m.a.C.cleanExternalData(a),g[a.nodeType])for(d=a.firstChild;a=d;)d=a.nextSibling,8===a.nodeType&&c(a)}var d=m.a.f.I(),f={1:!0,8:!0,9:!0},g={1:!0,9:!0};return{fa:function(a,c){if("function"!=typeof c)throw Error("Callback must be a function");b(a,!0).push(c)},Pb:function(c,e){var f=b(c,!1);f&&(m.a.ya(f,e),0==f.length&&m.a.f.set(c,d,a))},S:function(a){if(f[a.nodeType]&&(c(a),g[a.nodeType])){var b=[];m.a.ia(b,a.getElementsByTagName("*"));for(var d=0,e=b.length;e>d;d++)c(b[d])}return a},removeNode:function(a){m.S(a),a.parentNode&&a.parentNode.removeChild(a)},cleanExternalData:function(a){e&&"function"==typeof e.cleanData&&e.cleanData([a])}}},m.S=m.a.C.S,m.removeNode=m.a.C.removeNode,m.b("cleanNode",m.S),m.b("removeNode",m.removeNode),m.b("utils.domNodeDisposal",m.a.C),m.b("utils.domNodeDisposal.addDisposeCallback",m.a.C.fa),m.b("utils.domNodeDisposal.removeDisposeCallback",m.a.C.Pb),function(){m.a.ca=function(a,d){var f;if(e){if(e.parseHTML)f=e.parseHTML(a,d)||[];else if((f=e.clean([a],d))&&f[0]){for(var g=f[0];g.parentNode&&11!==g.parentNode.nodeType;)g=g.parentNode;g.parentNode&&g.parentNode.removeChild(g)}}else{(g=d)||(g=c),f=g.parentWindow||g.defaultView||b;var h=m.a.ib(a).toLowerCase(),g=g.createElement("div"),h=h.match(/^<(thead|tbody|tfoot)/)&&[1,"<table>","</table>"]||!h.indexOf("<tr")&&[2,"<table><tbody>","</tbody></table>"]||(!h.indexOf("<td")||!h.indexOf("<th"))&&[3,"<table><tbody><tr>","</tr></tbody></table>"]||[0,"",""],i="ignored<div>"+h[1]+a+h[2]+"</div>";for("function"==typeof f.innerShiv?g.appendChild(f.innerShiv(i)):g.innerHTML=i;h[0]--;)g=g.lastChild;f=m.a.O(g.lastChild.childNodes)}return f},m.a.gb=function(b,c){if(m.a.Ra(b),c=m.a.c(c),null!==c&&c!==a)if("string"!=typeof c&&(c=c.toString()),e)e(b).html(c);else for(var d=m.a.ca(c,b.ownerDocument),f=0;f<d.length;f++)b.appendChild(d[f])}}(),m.b("utils.parseHtmlFragment",m.a.ca),m.b("utils.setHtml",m.a.gb),m.H=function(){function b(a,c){if(a)if(8==a.nodeType){var d=m.H.Lb(a.nodeValue);null!=d&&c.push({ic:a,wc:d})}else if(1==a.nodeType)for(var d=0,e=a.childNodes,f=e.length;f>d;d++)b(e[d],c)}var c={};return{$a:function(a){if("function"!=typeof a)throw Error("You can only pass a function to ko.memoization.memoize()");var b=(4294967296*(1+Math.random())|0).toString(16).substring(1)+(4294967296*(1+Math.random())|0).toString(16).substring(1);return c[b]=a,"<!--[ko_memo:"+b+"]-->"},Wb:function(b,d){var e=c[b];if(e===a)throw Error("Couldn't find any memo with ID "+b+". Perhaps it's already been unmemoized.");try{return e.apply(null,d||[]),!0}finally{delete c[b]}},Xb:function(a,c){var d=[];b(a,d);for(var e=0,f=d.length;f>e;e++){var g=d[e].ic,h=[g];c&&m.a.ia(h,c),m.H.Wb(d[e].wc,h),g.nodeValue="",g.parentNode&&g.parentNode.removeChild(g)}},Lb:function(a){return(a=a.match(/^\[ko_memo\:(.*?)\]$/))?a[1]:null}}}(),m.b("memoization",m.H),m.b("memoization.memoize",m.H.$a),m.b("memoization.unmemoize",m.H.Wb),m.b("memoization.parseMemoText",m.H.Lb),m.b("memoization.unmemoizeDomNodeAndDescendants",m.H.Xb),m.Sa={throttle:function(a,b){a.throttleEvaluation=b;var c=null;return m.j({read:a,write:function(d){clearTimeout(c),c=setTimeout(function(){a(d)},b)}})},rateLimit:function(a,b){var c,d,e;"number"==typeof b?c=b:(c=b.timeout,d=b.method),e="notifyWhenChangesStop"==d?k:j,a.Za(function(a){return e(a,c)})},notify:function(a,b){a.equalityComparer="always"==b?null:i}};var n={undefined:1,"boolean":1,number:1,string:1};m.b("extenders",m.Sa),m.Ub=function(a,b,c){this.da=a,this.La=b,this.hc=c,this.Gb=!1,m.D(this,"dispose",this.p)},m.Ub.prototype.p=function(){this.Gb=!0,this.hc()},m.Q=function(){m.a.Ga(this,m.Q.fn),this.G={},this.rb=1};var o={U:function(a,b,c){var d=this;c=c||"change";var e=new m.Ub(d,b?a.bind(b):a,function(){m.a.ya(d.G[c],e),d.ua&&d.ua(c)});return d.ja&&d.ja(c),d.G[c]||(d.G[c]=[]),d.G[c].push(e),e},notifySubscribers:function(a,b){if(b=b||"change","change"===b&&this.Yb(),this.Ba(b))try{m.k.xb();for(var c,d=this.G[b].slice(0),e=0;c=d[e];++e)c.Gb||c.La(a)}finally{m.k.end()}},Aa:function(){return this.rb},pc:function(a){return this.Aa()!==a},Yb:function(){++this.rb},Za:function(a){var b,c,d,e=this,f=m.F(e);e.ta||(e.ta=e.notifySubscribers,e.notifySubscribers=function(a,b){b&&"change"!==b?"beforeChange"===b?e.pb(a):e.ta(a,b):e.qb(a)});var g=a(function(){f&&d===e&&(d=e()),b=!1,e.Wa(c,d)&&e.ta(c=d)});e.qb=function(a){b=!0,d=a,g()},e.pb=function(a){b||(c=a,e.ta(a,"beforeChange"))}},Ba:function(a){return this.G[a]&&this.G[a].length},nc:function(a){if(a)return this.G[a]&&this.G[a].length||0;var b=0;return m.a.A(this.G,function(a,c){b+=c.length}),b},Wa:function(a,b){return!this.equalityComparer||!this.equalityComparer(a,b)},extend:function(a){var b=this;return a&&m.a.A(a,function(a,c){var d=m.Sa[a];"function"==typeof d&&(b=d(b,c)||b)}),b}};m.D(o,"subscribe",o.U),m.D(o,"extend",o.extend),m.D(o,"getSubscriptionsCount",o.nc),m.a.za&&m.a.Fa(o,Function.prototype),m.Q.fn=o,m.Hb=function(a){return null!=a&&"function"==typeof a.U&&"function"==typeof a.notifySubscribers},m.b("subscribable",m.Q),m.b("isSubscribable",m.Hb),m.Z=m.k=function(){function a(a){d.push(c),c=a}function b(){c=d.pop()}var c,d=[],e=0;return{xb:a,end:b,Ob:function(a){if(c){if(!m.Hb(a))throw Error("Only subscribable things can act as dependencies");c.La(a,a.ac||(a.ac=++e))}},u:function(c,d,e){try{return a(),c.apply(d,e||[])}finally{b()}},oa:function(){return c?c.w.oa():void 0},Ca:function(){return c?c.Ca:void 0}}}(),m.b("computedContext",m.Z),m.b("computedContext.getDependenciesCount",m.Z.oa),m.b("computedContext.isInitial",m.Z.Ca),m.b("computedContext.isSleeping",m.Z.Jc),m.b("ignoreDependencies",m.Gc=m.k.u),m.r=function(a){function b(){return 0<arguments.length?(b.Wa(c,arguments[0])&&(b.X(),c=arguments[0],b.W()),this):(m.k.Ob(b),c)}var c=a;return m.Q.call(b),m.a.Ga(b,m.r.fn),b.B=function(){return c},b.W=function(){b.notifySubscribers(c)},b.X=function(){b.notifySubscribers(c,"beforeChange")},m.D(b,"peek",b.B),m.D(b,"valueHasMutated",b.W),m.D(b,"valueWillMutate",b.X),b},m.r.fn={equalityComparer:i};var p=m.r.Ac="__ko_proto__";m.r.fn[p]=m.r,m.a.za&&m.a.Fa(m.r.fn,m.Q.fn),m.Ta=function(b,c){return null===b||b===a||b[p]===a?!1:b[p]===c?!0:m.Ta(b[p],c)},m.F=function(a){return m.Ta(a,m.r)},m.Da=function(a){return!!("function"==typeof a&&a[p]===m.r||"function"==typeof a&&a[p]===m.j&&a.qc)},m.b("observable",m.r),m.b("isObservable",m.F),m.b("isWriteableObservable",m.Da),m.b("isWritableObservable",m.Da),m.ba=function(a){if(a=a||[],"object"!=typeof a||!("length"in a))throw Error("The argument passed when initializing an observable array must be an array, or null, or undefined.");return a=m.r(a),m.a.Ga(a,m.ba.fn),a.extend({trackArrayChanges:!0})},m.ba.fn={remove:function(a){for(var b=this.B(),c=[],d="function"!=typeof a||m.F(a)?function(b){return b===a}:a,e=0;e<b.length;e++){var f=b[e];d(f)&&(0===c.length&&this.X(),c.push(f),b.splice(e,1),e--)}return c.length&&this.W(),c},removeAll:function(b){if(b===a){var c=this.B(),d=c.slice(0);return this.X(),c.splice(0,c.length),this.W(),d}return b?this.remove(function(a){return 0<=m.a.m(b,a)}):[]},destroy:function(a){var b=this.B(),c="function"!=typeof a||m.F(a)?function(b){return b===a}:a;this.X();for(var d=b.length-1;d>=0;d--)c(b[d])&&(b[d]._destroy=!0);this.W()},destroyAll:function(b){return b===a?this.destroy(function(){return!0}):b?this.destroy(function(a){return 0<=m.a.m(b,a)}):[]},indexOf:function(a){var b=this();return m.a.m(b,a)},replace:function(a,b){var c=this.indexOf(a);c>=0&&(this.X(),this.B()[c]=b,this.W())}},m.a.o("pop push reverse shift sort splice unshift".split(" "),function(a){m.ba.fn[a]=function(){var b=this.B();return this.X(),this.yb(b,a,arguments),b=b[a].apply(b,arguments),this.W(),b}}),m.a.o(["slice"],function(a){m.ba.fn[a]=function(){var b=this();return b[a].apply(b,arguments)}}),m.a.za&&m.a.Fa(m.ba.fn,m.r.fn),m.b("observableArray",m.ba),m.Sa.trackArrayChanges=function(a){function b(){if(!d){d=!0;var b=a.notifySubscribers;a.notifySubscribers=function(a,c){return c&&"change"!==c||++f,b.apply(this,arguments)};var g=[].concat(a.B()||[]);e=null,c=a.U(function(b){if(b=[].concat(b||[]),a.Ba("arrayChange")){var c;(!e||f>1)&&(e=m.a.Ma(g,b,{sparse:!0})),c=e}g=b,e=null,f=0,c&&c.length&&a.notifySubscribers(c,"arrayChange")})}}if(!a.yb){var c,d=!1,e=null,f=0,g=a.ja,h=a.ua;a.ja=function(c){g&&g.call(a,c),"arrayChange"===c&&b()},a.ua=function(b){h&&h.call(a,b),"arrayChange"!==b||a.Ba("arrayChange")||(c.p(),d=!1)},a.yb=function(a,b,c){function g(a,b,c){return h[h.length]={status:a,value:b,index:c}}if(d&&!f){var h=[],i=a.length,j=c.length,k=0;switch(b){case"push":k=i;case"unshift":for(b=0;j>b;b++)g("added",c[b],k+b);break;case"pop":k=i-1;case"shift":i&&g("deleted",a[k],k);break;case"splice":b=Math.min(Math.max(0,0>c[0]?i+c[0]:c[0]),i);for(var i=1===j?i:Math.min(b+(c[1]||0),i),j=b+j-2,k=Math.max(i,j),l=[],n=[],o=2;k>b;++b,++o)i>b&&n.push(g("deleted",a[b],b)),j>b&&l.push(g("added",c[o],b));m.a.Cb(n,l);break;default:return}e=h}}}},m.w=m.j=function(b,c,d){function e(a,b,c){if(u&&b===j)throw Error("A 'pure' computed must not be called recursively");B[a]=c,c.sa=C++,c.ea=b.Aa()}function f(){var a,b;for(a in B)if(B.hasOwnProperty(a)&&(b=B[a],b.da.pc(b.ea)))return!0}function g(){!v&&B&&m.a.A(B,function(a,b){b.p&&b.p()}),B=null,C=0,s=!0,v=p=!1}function h(){var a=j.throttleEvaluation;a&&a>=0?(clearTimeout(D),D=setTimeout(function(){i(!0)},a)):j.nb?j.nb():i(!0)}function i(b){if(!q&&!s){if(z&&z()){if(!r)return void A()}else r=!1;q=!0;try{var d=B,f=C,g=u?a:!C;m.k.xb({La:function(a,b){s||(f&&d[b]?(e(b,a,d[b]),delete d[b],--f):B[b]||e(b,a,v?{da:a}:a.U(h)))},w:j,Ca:g}),B={},C=0;try{var i=c?t.call(c):t()}finally{m.k.end(),f&&!v&&m.a.A(d,function(a,b){b.p&&b.p()}),p=!1}j.Wa(o,i)&&(v||n(o,"beforeChange"),o=i,v?j.Yb():b&&n(o)),g&&n(o,"awake")}finally{q=!1}C||A()}}function j(){if(0<arguments.length){if("function"!=typeof w)throw Error("Cannot write a value to a ko.computed unless you specify a 'write' option. If you wish to read the current value, don't pass any parameters.");return w.apply(c,arguments),this}return m.k.Ob(j),(p||v&&f())&&i(),o}function k(){return(p&&!C||v&&f())&&i(),o}function l(){return p||C>0}function n(a,b){j.notifySubscribers(a,b)}var o,p=!0,q=!1,r=!1,s=!1,t=b,u=!1,v=!1;if(t&&"object"==typeof t?(d=t,t=d.read):(d=d||{},t||(t=d.read)),"function"!=typeof t)throw Error("Pass a function that returns the value of the ko.computed");var w=d.write,x=d.disposeWhenNodeIsRemoved||d.q||null,y=d.disposeWhen||d.Pa,z=y,A=g,B={},C=0,D=null;c||(c=d.owner),m.Q.call(j),m.a.Ga(j,m.j.fn),j.B=k,j.oa=function(){return C},j.qc="function"==typeof w,j.p=function(){A()},j.$=l;var E=j.Za;return j.Za=function(a){E.call(j,a),j.nb=function(){j.pb(o),p=!0,j.qb(j)}},d.pure?(v=u=!0,j.ja=function(a){if(!s&&v&&"change"==a){if(v=!1,p||f())B=null,C=0,p=!0,i();else{var b=[];m.a.A(B,function(a,c){b[c.sa]=a}),m.a.o(b,function(a,b){var c=B[a],d=c.da.U(h);d.sa=b,d.ea=c.ea,B[a]=d})}s||n(o,"awake")}},j.ua=function(b){s||"change"!=b||j.Ba("change")||(m.a.A(B,function(a,b){b.p&&(B[a]={da:b.da,sa:b.sa,ea:b.ea},b.p())}),v=!0,n(a,"asleep"))},j.bc=j.Aa,j.Aa=function(){return v&&(p||f())&&i(),j.bc()}):d.deferEvaluation&&(j.ja=function(a){"change"!=a&&"beforeChange"!=a||k()}),m.D(j,"peek",j.B),m.D(j,"dispose",j.p),m.D(j,"isActive",j.$),m.D(j,"getDependenciesCount",j.oa),x&&(r=!0,x.nodeType&&(z=function(){return!m.a.Qa(x)||y&&y()})),v||d.deferEvaluation||i(),x&&l()&&x.nodeType&&(A=function(){m.a.C.Pb(x,A),g()},m.a.C.fa(x,A)),j},m.sc=function(a){return m.Ta(a,m.j)},o=m.r.Ac,m.j[o]=m.r,m.j.fn={equalityComparer:i},m.j.fn[o]=m.j,m.a.za&&m.a.Fa(m.j.fn,m.Q.fn),m.b("dependentObservable",m.j),m.b("computed",m.j),m.b("isComputed",m.sc),m.Nb=function(a,b){return"function"==typeof a?m.w(a,b,{pure:!0}):(a=m.a.extend({},a),a.pure=!0,m.w(a,b))},m.b("pureComputed",m.Nb),function(){function b(e,f,g){if(g=g||new d,e=f(e),"object"!=typeof e||null===e||e===a||e instanceof Date||e instanceof String||e instanceof Number||e instanceof Boolean)return e;var h=e instanceof Array?[]:{};return g.save(e,h),c(e,function(c){var d=f(e[c]);switch(typeof d){case"boolean":case"number":case"string":case"function":h[c]=d;break;case"object":case"undefined":var i=g.get(d);h[c]=i!==a?i:b(d,f,g)}}),h}function c(a,b){if(a instanceof Array){for(var c=0;c<a.length;c++)b(c);"function"==typeof a.toJSON&&b("toJSON")}else for(c in a)b(c)}function d(){this.keys=[],this.mb=[]}m.Vb=function(a){if(0==arguments.length)throw Error("When calling ko.toJS, pass the object you want to convert.");return b(a,function(a){for(var b=0;m.F(a)&&10>b;b++)a=a();return a})},m.toJSON=function(a,b,c){return a=m.Vb(a),m.a.jb(a,b,c)},d.prototype={save:function(a,b){var c=m.a.m(this.keys,a);c>=0?this.mb[c]=b:(this.keys.push(a),this.mb.push(b))},get:function(b){return b=m.a.m(this.keys,b),b>=0?this.mb[b]:a}}}(),m.b("toJS",m.Vb),m.b("toJSON",m.toJSON),function(){m.i={s:function(b){switch(m.a.v(b)){case"option":return!0===b.__ko__hasDomDataOptionValue__?m.a.f.get(b,m.d.options.ab):7>=m.a.M?b.getAttributeNode("value")&&b.getAttributeNode("value").specified?b.value:b.text:b.value;case"select":return 0<=b.selectedIndex?m.i.s(b.options[b.selectedIndex]):a;default:return b.value}},Y:function(b,c,d){switch(m.a.v(b)){case"option":switch(typeof c){case"string":m.a.f.set(b,m.d.options.ab,a),"__ko__hasDomDataOptionValue__"in b&&delete b.__ko__hasDomDataOptionValue__,b.value=c;break;default:m.a.f.set(b,m.d.options.ab,c),b.__ko__hasDomDataOptionValue__=!0,b.value="number"==typeof c?c:""}break;case"select":""!==c&&null!==c||(c=a);for(var e,f=-1,g=0,h=b.options.length;h>g;++g)if(e=m.i.s(b.options[g]),e==c||""==e&&c===a){f=g;break}(d||f>=0||c===a&&1<b.size)&&(b.selectedIndex=f);break;default:null!==c&&c!==a||(c=""),b.value=c}}}}(),m.b("selectExtensions",m.i),m.b("selectExtensions.readValue",m.i.s),m.b("selectExtensions.writeValue",m.i.Y),m.h=function(){function a(a){a=m.a.ib(a),123===a.charCodeAt(0)&&(a=a.slice(1,-1));var b,c=[],g=a.match(d),h=[],i=0;if(g){g.push(",");for(var j,k=0;j=g[k];++k){var l=j.charCodeAt(0);if(44===l){if(0>=i){c.push(b&&h.length?{key:b,value:h.join("")}:{unknown:b||h.join("")}),b=i=0,h=[];continue}}else if(58===l){if(!i&&!b&&1===h.length){b=h.pop();continue}}else 47===l&&k&&1<j.length?(l=g[k-1].match(e))&&!f[l[0]]&&(a=a.substr(a.indexOf(j)+1),g=a.match(d),g.push(","),k=-1,j="/"):40===l||123===l||91===l?++i:41===l||125===l||93===l?--i:b||h.length||34!==l&&39!==l||(j=j.slice(1,-1));h.push(j)}}return c}var b=["true","false","null","undefined"],c=/^(?:[$_a-z][$\w]*|(.+)(\.\s*[$_a-z][$\w]*|\[.+\]))$/i,d=RegExp("\"(?:[^\"\\\\]|\\\\.)*\"|'(?:[^'\\\\]|\\\\.)*'|/(?:[^/\\\\]|\\\\.)*/w*|[^\\s:,/][^,\"'{}()/:[\\]]*[^\\s,\"'{}()/:[\\]]|[^\\s]","g"),e=/[\])"'A-Za-z0-9_$]+$/,f={"in":1,"return":1,"typeof":1},g={};return{ka:[],V:g,bb:a,Ea:function(d,e){function f(a,d){var e;if(!k){var l=m.getBindingHandler(a);if(l&&l.preprocess&&!(d=l.preprocess(d,a,f)))return;(l=g[a])&&(e=d,0<=m.a.m(b,e)?e=!1:(l=e.match(c),e=null===l?!1:l[1]?"Object("+l[1]+")"+l[2]:e),l=e),l&&i.push("'"+a+"':function(_z){"+e+"=_z}")}j&&(d="function(){return "+d+" }"),h.push("'"+a+"':"+d)}e=e||{};var h=[],i=[],j=e.valueAccessors,k=e.bindingParams,l="string"==typeof d?a(d):d;return m.a.o(l,function(a){f(a.key||a.unknown,a.value)}),i.length&&f("_ko_property_writers","{"+i.join(",")+" }"),h.join(",")},vc:function(a,b){for(var c=0;c<a.length;c++)if(a[c].key==b)return!0;return!1},ra:function(a,b,c,d,e){a&&m.F(a)?!m.Da(a)||e&&a.B()===d||a(d):(a=b.get("_ko_property_writers"))&&a[c]&&a[c](d)}}}(),m.b("expressionRewriting",m.h),m.b("expressionRewriting.bindingRewriteValidators",m.h.ka),m.b("expressionRewriting.parseObjectLiteral",m.h.bb),m.b("expressionRewriting.preProcessBindings",m.h.Ea),m.b("expressionRewriting._twoWayBindings",m.h.V),m.b("jsonExpressionRewriting",m.h),m.b("jsonExpressionRewriting.insertPropertyAccessorsIntoJson",m.h.Ea),function(){function a(a){return 8==a.nodeType&&g.test(f?a.text:a.nodeValue)}function b(a){return 8==a.nodeType&&h.test(f?a.text:a.nodeValue)}function d(c,d){for(var e=c,f=1,g=[];e=e.nextSibling;){if(b(e)&&(f--,0===f))return g;g.push(e),a(e)&&f++}if(!d)throw Error("Cannot find closing comment tag to match: "+c.nodeValue);return null}function e(a,b){var c=d(a,b);return c?0<c.length?c[c.length-1].nextSibling:a.nextSibling:null}var f=c&&"<!--test-->"===c.createComment("test").text,g=f?/^\x3c!--\s*ko(?:\s+([\s\S]+))?\s*--\x3e$/:/^\s*ko(?:\s+([\s\S]+))?\s*$/,h=f?/^\x3c!--\s*\/ko\s*--\x3e$/:/^\s*\/ko\s*$/,i={ul:!0,ol:!0};m.e={R:{},childNodes:function(b){return a(b)?d(b):b.childNodes},ma:function(b){if(a(b)){b=m.e.childNodes(b);for(var c=0,d=b.length;d>c;c++)m.removeNode(b[c])}else m.a.Ra(b)},T:function(b,c){if(a(b)){m.e.ma(b);for(var d=b.nextSibling,e=0,f=c.length;f>e;e++)d.parentNode.insertBefore(c[e],d)}else m.a.T(b,c)},Mb:function(b,c){a(b)?b.parentNode.insertBefore(c,b.nextSibling):b.firstChild?b.insertBefore(c,b.firstChild):b.appendChild(c)},Fb:function(b,c,d){d?a(b)?b.parentNode.insertBefore(c,d.nextSibling):d.nextSibling?b.insertBefore(c,d.nextSibling):b.appendChild(c):m.e.Mb(b,c)},firstChild:function(c){return a(c)?!c.nextSibling||b(c.nextSibling)?null:c.nextSibling:c.firstChild},nextSibling:function(c){return a(c)&&(c=e(c)),c.nextSibling&&b(c.nextSibling)?null:c.nextSibling},oc:a,Fc:function(a){return(a=(f?a.text:a.nodeValue).match(g))?a[1]:null},Kb:function(c){if(i[m.a.v(c)]){var d=c.firstChild;if(d)do if(1===d.nodeType){var f;f=d.firstChild;var g=null;if(f)do if(g)g.push(f);else if(a(f)){var h=e(f,!0);h?f=h:g=[f]}else b(f)&&(g=[f]);while(f=f.nextSibling);if(f=g)for(g=d.nextSibling,h=0;h<f.length;h++)g?c.insertBefore(f[h],g):c.appendChild(f[h])}while(d=d.nextSibling)}}}}(),m.b("virtualElements",m.e),m.b("virtualElements.allowedBindings",m.e.R),m.b("virtualElements.emptyNode",m.e.ma),m.b("virtualElements.insertAfter",m.e.Fb),m.b("virtualElements.prepend",m.e.Mb),m.b("virtualElements.setDomNodeChildren",m.e.T),function(){m.L=function(){this.ec={}},m.a.extend(m.L.prototype,{nodeHasBindings:function(a){switch(a.nodeType){case 1:return null!=a.getAttribute("data-bind")||m.g.getComponentNameForNode(a);case 8:return m.e.oc(a);default:return!1}},getBindings:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a):null;return m.g.sb(c,a,b,!1)},getBindingAccessors:function(a,b){var c=this.getBindingsString(a,b),c=c?this.parseBindingsString(c,b,a,{valueAccessors:!0}):null;return m.g.sb(c,a,b,!0)},getBindingsString:function(a){switch(a.nodeType){case 1:return a.getAttribute("data-bind");case 8:return m.e.Fc(a);default:return null}},parseBindingsString:function(a,b,c,d){try{var e,f=this.ec,g=a+(d&&d.valueAccessors||"");
if(!(e=f[g])){var h,i="with($context){with($data||{}){return{"+m.h.Ea(a,d)+"}}}";h=new Function("$context","$element",i),e=f[g]=h}return e(b,c)}catch(j){throw j.message="Unable to parse bindings.\nBindings value: "+a+"\nMessage: "+j.message,j}}}),m.L.instance=new m.L}(),m.b("bindingProvider",m.L),function(){function c(a){return function(){return a}}function d(a){return a()}function f(a){return m.a.pa(m.k.u(a),function(b,c){return function(){return a()[c]}})}function g(a,b,d){return"function"==typeof a?f(a.bind(null,b,d)):m.a.pa(a,c)}function h(a,b){return f(this.getBindings.bind(this,a,b))}function i(a,b,c){var d,e=m.e.firstChild(b),f=m.L.instance,g=f.preprocessNode;if(g){for(;d=e;)e=m.e.nextSibling(d),g.call(f,d);e=m.e.firstChild(b)}for(;d=e;)e=m.e.nextSibling(d),j(a,d,c)}function j(a,b,c){var d=!0,e=1===b.nodeType;e&&m.e.Kb(b),(e&&c||m.L.instance.nodeHasBindings(b))&&(d=l(b,null,a,c).shouldBindDescendants),d&&!o[m.a.v(b)]&&i(a,b,!e)}function k(a){var b=[],c={},d=[];return m.a.A(a,function e(f){if(!c[f]){var g=m.getBindingHandler(f);g&&(g.after&&(d.push(f),m.a.o(g.after,function(b){if(a[b]){if(-1!==m.a.m(d,b))throw Error("Cannot combine the following bindings, because they have a cyclic dependency: "+d.join(", "));e(b)}}),d.length--),b.push({key:f,Eb:g})),c[f]=!0}}),b}function l(b,c,e,f){var g=m.a.f.get(b,p);if(!c){if(g)throw Error("You cannot apply bindings multiple times to the same element.");m.a.f.set(b,p,!0)}!g&&f&&m.Tb(b,e);var i;if(c&&"function"!=typeof c)i=c;else{var j=m.L.instance,l=j.getBindingAccessors||h,n=m.j(function(){return(i=c?c(e,b):l.call(j,b,e))&&e.K&&e.K(),i},null,{q:b});i&&n.$()||(n=null)}var o;if(i){var q=n?function(a){return function(){return d(n()[a])}}:function(a){return i[a]},r=function(){return m.a.pa(n?n():i,d)};r.get=function(a){return i[a]&&d(q(a))},r.has=function(a){return a in i},f=k(i),m.a.o(f,function(c){var d=c.Eb.init,f=c.Eb.update,g=c.key;if(8===b.nodeType&&!m.e.R[g])throw Error("The binding '"+g+"' cannot be used with virtual elements");try{"function"==typeof d&&m.k.u(function(){var c=d(b,q(g),r,e.$data,e);if(c&&c.controlsDescendantBindings){if(o!==a)throw Error("Multiple bindings ("+o+" and "+g+") are trying to control descendant bindings of the same element. You cannot use these bindings together on the same element.");o=g}}),"function"==typeof f&&m.j(function(){f(b,q(g),r,e.$data,e)},null,{q:b})}catch(h){throw h.message='Unable to process binding "'+g+": "+i[g]+'"\nMessage: '+h.message,h}})}return{shouldBindDescendants:o===a}}function n(a){return a&&a instanceof m.N?a:new m.N(a)}m.d={};var o={script:!0,textarea:!0};m.getBindingHandler=function(a){return m.d[a]},m.N=function(b,c,d,e){var f,g=this,h="function"==typeof b&&!m.F(b),i=m.j(function(){var a=h?b():b,f=m.a.c(a);return c?(c.K&&c.K(),m.a.extend(g,c),i&&(g.K=i)):(g.$parents=[],g.$root=f,g.ko=m),g.$rawData=a,g.$data=f,d&&(g[d]=f),e&&e(g,c,f),g.$data},null,{Pa:function(){return f&&!m.a.tb(f)},q:!0});i.$()&&(g.K=i,i.equalityComparer=null,f=[],i.Zb=function(b){f.push(b),m.a.C.fa(b,function(b){m.a.ya(f,b),f.length||(i.p(),g.K=i=a)})})},m.N.prototype.createChildContext=function(a,b,c){return new m.N(a,this,b,function(a,b){a.$parentContext=b,a.$parent=b.$data,a.$parents=(b.$parents||[]).slice(0),a.$parents.unshift(a.$parent),c&&c(a)})},m.N.prototype.extend=function(a){return new m.N(this.K||this.$data,this,null,function(b,c){b.$rawData=c.$rawData,m.a.extend(b,"function"==typeof a?a():a)})};var p=m.a.f.I(),q=m.a.f.I();m.Tb=function(a,b){return 2!=arguments.length?m.a.f.get(a,q):(m.a.f.set(a,q,b),void(b.K&&b.K.Zb(a)))},m.va=function(a,b,c){return 1===a.nodeType&&m.e.Kb(a),l(a,b,n(c),!0)},m.cc=function(a,b,c){return c=n(c),m.va(a,g(b,c,a),c)},m.Ja=function(a,b){1!==b.nodeType&&8!==b.nodeType||i(n(a),b,!0)},m.ub=function(a,c){if(!e&&b.jQuery&&(e=b.jQuery),c&&1!==c.nodeType&&8!==c.nodeType)throw Error("ko.applyBindings: first parameter should be your view model; second parameter should be a DOM node");c=c||b.document.body,j(n(a),c,!0)},m.Oa=function(b){switch(b.nodeType){case 1:case 8:var c=m.Tb(b);if(c)return c;if(b.parentNode)return m.Oa(b.parentNode)}return a},m.gc=function(b){return(b=m.Oa(b))?b.$data:a},m.b("bindingHandlers",m.d),m.b("applyBindings",m.ub),m.b("applyBindingsToDescendants",m.Ja),m.b("applyBindingAccessorsToNode",m.va),m.b("applyBindingsToNode",m.cc),m.b("contextFor",m.Oa),m.b("dataFor",m.gc)}(),function(a){function b(b,d){var g,h=e.hasOwnProperty(b)?e[b]:a;h?h.U(d):(h=e[b]=new m.Q,h.U(d),c(b,function(a,c){var d=!(!c||!c.synchronous);f[b]={definition:a,tc:d},delete e[b],g||d?h.notifySubscribers(a):setTimeout(function(){h.notifySubscribers(a)},0)}),g=!0)}function c(a,b){d("getConfig",[a],function(c){c?d("loadComponent",[a,c],function(a){b(a,c)}):b(null,null)})}function d(b,c,e,f){f||(f=m.g.loaders.slice(0));var g=f.shift();if(g){var h=g[b];if(h){var i=!1;if(h.apply(g,c.concat(function(a){i?e(null):null!==a?e(a):d(b,c,e,f)}))!==a&&(i=!0,!g.suppressLoaderExceptions))throw Error("Component loaders must supply values by invoking the callback, not by returning values synchronously.")}else d(b,c,e,f)}else e(null)}var e={},f={};m.g={get:function(c,d){var e=f.hasOwnProperty(c)?f[c]:a;e?e.tc?m.k.u(function(){d(e.definition)}):setTimeout(function(){d(e.definition)},0):b(c,d)},zb:function(a){delete f[a]},ob:d},m.g.loaders=[],m.b("components",m.g),m.b("components.get",m.g.get),m.b("components.clearCachedDefinition",m.g.zb)}(),function(){function a(a,b,c,d){function e(){0===--h&&d(f)}var f={},h=2,i=c.template;c=c.viewModel,i?g(b,i,function(b){m.g.ob("loadTemplate",[a,b],function(a){f.template=a,e()})}):e(),c?g(b,c,function(b){m.g.ob("loadViewModel",[a,b],function(a){f[k]=a,e()})}):e()}function d(a,b,c){if("function"==typeof b)c(function(a){return new b(a)});else if("function"==typeof b[k])c(b[k]);else if("instance"in b){var e=b.instance;c(function(){return e})}else"viewModel"in b?d(a,b.viewModel,c):a("Unknown viewModel value: "+b)}function e(a){switch(m.a.v(a)){case"script":return m.a.ca(a.text);case"textarea":return m.a.ca(a.value);case"template":if(f(a.content))return m.a.la(a.content.childNodes)}return m.a.la(a.childNodes)}function f(a){return b.DocumentFragment?a instanceof DocumentFragment:a&&11===a.nodeType}function g(a,c,d){"string"==typeof c.require?h||b.require?(h||b.require)([c.require],d):a("Uses require, but no AMD loader is present"):d(c)}function i(a){return function(b){throw Error("Component '"+a+"': "+b)}}var j={};m.g.register=function(a,b){if(!b)throw Error("Invalid configuration for "+a);if(m.g.Xa(a))throw Error("Component "+a+" is already registered");j[a]=b},m.g.Xa=function(a){return a in j},m.g.Ec=function(a){delete j[a],m.g.zb(a)},m.g.Ab={getConfig:function(a,b){b(j.hasOwnProperty(a)?j[a]:null)},loadComponent:function(b,c,d){var e=i(b);g(e,c,function(c){a(b,e,c,d)})},loadTemplate:function(a,d,g){if(a=i(a),"string"==typeof d)g(m.a.ca(d));else if(d instanceof Array)g(d);else if(f(d))g(m.a.O(d.childNodes));else if(d.element)if(d=d.element,b.HTMLElement?d instanceof HTMLElement:d&&d.tagName&&1===d.nodeType)g(e(d));else if("string"==typeof d){var h=c.getElementById(d);h?g(e(h)):a("Cannot find element with ID "+d)}else a("Unknown element type: "+d);else a("Unknown template value: "+d)},loadViewModel:function(a,b,c){d(i(a),b,c)}};var k="createViewModel";m.b("components.register",m.g.register),m.b("components.isRegistered",m.g.Xa),m.b("components.unregister",m.g.Ec),m.b("components.defaultLoader",m.g.Ab),m.g.loaders.push(m.g.Ab),m.g.$b=j}(),function(){function a(a,c){var d=a.getAttribute("params");if(d){var d=b.parseBindingsString(d,c,a,{valueAccessors:!0,bindingParams:!0}),d=m.a.pa(d,function(b){return m.w(b,null,{q:a})}),e=m.a.pa(d,function(b){var c=b.B();return b.$()?m.w({read:function(){return m.a.c(b())},write:m.Da(c)&&function(a){b()(a)},q:a}):c});return e.hasOwnProperty("$raw")||(e.$raw=d),e}return{$raw:{}}}m.g.getComponentNameForNode=function(a){return a=m.a.v(a),m.g.Xa(a)&&a},m.g.sb=function(b,c,d,e){if(1===c.nodeType){var f=m.g.getComponentNameForNode(c);if(f){if(b=b||{},b.component)throw Error('Cannot use the "component" binding on a custom element matching a component');var g={name:f,params:a(c,d)};b.component=e?function(){return g}:g}}return b};var b=new m.L;9>m.a.M&&(m.g.register=function(a){return function(b){return c.createElement(b),a.apply(this,arguments)}}(m.g.register),c.createDocumentFragment=function(a){return function(){var b,c=a(),d=m.g.$b;for(b in d)d.hasOwnProperty(b)&&c.createElement(b);return c}}(c.createDocumentFragment))}(),function(a){function b(a,b,c){if(b=b.template,!b)throw Error("Component '"+a+"' has no template");a=m.a.la(b),m.e.T(c,a)}function c(a,b,c,d){var e=a.createViewModel;return e?e.call(a,d,{element:b,templateNodes:c}):d}var d=0;m.d.component={init:function(e,f,g,h,i){function j(){var a=k&&k.dispose;"function"==typeof a&&a.call(k),l=null}var k,l,n=m.a.O(m.e.childNodes(e));return m.a.C.fa(e,j),m.w(function(){var g,h,o=m.a.c(f());if("string"==typeof o?g=o:(g=m.a.c(o.name),h=m.a.c(o.params)),!g)throw Error("No component name specified");var p=l=++d;m.g.get(g,function(d){if(l===p){if(j(),!d)throw Error("Unknown component '"+g+"'");b(g,d,e);var f=c(d,e,n,h);d=i.createChildContext(f,a,function(a){a.$component=f,a.$componentTemplateNodes=n}),k=f,m.Ja(d,e)}})},null,{q:e}),{controlsDescendantBindings:!0}}},m.e.R.component=!0}();var q={"class":"className","for":"htmlFor"};m.d.attr={update:function(b,c){var d=m.a.c(c())||{};m.a.A(d,function(c,d){d=m.a.c(d);var e=!1===d||null===d||d===a;e&&b.removeAttribute(c),8>=m.a.M&&c in q?(c=q[c],e?b.removeAttribute(c):b[c]=d):e||b.setAttribute(c,d.toString()),"name"===c&&m.a.Rb(b,e?"":d.toString())})}},function(){m.d.checked={after:["value","attr"],init:function(b,c,d){function e(){var a=b.checked,e=l?g():a;if(!m.Z.Ca()&&(!i||a)){var f=m.k.u(c);j?k!==e?(a&&(m.a.ga(f,e,!0),m.a.ga(f,k,!1)),k=e):m.a.ga(f,e,a):m.h.ra(f,d,"checked",e,!0)}}function f(){var a=m.a.c(c());b.checked=j?0<=m.a.m(a,g()):h?a:g()===a}var g=m.Nb(function(){return d.has("checkedValue")?m.a.c(d.get("checkedValue")):d.has("value")?m.a.c(d.get("value")):b.value}),h="checkbox"==b.type,i="radio"==b.type;if(h||i){var j=h&&m.a.c(c())instanceof Array,k=j?g():a,l=i||j;i&&!b.name&&m.d.uniqueName.init(b,function(){return!0}),m.w(e,null,{q:b}),m.a.n(b,"click",e),m.w(f,null,{q:b})}}},m.h.V.checked=!0,m.d.checkedValue={update:function(a,b){a.value=m.a.c(b())}}}(),m.d.css={update:function(a,b){var c=m.a.c(b());null!==c&&"object"==typeof c?m.a.A(c,function(b,c){c=m.a.c(c),m.a.Ia(a,b,c)}):(c=String(c||""),m.a.Ia(a,a.__ko__cssValue,!1),a.__ko__cssValue=c,m.a.Ia(a,c,!0))}},m.d.enable={update:function(a,b){var c=m.a.c(b());c&&a.disabled?a.removeAttribute("disabled"):c||a.disabled||(a.disabled=!0)}},m.d.disable={update:function(a,b){m.d.enable.update(a,function(){return!m.a.c(b())})}},m.d.event={init:function(a,b,c,d,e){var f=b()||{};m.a.A(f,function(f){"string"==typeof f&&m.a.n(a,f,function(a){var g,h=b()[f];if(h){try{var i=m.a.O(arguments);d=e.$data,i.unshift(d),g=h.apply(d,i)}finally{!0!==g&&(a.preventDefault?a.preventDefault():a.returnValue=!1)}!1===c.get(f+"Bubble")&&(a.cancelBubble=!0,a.stopPropagation&&a.stopPropagation())}})})}},m.d.foreach={Ib:function(a){return function(){var b=a(),c=m.a.cb(b);return c&&"number"!=typeof c.length?(m.a.c(b),{foreach:c.data,as:c.as,includeDestroyed:c.includeDestroyed,afterAdd:c.afterAdd,beforeRemove:c.beforeRemove,afterRender:c.afterRender,beforeMove:c.beforeMove,afterMove:c.afterMove,templateEngine:m.P.Va}):{foreach:b,templateEngine:m.P.Va}}},init:function(a,b){return m.d.template.init(a,m.d.foreach.Ib(b))},update:function(a,b,c,d,e){return m.d.template.update(a,m.d.foreach.Ib(b),c,d,e)}},m.h.ka.foreach=!1,m.e.R.foreach=!0,m.d.hasfocus={init:function(a,b,c){function d(d){a.__ko_hasfocusUpdating=!0;var e=a.ownerDocument;if("activeElement"in e){var f;try{f=e.activeElement}catch(g){f=e.body}d=f===a}e=b(),m.h.ra(e,c,"hasfocus",d,!0),a.__ko_hasfocusLastValue=d,a.__ko_hasfocusUpdating=!1}var e=d.bind(null,!0),f=d.bind(null,!1);m.a.n(a,"focus",e),m.a.n(a,"focusin",e),m.a.n(a,"blur",f),m.a.n(a,"focusout",f)},update:function(a,b){var c=!!m.a.c(b());a.__ko_hasfocusUpdating||a.__ko_hasfocusLastValue===c||(c?a.focus():a.blur(),m.k.u(m.a.qa,null,[a,c?"focusin":"focusout"]))}},m.h.V.hasfocus=!0,m.d.hasFocus=m.d.hasfocus,m.h.V.hasFocus=!0,m.d.html={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){m.a.gb(a,b())}},l("if"),l("ifnot",!1,!0),l("with",!0,!1,function(a,b){return a.createChildContext(b)});var r={};m.d.options={init:function(a){if("select"!==m.a.v(a))throw Error("options binding applies only to SELECT elements");for(;0<a.length;)a.remove(0);return{controlsDescendantBindings:!0}},update:function(b,c,d){function e(){return m.a.xa(b.options,function(a){return a.selected})}function f(a,b,c){var d=typeof b;return"function"==d?b(a):"string"==d?a[b]:c}function g(a,c){if(p&&k)m.i.Y(b,m.a.c(d.get("value")),!0);else if(o.length){var e=0<=m.a.m(o,m.i.s(c[0]));m.a.Sb(c[0],e),p&&!e&&m.k.u(m.a.qa,null,[b,"change"])}}var h=b.multiple,i=0!=b.length&&h?b.scrollTop:null,j=m.a.c(c()),k=d.get("valueAllowUnset")&&d.has("value"),l=d.get("optionsIncludeDestroyed");c={};var n,o=[];k||(h?o=m.a.Ka(e(),m.i.s):0<=b.selectedIndex&&o.push(m.i.s(b.options[b.selectedIndex]))),j&&("undefined"==typeof j.length&&(j=[j]),n=m.a.xa(j,function(b){return l||b===a||null===b||!m.a.c(b._destroy)}),d.has("optionsCaption")&&(j=m.a.c(d.get("optionsCaption")),null!==j&&j!==a&&n.unshift(r)));var p=!1;c.beforeRemove=function(a){b.removeChild(a)},j=g,d.has("optionsAfterRender")&&"function"==typeof d.get("optionsAfterRender")&&(j=function(b,c){g(0,c),m.k.u(d.get("optionsAfterRender"),null,[c[0],b!==r?b:a])}),m.a.fb(b,n,function(c,e,g){return g.length&&(o=!k&&g[0].selected?[m.i.s(g[0])]:[],p=!0),e=b.ownerDocument.createElement("option"),c===r?(m.a.Ha(e,d.get("optionsCaption")),m.i.Y(e,a)):(g=f(c,d.get("optionsValue"),c),m.i.Y(e,m.a.c(g)),c=f(c,d.get("optionsText"),g),m.a.Ha(e,c)),[e]},c,j),m.k.u(function(){k?m.i.Y(b,m.a.c(d.get("value")),!0):(h?o.length&&e().length<o.length:o.length&&0<=b.selectedIndex?m.i.s(b.options[b.selectedIndex])!==o[0]:o.length||0<=b.selectedIndex)&&m.a.qa(b,"change")}),m.a.kc(b),i&&20<Math.abs(i-b.scrollTop)&&(b.scrollTop=i)}},m.d.options.ab=m.a.f.I(),m.d.selectedOptions={after:["options","foreach"],init:function(a,b,c){m.a.n(a,"change",function(){var d=b(),e=[];m.a.o(a.getElementsByTagName("option"),function(a){a.selected&&e.push(m.i.s(a))}),m.h.ra(d,c,"selectedOptions",e)})},update:function(a,b){if("select"!=m.a.v(a))throw Error("values binding applies only to SELECT elements");var c=m.a.c(b());c&&"number"==typeof c.length&&m.a.o(a.getElementsByTagName("option"),function(a){var b=0<=m.a.m(c,m.i.s(a));m.a.Sb(a,b)})}},m.h.V.selectedOptions=!0,m.d.style={update:function(b,c){var d=m.a.c(c()||{});m.a.A(d,function(c,d){d=m.a.c(d),null!==d&&d!==a&&!1!==d||(d=""),b.style[c]=d})}},m.d.submit={init:function(a,b,c,d,e){if("function"!=typeof b())throw Error("The value for a submit binding must be a function");m.a.n(a,"submit",function(c){var d,f=b();try{d=f.call(e.$data,a)}finally{!0!==d&&(c.preventDefault?c.preventDefault():c.returnValue=!1)}})}},m.d.text={init:function(){return{controlsDescendantBindings:!0}},update:function(a,b){m.a.Ha(a,b())}},m.e.R.text=!0,function(){if(b&&b.navigator)var c=function(a){return a?parseFloat(a[1]):void 0},d=b.opera&&b.opera.version&&parseInt(b.opera.version()),e=b.navigator.userAgent,f=c(e.match(/^(?:(?!chrome).)*version\/([^ ]*) safari/i)),g=c(e.match(/Firefox\/([^ ]*)/));if(10>m.a.M)var h=m.a.f.I(),i=m.a.f.I(),j=function(a){var b=this.activeElement;(b=b&&m.a.f.get(b,i))&&b(a)},k=function(a,b){var c=a.ownerDocument;m.a.f.get(c,h)||(m.a.f.set(c,h,!0),m.a.n(c,"selectionchange",j)),m.a.f.set(a,i,b)};m.d.textInput={init:function(b,c,e){function h(a,c){m.a.n(b,a,c)}function i(){var d=m.a.c(c());null!==d&&d!==a||(d=""),o!==a&&d===o?setTimeout(i,4):b.value!==d&&(p=d,b.value=d)}function j(){n||(o=b.value,n=setTimeout(l,4))}function l(){clearTimeout(n),o=n=a;var d=b.value;p!==d&&(p=d,m.h.ra(c(),e,"textInput",d))}var n,o,p=b.value;10>m.a.M?(h("propertychange",function(a){"value"===a.propertyName&&l()}),8==m.a.M&&(h("keyup",l),h("keydown",l)),8<=m.a.M&&(k(b,l),h("dragend",j))):(h("input",l),5>f&&"textarea"===m.a.v(b)?(h("keydown",j),h("paste",j),h("cut",j)):11>d?h("keydown",j):4>g&&(h("DOMAutoComplete",l),h("dragdrop",l),h("drop",l))),h("change",l),m.w(i,null,{q:b})}},m.h.V.textInput=!0,m.d.textinput={preprocess:function(a,b,c){c("textInput",a)}}}(),m.d.uniqueName={init:function(a,b){if(b()){var c="ko_unique_"+ ++m.d.uniqueName.fc;m.a.Rb(a,c)}}},m.d.uniqueName.fc=0,m.d.value={after:["options","foreach"],init:function(a,b,c){if("input"!=a.tagName.toLowerCase()||"checkbox"!=a.type&&"radio"!=a.type){var d=["change"],e=c.get("valueUpdate"),f=!1,g=null;e&&("string"==typeof e&&(e=[e]),m.a.ia(d,e),d=m.a.wb(d));var h=function(){g=null,f=!1;var d=b(),e=m.i.s(a);m.h.ra(d,c,"value",e)};!m.a.M||"input"!=a.tagName.toLowerCase()||"text"!=a.type||"off"==a.autocomplete||a.form&&"off"==a.form.autocomplete||-1!=m.a.m(d,"propertychange")||(m.a.n(a,"propertychange",function(){f=!0}),m.a.n(a,"focus",function(){f=!1}),m.a.n(a,"blur",function(){f&&h()})),m.a.o(d,function(b){var c=h;m.a.Dc(b,"after")&&(c=function(){g=m.i.s(a),setTimeout(h,0)},b=b.substring(5)),m.a.n(a,b,c)});var i=function(){var d=m.a.c(b()),e=m.i.s(a);if(null!==g&&d===g)setTimeout(i,0);else if(d!==e)if("select"===m.a.v(a)){var f=c.get("valueAllowUnset"),e=function(){m.i.Y(a,d,f)};e(),f||d===m.i.s(a)?setTimeout(e,0):m.k.u(m.a.qa,null,[a,"change"])}else m.i.Y(a,d)};m.w(i,null,{q:a})}else m.va(a,{checkedValue:b})},update:function(){}},m.h.V.value=!0,m.d.visible={update:function(a,b){var c=m.a.c(b()),d="none"!=a.style.display;c&&!d?a.style.display="":!c&&d&&(a.style.display="none")}},function(a){m.d[a]={init:function(b,c,d,e,f){return m.d.event.init.call(this,b,function(){var b={};return b[a]=c(),b},d,e,f)}}}("click"),m.J=function(){},m.J.prototype.renderTemplateSource=function(){throw Error("Override renderTemplateSource")},m.J.prototype.createJavaScriptEvaluatorBlock=function(){throw Error("Override createJavaScriptEvaluatorBlock")},m.J.prototype.makeTemplateSource=function(a,b){if("string"==typeof a){b=b||c;var d=b.getElementById(a);if(!d)throw Error("Cannot find template with ID "+a);return new m.t.l(d)}if(1==a.nodeType||8==a.nodeType)return new m.t.ha(a);throw Error("Unknown template type: "+a)},m.J.prototype.renderTemplate=function(a,b,c,d){return a=this.makeTemplateSource(a,d),this.renderTemplateSource(a,b,c,d)},m.J.prototype.isTemplateRewritten=function(a,b){return!1===this.allowTemplateRewriting?!0:this.makeTemplateSource(a,b).data("isRewritten")},m.J.prototype.rewriteTemplate=function(a,b,c){a=this.makeTemplateSource(a,c),b=b(a.text()),a.text(b),a.data("isRewritten",!0)},m.b("templateEngine",m.J),m.kb=function(){function a(a,b,c,d){a=m.h.bb(a);for(var e=m.h.ka,f=0;f<a.length;f++){var g=a[f].key;if(e.hasOwnProperty(g)){var h=e[g];if("function"==typeof h){if(g=h(a[f].value))throw Error(g)}else if(!h)throw Error("This template engine does not support the '"+g+"' binding within its templates")}}return c="ko.__tr_ambtns(function($context,$element){return(function(){return{ "+m.h.Ea(a,{valueAccessors:!0})+" } })()},'"+c.toLowerCase()+"')",d.createJavaScriptEvaluatorBlock(c)+b}var b=/(<([a-z]+\d*)(?:\s+(?!data-bind\s*=\s*)[a-z0-9\-]+(?:=(?:\"[^\"]*\"|\'[^\']*\'|[^>]*))?)*\s+)data-bind\s*=\s*(["'])([\s\S]*?)\3/gi,c=/\x3c!--\s*ko\b\s*([\s\S]*?)\s*--\x3e/g;return{lc:function(a,b,c){b.isTemplateRewritten(a,c)||b.rewriteTemplate(a,function(a){return m.kb.xc(a,b)},c)},xc:function(d,e){return d.replace(b,function(b,c,d,f,g){return a(g,c,d,e)}).replace(c,function(b,c){return a(c,"<!-- ko -->","#comment",e)})},dc:function(a,b){return m.H.$a(function(c,d){var e=c.nextSibling;e&&e.nodeName.toLowerCase()===b&&m.va(e,a,d)})}}}(),m.b("__tr_ambtns",m.kb.dc),function(){m.t={},m.t.l=function(a){this.l=a},m.t.l.prototype.text=function(){var a=m.a.v(this.l),a="script"===a?"text":"textarea"===a?"value":"innerHTML";if(0==arguments.length)return this.l[a];var b=arguments[0];"innerHTML"===a?m.a.gb(this.l,b):this.l[a]=b};var b=m.a.f.I()+"_";m.t.l.prototype.data=function(a){return 1===arguments.length?m.a.f.get(this.l,b+a):void m.a.f.set(this.l,b+a,arguments[1])};var c=m.a.f.I();m.t.ha=function(a){this.l=a},m.t.ha.prototype=new m.t.l,m.t.ha.prototype.text=function(){if(0==arguments.length){var b=m.a.f.get(this.l,c)||{};return b.lb===a&&b.Na&&(b.lb=b.Na.innerHTML),b.lb}m.a.f.set(this.l,c,{lb:arguments[0]})},m.t.l.prototype.nodes=function(){return 0==arguments.length?(m.a.f.get(this.l,c)||{}).Na:void m.a.f.set(this.l,c,{Na:arguments[0]})},m.b("templateSources",m.t),m.b("templateSources.domElement",m.t.l),m.b("templateSources.anonymousTemplate",m.t.ha)}(),function(){function b(a,b,c){var d;for(b=m.e.nextSibling(b);a&&(d=a)!==b;)a=m.e.nextSibling(d),c(d,a)}function c(a,c){if(a.length){var d=a[0],e=a[a.length-1],f=d.parentNode,g=m.L.instance,h=g.preprocessNode;if(h){if(b(d,e,function(a,b){var c=a.previousSibling,f=h.call(g,a);f&&(a===d&&(d=f[0]||b),a===e&&(e=f[f.length-1]||c))}),a.length=0,!d)return;d===e?a.push(d):(a.push(d,e),m.a.na(a,f))}b(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||m.ub(c,a)}),b(d,e,function(a){1!==a.nodeType&&8!==a.nodeType||m.H.Xb(a,[c])}),m.a.na(a,f)}}function d(a){return a.nodeType?a:0<a.length?a[0]:null}function e(a,b,e,f,h){h=h||{};var i=(a&&d(a)||e||{}).ownerDocument,j=h.templateEngine||g;if(m.kb.lc(e,j,i),e=j.renderTemplate(e,f,h,i),"number"!=typeof e.length||0<e.length&&"number"!=typeof e[0].nodeType)throw Error("Template engine must return an array of DOM nodes");switch(i=!1,b){case"replaceChildren":m.e.T(a,e),i=!0;break;case"replaceNode":m.a.Qb(a,e),i=!0;break;case"ignoreTargetNode":break;default:throw Error("Unknown renderMode: "+b)}return i&&(c(e,f),h.afterRender&&m.k.u(h.afterRender,null,[e,f.$data])),e}function f(a,b,c){return m.F(a)?a():"function"==typeof a?a(b,c):a}var g;m.hb=function(b){if(b!=a&&!(b instanceof m.J))throw Error("templateEngine must inherit from ko.templateEngine");g=b},m.eb=function(b,c,h,i,j){if(h=h||{},(h.templateEngine||g)==a)throw Error("Set a template engine before calling renderTemplate");if(j=j||"replaceChildren",i){var k=d(i);return m.j(function(){var a=c&&c instanceof m.N?c:new m.N(m.a.c(c)),g=f(b,a.$data,a),a=e(i,j,g,a,h);"replaceNode"==j&&(i=a,k=d(i))},null,{Pa:function(){return!k||!m.a.Qa(k)},q:k&&"replaceNode"==j?k.parentNode:k})}return m.H.$a(function(a){m.eb(b,c,h,a,"replaceNode")})},m.Cc=function(b,d,g,h,i){function j(a,b){c(b,l),g.afterRender&&g.afterRender(b,a),l=null}function k(a,c){l=i.createChildContext(a,g.as,function(a){a.$index=c});var d=f(b,a,l);return e(null,"ignoreTargetNode",d,l,g)}var l;return m.j(function(){var b=m.a.c(d)||[];"undefined"==typeof b.length&&(b=[b]),b=m.a.xa(b,function(b){return g.includeDestroyed||b===a||null===b||!m.a.c(b._destroy)}),m.k.u(m.a.fb,null,[h,b,k,g,j])},null,{q:h})};var h=m.a.f.I();m.d.template={init:function(a,b){var c=m.a.c(b());if("string"==typeof c||c.name)m.e.ma(a);else{if("nodes"in c){if(c=c.nodes||[],m.F(c))throw Error('The "nodes" option must be a plain, non-observable array.')}else c=m.e.childNodes(a);c=m.a.Jb(c),new m.t.ha(a).nodes(c)}return{controlsDescendantBindings:!0}},update:function(b,c,d,e,f){var g,i=c();c=m.a.c(i),d=!0,e=null,"string"==typeof c?c={}:(i=c.name,"if"in c&&(d=m.a.c(c["if"])),d&&"ifnot"in c&&(d=!m.a.c(c.ifnot)),g=m.a.c(c.data)),"foreach"in c?e=m.Cc(i||b,d&&c.foreach||[],c,b,f):d?(f="data"in c?f.createChildContext(g,c.as):f,e=m.eb(i||b,f,c,b)):m.e.ma(b),f=e,(g=m.a.f.get(b,h))&&"function"==typeof g.p&&g.p(),m.a.f.set(b,h,f&&f.$()?f:a)}},m.h.ka.template=function(a){return a=m.h.bb(a),1==a.length&&a[0].unknown||m.h.vc(a,"name")?null:"This template engine does not support anonymous templates nested within its templates"},m.e.R.template=!0}(),m.b("setTemplateEngine",m.hb),m.b("renderTemplate",m.eb),m.a.Cb=function(a,b,c){if(a.length&&b.length){var d,e,f,g,h;for(d=e=0;(!c||c>d)&&(g=a[e]);++e){for(f=0;h=b[f];++f)if(g.value===h.value){g.moved=h.index,h.moved=g.index,b.splice(f,1),d=f=0;break}d+=f}}},m.a.Ma=function(){function a(a,b,c,d,e){var f,g,h,i,j,k=Math.min,l=Math.max,n=[],o=a.length,p=b.length,q=p-o||1,r=o+p+1;for(f=0;o>=f;f++)for(i=h,n.push(h=[]),j=k(p,f+q),g=l(0,f-1);j>=g;g++)h[g]=g?f?a[f-1]===b[g-1]?i[g-1]:k(i[g]||r,h[g-1]||r)+1:g+1:f+1;for(k=[],l=[],q=[],f=o,g=p;f||g;)p=n[f][g]-1,g&&p===n[f][g-1]?l.push(k[k.length]={status:c,value:b[--g],index:g}):f&&p===n[f-1][g]?q.push(k[k.length]={status:d,value:a[--f],index:f}):(--g,--f,e.sparse||k.push({status:"retained",value:b[g]}));return m.a.Cb(l,q,10*o),k.reverse()}return function(b,c,d){return d="boolean"==typeof d?{dontLimitMoves:d}:d||{},b=b||[],c=c||[],b.length<=c.length?a(b,c,"added","deleted",d):a(c,b,"deleted","added",d)}}(),m.b("utils.compareArrays",m.a.Ma),function(){function b(b,c,d,e,f){var g=[],h=m.j(function(){var a=c(d,f,m.a.na(g,b))||[];0<g.length&&(m.a.Qb(g,a),e&&m.k.u(e,null,[d,a,f])),g.length=0,m.a.ia(g,a)},null,{q:b,Pa:function(){return!m.a.tb(g)}});return{aa:g,j:h.$()?h:a}}var c=m.a.f.I();m.a.fb=function(d,e,f,g,h){function i(a,b){u=l[b],r!==b&&(x[a]=u),u.Ua(r++),m.a.na(u.aa,d),p.push(u),t.push(u)}function j(a,b){if(a)for(var c=0,d=b.length;d>c;c++)b[c]&&m.a.o(b[c].aa,function(d){a(d,c,b[c].wa)})}e=e||[],g=g||{};var k=m.a.f.get(d,c)===a,l=m.a.f.get(d,c)||[],n=m.a.Ka(l,function(a){return a.wa}),o=m.a.Ma(n,e,g.dontLimitMoves),p=[],q=0,r=0,s=[],t=[];e=[];for(var u,v,w,x=[],n=[],y=0;v=o[y];y++)switch(w=v.moved,v.status){case"deleted":w===a&&(u=l[q],u.j&&u.j.p(),s.push.apply(s,m.a.na(u.aa,d)),g.beforeRemove&&(e[y]=u,t.push(u))),q++;break;case"retained":i(y,q++);break;case"added":w!==a?i(y,w):(u={wa:v.value,Ua:m.r(r++)},p.push(u),t.push(u),k||(n[y]=u))}j(g.beforeMove,x),m.a.o(s,g.beforeRemove?m.S:m.removeNode);for(var z,y=0,k=m.e.firstChild(d);u=t[y];y++){for(u.aa||m.a.extend(u,b(d,f,u.wa,h,u.Ua)),q=0;o=u.aa[q];k=o.nextSibling,z=o,q++)o!==k&&m.e.Fb(d,o,z);!u.rc&&h&&(h(u.wa,u.aa,u.Ua),u.rc=!0)}j(g.beforeRemove,e),j(g.afterMove,x),j(g.afterAdd,n),m.a.f.set(d,c,p)}}(),m.b("utils.setDomNodeChildrenFromArrayMapping",m.a.fb),m.P=function(){this.allowTemplateRewriting=!1},m.P.prototype=new m.J,m.P.prototype.renderTemplateSource=function(a,b,c,d){return(b=(9>m.a.M?0:a.nodes)?a.nodes():null)?m.a.O(b.cloneNode(!0).childNodes):(a=a.text(),m.a.ca(a,d))},m.P.Va=new m.P,m.hb(m.P.Va),m.b("nativeTemplateEngine",m.P),function(){m.Ya=function(){var a=this.uc=function(){if(!e||!e.tmpl)return 0;try{if(0<=e.tmpl.tag.tmpl.open.toString().indexOf("__"))return 2}catch(a){}return 1}();this.renderTemplateSource=function(b,d,f,g){if(g=g||c,f=f||{},2>a)throw Error("Your version of jQuery.tmpl is too old. Please upgrade to jQuery.tmpl 1.0.0pre or later.");var h=b.data("precompiled");return h||(h=b.text()||"",h=e.template(null,"{{ko_with $item.koBindingContext}}"+h+"{{/ko_with}}"),b.data("precompiled",h)),b=[d.$data],d=e.extend({koBindingContext:d},f.templateOptions),d=e.tmpl(h,b,d),d.appendTo(g.createElement("div")),e.fragments={},d},this.createJavaScriptEvaluatorBlock=function(a){return"{{ko_code ((function() { return "+a+" })()) }}"},this.addTemplate=function(a,b){c.write("<script type='text/html' id='"+a+"'>"+b+"</script>")},a>0&&(e.tmpl.tag.ko_code={open:"__.push($1 || '');"},e.tmpl.tag.ko_with={open:"with($1) {",close:"} "})},m.Ya.prototype=new m.J;var a=new m.Ya;0<a.uc&&m.hb(a),m.b("jqueryTmplTemplateEngine",m.Ya)}()})}()}(),function(a){"use strict";function b(){return window.Sizzle?window.Sizzle:window.jQuery&&window.jQuery.find?window.jQuery.find:function(a,b){return"object"==typeof b&&b.querySelectorAll?b.querySelectorAll(a):"string"==typeof b?document.querySelectorAll(b+" "+a):document.querySelectorAll(a)}}a.Selector={$:function(a){return document.getElementById(a)},$$:b(),_createSelectorAlias:b}}(this),function(a){"use strict";function b(b,c,d,e){if("undefined"==typeof Selector)throw new Error("dependency not found. you should include selector-alias module to use delegate function.");if(!b)throw new Error('failed to delegate event. Element: "'+b+'", Selector: "'+c+'", Event: "'+d+'", handler: '+e.toString());var f=Selector.$$;a.DOMEvent.on(b,d,function(d){var g=a.DOMEvent.getTarget(d),h=f(c,b);for(h=Array.prototype.slice.apply(h);g&&g!==b;){if(1===g.nodeType&&h.indexOf(g)>-1){e(d,g);break}g=g.parentNode}})}a.DOMEvent={on:function(){return document.addEventListener?function(a,b,c){if(!a)throw new Error('failed to add event. Element: "'+a+'", Event: "'+b+'", handler: '+c.toString());a.addEventListener(b,c,!1)}:function(a,b,c){if(!a)throw new Error('failed to add event. Element: "'+a+'", Event: "'+b+'", handler: '+c.toString());a.attachEvent("on"+b,c)}}(),off:function(){return document.removeEventListener?function(a,b,c){a.removeEventListener(b,c,!1)}:function(a,b,c){a.detachEvent("on"+b,c)}}(),preventDefault:function(a){var b=a||window.event;b.preventDefault?b.preventDefault():b.returnValue=!1},stopPropagation:function(a){var b=a||window.event;b.stopPropagation?b.stopPropagation():b.cancelBubble=!0},getTarget:function(a){var b=a||window.event;return b.target||b.srcElement}},a.DOMEvent.delegate=b}(window),function(a){"use strict";function b(){}Object.create||(Object.create=function(){function a(){}return function(b){if(1!==arguments.length)throw new Error("Object.create implementation only accepts one parameter.");return a.prototype=b,new a}}());var c=/xyz/.test(function(){xyz})?/\b_super\b/:/.*/;b.extend=function(a){var d=this.prototype,e=Object.create(d);for(var f in a)e[f]="function"==typeof a[f]&&"function"==typeof d[f]&&c.test(a[f])?function(a,b){return function(){var c=this._super;this._super=d[a];var e=b.apply(this,arguments);return this._super=c,e}}(f,a[f]):a[f];var g=function(){"function"==typeof this.init&&this.init.apply(this,arguments)};return g.prototype=e,e.constructor=g,g.extend=b.extend,g},a.Class=b}(this),function(a){"use strict";a.Observer=Class.extend({on:function(a,b){for(var c=[].concat(a),d=0,e=c.length;e>d;d++)this.addListener.apply(this,[c[d],b]);return this},addListener:function(a,b){var c=this.getListeners(a);return c.push(b),this},once:function(a,b){if(b){var c=this,d=function(){c.off(a,d),b.apply(this,arguments)};b.__onetime_listener=d,this.on(a,d)}},emit:function(a){for(var b=[].concat(a),c=[].slice.call(arguments,1),d=0,e=b.length;e>d;d++)this._emit(b[d],c);return this},_emit:function(a,b){var c=this.getListeners(a).slice(0);if("undefined"!=typeof c)for(var d=0,e=c.length;e>d;d++)try{c[d].apply(this,b)}catch(f){throw"undefined"!=typeof console,f}},getListeners:function(a){return this.listeners=this.listeners||{},this.listeners[a]=this.listeners[a]||[],this.listeners[a]},off:function(a,b){var c=[].concat(a);b&&"function"==typeof b.__onetime_listener&&(b=b.__onetime_listener);for(var d=0,e=c.length;e>d;d++)this.removeListener.apply(this,[c[d],b]);return b&&"function"==typeof b.__onetime_listener&&delete b.__onetime_listener,this},removeListener:function(a,b){var c=this.getListeners(a);if("undefined"!=typeof c)for(var d=0,e=c.length;e>d;d++)if(c[d]===b||c[d].__original__===b){c.splice(d,1);break}return this},destroy:function(){this.listeners=null}})}(this);var templates={};templates["answer-company-stock"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	text: price,\n        	css: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	text: changeValue,\n        	css: changePrice"></span>\n        <!-- ko if: changeRatio -->\n        <span class="txt_num2" data-bind="\n        	css: priceColor,\n        	text: (\' \' + changeRatio)"></span>\n        <!-- /ko -->\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',templates["answer-exchange"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	text: base_rate,\n        	css: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> 원(WON)</span>\n    <!--ko if: exchangeRatio -->\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	css: exchangeRatio.status,\n        	text: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        	css: exchangeRatio.priceColor,\n        	text: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    <!--/ko-->\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' 외환은행제공\')"></span>',
templates["answer-korea-weather"]='<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out">℃</span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' 발표\') "></span>\n</span>',templates["answer-lotto"]='<span class="txt_exact">\n    <span class="tit screen_out">로또당첨번호</span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus">보너스</span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + '회차 (' + year + '.' + month + '.' + day + ')')\"></span>",templates["answer-stock"]='<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' 지수\'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	css: priceColor,\n        	text: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	css: status,\n        	text: price_change"></span>\n        <span class="txt_num2" data-bind="\n        	css: priceColor,\n        	text: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',templates["answer-world-weather"]='<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out">℃</span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out">℃</span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', 한국기준\')"></span>',templates["recent-footer"]='<div class="fr">\n    <!-- ko if: recentList.enableRecent -->\n    <a href="#" class="deleteRecent" data-bind="\n    	click: function () {\n    		recentList.removeRecentData();\n    		recentList.hide();\n    	}">최근검색어 기록삭제</a>\n    <span class="bar" style="display: inline;"> | </span>\n    <!-- /ko -->\n    <a href="#" class="toggleRecent" data-bind="\n    	click: recentList.toggle.bind(recentList),\n    	text: recentList.toggleBtn"></a>\n</div>',templates["recent-layer"]='<!-- ko if: options.isReverse -->\n<div class="footer bg_sub" data-bind="\n	template: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n	template: { name: \'recent-list\' },\n	visible: recentList.enableRecent"></div>\n<!-- /ko -->\n<!-- ko ifnot: options.isReverse -->\n<div class="list" data-bind="\n	template: { name: \'recent-list\' },\n	visible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n	template: { name: \'recent-footer\' }"></div>\n<!-- /ko -->',templates["recent-list"]='<!-- ko if: $root.recentList.lists()[0] -->\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    	click: function() {\n    		$root.keywordInput.setSelectedQuery($data.item);\n    		$root.forceFormSubmit();\n    	},\n    	event: {\n    		mouseover: function () {\n    			$root.recentList.mouseOverItem($data);\n			}\n		},\n		mouseoverBubble: false,\n		css: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n<!-- /ko -->\n',templates["suggest-answer"]='<!-- ko if: $data.item -->\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    	component: {\n    		name: $data.whichTemplateToUse,\n			params: $data.item\n		},\n		click: function() {\n			$root.keywordInput.setSelectedQuery($data.item().querySource);\n			$root.forceFormSubmit();\n		},\n		event: {\n			mouseover: function () {\n				$root.suggestList.mouseOverItem($data.item());\n			}\n		},\n		mouseoverBubble: false,\n		css: { e_on: $data.item().isActivated }"></a>\n</div>\n<!-- /ko -->\n',templates["suggest-container"]='<div class="baseBox bg" data-bind="\n	visible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n	template: { name: \'suggest-layer\' }"></div>\n<!-- ko if: options.enableRecentList -->\n<div class="baseBox recent" data-bind="\n	visible: (recentList.length() > 0 && recentList.visible),\n	template: { name: \'recent-layer\' }"></div>\n<!-- /ko -->\n',templates["suggest-footer"]='<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">서제스트란?</a>\n</div>',templates["suggest-layer"]='<!-- ko if: options.isReverse -->\n    <!-- ko if: options.enableFooter -->\n    <div class="footer bg_sub" data-bind="\n    	template: { name: \'suggest-footer\' }"></div>\n    <!-- /ko -->\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        	template: { name: $data.templateName },\n        	data: $data"></div>\n    </div>\n<!-- /ko -->\n\n<!-- ko ifnot: options.isReverse -->\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        	template: { name: $data.templateName },\n        	data: $data"></div>\n    </div>\n\n    <!-- ko if: options.enableFooter -->\n    <div class="footer bg_sub" data-bind="\n    	template: { name: \'suggest-footer\' }"></div>\n    <!-- /ko -->\n<!-- /ko -->\n',templates["suggest-list"]='<div class="list">\n    <h3 class="screen_out">검색어 자동완성 목록</h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        	click: function() {\n        		$root.keywordInput.setSelectedQuery($data.q);\n        		$root.forceFormSubmit();\n        	},\n        	event: {\n        		mouseover: function () {\n        			$root.suggestList.mouseOverItem($data);\n    			}\n			},\n			mouseoverBubble: false,\n			css: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n',window.suggest_templates=templates,function(){"use strict";function a(a){var b=a.split("."),c=b[0],d=b[1],e=[],f=1;if(c.length<4)return a;for(var g=c.length-1;g>=0;g--)e.push(c.charAt(g)),g>0&&f%3===0&&e.push(","),f++;return e.reverse(),d&&d.length>0&&e.push("."+d),e.join("")}function b(a,d,e){var f=c(a)||{};for(var g in d)d.hasOwnProperty(g)&&(f[g]&&!e||(f[g]="object"==typeof d[g]?b(f[g],d[g],!0):d[g]));return f}function c(a){var b;if(null==a||"object"!=typeof a)return a;if(a instanceof Date)return b=new Date,b.setTime(a.getTime()),b;if(a instanceof Array){b=[];for(var d=0,e=a.length;e>d;d++)b[d]=c(a[d]);return b}if(a instanceof Object){b={};for(var f in a)a.hasOwnProperty(f)&&(b[f]=c(a[f]));return b}throw new Error("Unable to copy obj! Its type isn't supported.")}function d(a,c){ko.components.register(a,b(c,{template:e(a),synchronous:!0},!1))}function e(a){return document.getElementById(a+"-template")?{element:a+"-template"}:suggest_templates[a]}function f(){function a(a,b){return a.makeTemplateSource=function(a,c){var d=document.getElementById(a+"-template");return d?new ko.templateSources.domElement(d):new ko.templateSources.stringTemplate(a,b)},a}ko.templateSources.stringTemplate=function(a,b){this.templateName=a,this.templates=b},ko.utils.extend(ko.templateSources.stringTemplate.prototype,{data:function(a,b){return this.templates._data=this.templates._data||{},this.templates._data[this.templateName]=this.templates._data[this.templateName]||{},1===arguments.length?this.templates._data[this.templateName][a]:void(this.templates._data[this.templateName][a]=b)},text:function(a){return 0===arguments.length&&this.templates[this.templateName]?this.templates[this.templateName]:void(this.templates[this.templateName]=a)}}),ko.setTemplateEngine(a(new ko.nativeTemplateEngine,suggest_templates))}function g(a,b){for(var c=b.parentNode;null!==c;){if(c===a)return!0;c=c.parentNode}return!1}function h(a){function b(a){return c[a]}var c={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","`":"&#x60;"},d=/[&<>"'`]/g,e=/[&<>"'`]/;return e.test(a)?a.replace(d,b):a}function i(a,b,c){if("04"!==a.collectionId){for(var d in a)if(a.hasOwnProperty(d)&&a[d]!==b[d]&&d!==c)return!1;return!0}}function j(a,b,c,d,e){return{isActivated:ko.observable(!1),type:"SUGGEST",item:a,highlight:function(){return s.get(this.item,b,c,a)},q:a,total:d,index:e}}function k(a,c,d,e){var f=[];JSONP({url:c.APIServer.host,data:function(){return b({q:a},c.APIServer.queries)}(),success:function(g){return f.push(new w(g,c)),c.AnswerAPIServer?void JSONP({url:c.AnswerAPIServer,data:{q:a,top:0,sq:g.subkeys[0]},success:function(a){var g=null;a.success&&(e&&i(a.answer,e.answerData,"querySource")?(g=e.instance,g.item(b(g.item(),a.answer,!0)),g.item().isActivated(!1)):(e={},g=new x(a,c),e.answerData=a.answer,e.instance=g),c.isReverse?f.push(g):f.unshift(g)),d(f,e)}}):void d(f)}})}function l(a){return a.replace(/&lt;/g,"<").replace(/&gt;/g,">").replace(/&amp;/g,"&").replace(/&quot;/g,'"').replace(/&#39;/g,"'")}d("answer-company-stock",{viewModel:function(a){var b=parseInt(a.changeCode,10),c=a.changeValue,d=a.changeRatio,e="",f="",g=null,h=null;3>b?(g="up",e="+",f="txt_red2",h=b>1?"상승":"상한가"):b>3?(g="down",e="-",f="txt_blue2",h=5>b?"하락":"하락가"):(g="equal",h="보합",c=d,d=null),this.name=a.name,this.code=a.code,this.price=a.price,this.date=a.date,this.status=g,this.statusText=h,this.changeValue=c?c.replace(/[+-]/,""):c,this.changeRatio=d?e+d.replace(/[+-]/,""):d,this.priceColor=f,this.changePrice=f+" ico_arrow_"+g,this.querySource=a.querySource}}),d("answer-exchange",{viewModel:function(b){var c=b.prev,d="",e=null,f=b.exchangeAmount||b.base_rate;b.exchangeAmount||(c>0?(e="up",d="txt_red2"):0>c?(e="down",d="txt_blue2"):(e="equal",c=null)),this.country=b.country,this.code=b.code,this.base_rate=a(f),this.date_time=b.date_time,this.priceColor=d,this.exchangeRatio=null,this.querySource=b.querySource,null!==e&&(this.exchangeRatio={status:d+" ico_arrow_"+e,priceColor:d,prev:c,ratio:b.ratio})}}),d("answer-korea-weather",{viewModel:function(a){this.icon40="ico_w0"+a.icon,this.areaname=a.areaname,this.wtext5s=a.description,this.temp=a.temperature,this.announce=a.announce,this.querySource=a.querySource}}),d("answer-lotto",{viewModel:function(a){this.num1=parseInt(a.num1,10),this.num2=parseInt(a.num2,10),this.num3=parseInt(a.num3,10),this.num4=parseInt(a.num4,10),this.num5=parseInt(a.num5,10),this.num6=parseInt(a.num6,10),this.bonus=parseInt(a.bonus,10),this.getNumClassByLotto=function(a){return 10>=a?"num1":20>=a?"num10":30>=a?"num20":40>=a?"num30":"num40"},this.numClass1=this.getNumClassByLotto(a.num1),this.numClass2=this.getNumClassByLotto(a.num2),this.numClass3=this.getNumClassByLotto(a.num3),this.numClass4=this.getNumClassByLotto(a.num4),this.numClass5=this.getNumClassByLotto(a.num5),this.numClass6=this.getNumClassByLotto(a.num6),this.numClassBonus=this.getNumClassByLotto(a.bonus),this.seq=a.seq,this.year=a.year,this.month=a.month,this.day=a.day,this.querySource=a.querySource}});var m={LOTTO:1,EXCHANGE:2,WORLD_WEATHER:3,KOREA_WEATHER:8,STOCK:5,COMPANY_STOCK:6,EXCHANGE_CALC:7,FOREIGN_STOCK_CODES:["IXIC","DJI"]};d("answer-stock",{viewModel:function(b){var c="",d="",e="",f=null,g=b.price_change,h=b.code,i=m.FOREIGN_STOCK_CODES,j=!1,k=b.date;this.priceColor="",this.name="",this.querySource=b.querySource;for(var l=0,n=i.length;l!==n;l++)if(i[l]===h){d='<span class="txt_time_k">현지시간,</span> ',j=!0;break}j||("close"===b.status?(e=' <span class="txt_time_k">장종료 기준</span>',k=k.split(" ")[0]):e=' <span class="txt_time_k">기준</span>'),g>0?(this.priceColor="txt_red2",f="up",c="+"):0>g?(this.priceColor="txt_blue2",f="down"):(f="equal",g=null),"KOSDAQ"===h?this.name="코스닥(KOSDAQ)":"KOSPI"===h?this.name="코스피(KOSPI)":"IXIC"===h?this.name="나스닥 종합(IXIC)":"DJI"===h?this.name="다우존스 산업(DJI)":"FUTURE"===h?this.name="선물(FUTURE)":"KOSPI200"===h&&(this.name="코스피200(KOSPI200)"),this.price=a(b.price),this.price_change=g.replace(/[+-]/,""),this.date=d+k+e,this.price_change_rate=c+b.price_change_rate,this.status=this.priceColor+" ico_arrow_"+f}}),d("answer-world-weather",{viewModel:function(a){this.icon40="ico_w"+a.icon40,this.country=a.country,this.city=a.city,this.wtext=a.wtext,this.mintemp=a.mintemp,this.maxtemp=a.maxtemp,this.ddate=a.ddate,this.querySource=a.querySource}});var n={autoFocus:"NORMAL",suggestLimit:20,recentLimit:10,searchURL:"http://search.daum.net/search",isReverse:!1,APIServer:{host:"//suggest.search.daum.net/sushi/pc/get",queries:{htype:"position"}},enableRecentList:!1,enableFooter:!1},o={BACKSPACE:8,TAB:9,ENTER:13,SHIFT:16,CTRL:17,ALT:18,CAPSLOOK:20,NAK:21,ESC:27,SPACEBAR:32,PAGEUP:33,PAGEDOWN:34,END:35,HOME:36,LEFT:37,UP:38,RIGHT:39,DOWN:40,SELECT:41,V:86,SQUARE:91,BASH:92,F1:112,F2:113,F3:114,F4:115,F5:116,F6:117,F7:118,F8:119,F9:120,F10:121,F11:122,F12:123,MAC_COMMAND:224},p={};p["answer-company-stock"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (\' \' + name + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	text: price,\n        	css: priceColor"></span>\n        <span class="screen_out" data-bind="text: statusText"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	text: changeValue,\n        	css: changePrice"></span>\n        <!-- ko if: changeRatio -->\n        <span class="txt_num2" data-bind="\n        	css: priceColor,\n        	text: (\' \' + changeRatio)"></span>\n        <!-- /ko -->\n    </span>\n</span>\n<span class="txt_time" data-bind="text: date"></span>',p["answer-exchange"]='<span class="txt_exact">\n    <span class="tit" data-bind="text: (country + \'(\' + code + \')\')"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	text: base_rate,\n        	css: priceColor"></span>\n        <span class="txt_num4" data-bind="css: priceColor"> 원(WON)</span>\n    <!--ko if: exchangeRatio -->\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	css: exchangeRatio.status,\n        	text: exchangeRatio.prev"></span>\n        <span class="txt_num2" data-bind="\n        	css: exchangeRatio.priceColor,\n        	text: (\' \' + exchangeRatio.ratio + \'%\')"></span>\n    <!--/ko-->\n    </span>\n</span>\n<span class="txt_time" data-bind="text:(date_time + \' 외환은행제공\')"></span>',p["answer-korea-weather"]='<span class="weather_comp">\n<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: areaname"></span>\n    <span class="cont"><span class="txt_cont" data-bind="text: wtext5s"></span> <span class="txt_num1 ico_suggest2 ico_celsius" data-bind="text: temp"></span><span class="screen_out">℃</span></span>\n</span>\n<span class="txt_time" data-bind="text: (announce + \' 발표\') "></span>\n</span>',p["answer-lotto"]='<span class="txt_exact">\n    <span class="tit screen_out">로또당첨번호</span>\n    <span class="cont">\n        <span class="ico_lotto" data-bind="css: numClass1"><span class="txt_num" data-bind="text: num1"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass2"><span class="txt_num" data-bind="text: num2"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass3"><span class="txt_num" data-bind="text: num3"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass4"><span class="txt_num" data-bind="text: num4"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass5"><span class="txt_num" data-bind="text: num5"></span></span>\n        <span class="ico_lotto" data-bind="css: numClass6"><span class="txt_num" data-bind="text: num6"></span></span>\n        <span class="ico_lotto plus">보너스</span>\n        <span class="ico_lotto" data-bind="css: numClassBonus"><span class="txt_num" data-bind="text: bonus"></span></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="\n'+"    text: (seq + '회차 (' + year + '.' + month + '.' + day + ')')\"></span>",p["answer-stock"]='<span class="txt_exact">\n    <span class="tit screen_out" data-bind="text: name + \' 지수\'"></span>\n    <span class="tit" data-bind="text: name"></span>\n    <span class="cont">\n        <span class="txt_num3" data-bind="\n        	css: priceColor,\n        	text: price"></span>\n        <span class="txt_num2 ico_suggest2" data-bind="\n        	css: status,\n        	text: price_change"></span>\n        <span class="txt_num2" data-bind="\n        	css: priceColor,\n        	text: (\' \' + price_change_rate + \'%\')"></span>\n    </span>\n</span>\n<span class="txt_time" data-bind="html: date"></span>',p["answer-world-weather"]='<span class="txt_exact ico_suggest" data-bind="css: icon40">\n    <span class="tit" data-bind="text: (country + \' \' + city)"></span>\n    <span class="cont">\n        <span class="txt_cont" data-bind="text: wtext"></span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_blue" data-bind="text: mintemp"></span><span class="screen_out">℃</span>\n        <span class="bar"> / </span>\n        <span class="txt_num1 ico_suggest2 ico_celsius txt_red" data-bind="text: maxtemp"></span><span class="screen_out">℃</span>\n    </span>\n</span>\n<span class="txt_time" data-bind="text: (ddate + \', 한국기준\')"></span>',p["recent-footer"]='<div class="fr">\n    <!-- ko if: recentList.enableRecent -->\n    <a href="#" class="deleteRecent" data-bind="\n    	click: function () {\n    		recentList.removeRecentData();\n    		recentList.hide();\n    	}">최근검색어 기록삭제</a>\n    <span class="bar" style="display: inline;"> | </span>\n    <!-- /ko -->\n    <a href="#" class="toggleRecent" data-bind="\n    	click: recentList.toggle.bind(recentList),\n    	text: recentList.toggleBtn"></a>\n</div>',p["recent-layer"]='<!-- ko if: options.isReverse -->\n<div class="footer bg_sub" data-bind="\n	template: { name: \'recent-footer\' }"></div>\n<div class="list" data-bind="\n	template: { name: \'recent-list\' },\n	visible: recentList.enableRecent"></div>\n<!-- /ko -->\n<!-- ko ifnot: options.isReverse -->\n<div class="list" data-bind="\n	template: { name: \'recent-list\' },\n	visible: recentList.enableRecent"></div>\n<div class="footer bg_sub" data-bind="\n	template: { name: \'recent-footer\' }"></div>\n<!-- /ko -->',p["recent-list"]='<!-- ko if: $root.recentList.lists()[0] -->\n<ul data-bind="foreach: $root.recentList.lists()[0].items">\n    <li data-bind="\n    	click: function() {\n    		$root.keywordInput.setSelectedQuery($data.item);\n    		$root.forceFormSubmit();\n    	},\n    	event: {\n    		mouseover: function () {\n    			$root.recentList.mouseOverItem($data);\n			}\n		},\n		mouseoverBubble: false,\n		css: { on: isActivated() }">\n        <a href="#" class="item bg" data-bind="text: item"></a>\n    </li>\n</ul>\n<!-- /ko -->\n',p["suggest-answer"]='<!-- ko if: $data.item -->\n<div class="answer">\n    <a href="#" class="suggest_exact b_line" data-bind="\n    	component: {\n    		name: $data.whichTemplateToUse,\n			params: $data.item\n		},\n		click: function() {\n			$root.keywordInput.setSelectedQuery($data.item().querySource);\n			$root.forceFormSubmit();\n		},\n		event: {\n			mouseover: function () {\n				$root.suggestList.mouseOverItem($data.item());\n			}\n		},\n		mouseoverBubble: false,\n		css: { e_on: $data.item().isActivated }"></a>\n</div>\n<!-- /ko -->\n',p["suggest-container"]='<div class="baseBox bg" data-bind="\n	visible: (suggestList.length() > 0 && suggestList.visible) || suggestList.enableAnswerLayer,\n	template: { name: \'suggest-layer\' }"></div>\n<!-- ko if: options.enableRecentList -->\n<div class="baseBox recent" data-bind="\n	visible: (recentList.length() > 0 && recentList.visible),\n	template: { name: \'recent-layer\' }"></div>\n<!-- /ko -->\n',p["suggest-footer"]='<div class="fr">\n    <a href="http://cs.daum.net/faq/15/14957.html#28978" class="isSuggest" target="_blank">서제스트란?</a>\n</div>',p["suggest-layer"]='<!-- ko if: options.isReverse -->\n    <!-- ko if: options.enableFooter -->\n    <div class="footer bg_sub" data-bind="\n    	template: { name: \'suggest-footer\' }"></div>\n    <!-- /ko -->\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        	template: { name: $data.templateName },\n        	data: $data"></div>\n    </div>\n<!-- /ko -->\n\n<!-- ko ifnot: options.isReverse -->\n    <div data-bind="foreach: suggestList.lists">\n        <div data-bind="\n        	template: { name: $data.templateName },\n        	data: $data"></div>\n    </div>\n\n    <!-- ko if: options.enableFooter -->\n    <div class="footer bg_sub" data-bind="\n    	template: { name: \'suggest-footer\' }"></div>\n    <!-- /ko -->\n<!-- /ko -->\n',p["suggest-list"]='<div class="list">\n    <h3 class="screen_out">검색어 자동완성 목록</h3>\n    <ul data-bind="foreach: $data.items">\n        <li data-bind="\n        	click: function() {\n        		$root.keywordInput.setSelectedQuery($data.q);\n        		$root.forceFormSubmit();\n        	},\n        	event: {\n        		mouseover: function () {\n        			$root.suggestList.mouseOverItem($data);\n    			}\n			},\n			mouseoverBubble: false,\n			css: { on: isActivated() }">\n            <a href="#" class="item bg" data-bind="html: highlight()"></a>\n        </li>\n    </ul>\n</div>\n',window.suggest_templates=p;var q,r=Class.extend({init:function(a,b){var c=this,d=document.getElementById(a.inputEl),e=d.value||"";this.postbox=b,this.enableUpdateQuery=!0,this.searchQuery=ko.observable(e),this.defaultQuery=e,this.isSelected=ko.observable(!1),this.searchQuery.subscribe(function(a){c.enableUpdateQuery&&(c.defaultQuery=a,c.postbox.notifySubscribers(a,"suggestQuery"))}),this.postbox.subscribe(function(a){c.enableUpdateQuery=!1,a?c.searchQuery(a):c.searchQuery(c.defaultQuery),c.enableUpdateQuery=!0},c,"selectedIndex")},setSelectedQuery:function(a){this.enableUpdateQuery=!1,this.searchQuery(a)}}),s={get:function(a,b,c,d){var e=[];d+=" ";for(var f=0;f<d.length;f++){for(var g=h(d.charAt(f)),i=0;i<c.length;i++)(f<=c[i][0]||f>=c[i][1])&&(f===c[i][0]?g="<strong>"+h(d.charAt(f)):f===c[i][1]&&(g="</strong>"+h(d.charAt(f))));e.push(g)}return e.join("")}},t=0,u=0,v="",w=Class.extend({templateName:"suggest-list",init:function(a,b){if(this.options=b,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),a.tltm){var c;if(document.getElementById("daumSearch")?c=document.getElementById("daumSearch").getElementsByTagName("fieldset")[0]:document.getElementById("daumSearchForm")&&(c=document.getElementById("daumSearchForm").getElementsByTagName("fieldset")[0]),void 0!==c&&!document.getElementById("tltm")){var d=document.createElement("input");d.setAttribute("type","hidden"),d.setAttribute("name","tltm"),d.setAttribute("value",a.tltm),d.setAttribute("id","tltm"),c.appendChild(d)}}this._parse(a)},get:function(a){return this.items()[a]},_parse:function(a){var b=[],c=a.q,d=Math.min(a.subkeys.length,this.options.suggestLimit),e=c.replace(/^\s+|\s+$/g,"").length;t=e,v=c,u=d,q=a.subkeys;for(var f=0;d>f;f+=1){var g=a.subkeys[f],h=a.highlighted[f];b.push(j(g,c,h,d,f))}this.options.isReverse&&b.reverse(),this.items(b)}}),x=Class.extend({templateName:"suggest-answer",init:function(a,b){this.options=b,this.item=ko.observable(null),this.whichTemplateToUse=ko.observable(),this.length=ko.computed(function(){return null===this.item()?0:1},this),this._parse(a)},get:function(){return this.item()},_parse:function(a){if(!a.success||!a.answer)return this.item(null),!1;var b=a.answer,c=parseInt(b.collectionId,10);if(4!==c){switch(c){case m.KOREA_WEATHER:this.whichTemplateToUse("answer-korea-weather");break;case m.WORLD_WEATHER:this.whichTemplateToUse("answer-world-weather");break;case m.LOTTO:this.whichTemplateToUse("answer-lotto");break;case m.EXCHANGE:this.whichTemplateToUse("answer-exchange");break;case m.EXCHANGE_CALC:this.whichTemplateToUse("answer-exchange");break;case m.STOCK:this.whichTemplateToUse("answer-stock");break;case m.COMPANY_STOCK:this.whichTemplateToUse("answer-company-stock")}b.type="ANSWER",b.isActivated=ko.observable(!1),this.item(b)}}}),y=Class.extend({init:function(a){this.isShiftOn=!1,this.suggestList=a},getBaseIndex:function(){return-1},onKeyDown:function(a,b){var c=b.keyCode,d=this.suggestList,e=d.activeIndex();switch(c){case o.UP:DOMEvent.preventDefault(b),d.visible()&&d.moveUp(e);break;case o.DOWN:DOMEvent.preventDefault(b),d.visible()?d.moveDown():d.show();break;case o.TAB:DOMEvent.preventDefault(b),d.visible()&&(this.isShiftOn?d.moveUp():d.moveDown());break;case o.ESC:d.cancel();break;case o.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(a,b){var c=b.keyCode;c===o.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),z=-1,A=Class.extend({init:function(a,b){this.postbox=b,this.options=a,this.lists=ko.observableArray([]),this.listsByType={},this.keyboardDelegate=new y(this),this.activeIndex=ko.observable(this.getBaseIndex()),this.selectIndex=ko.observable(this.getBaseIndex()),this.visible=ko.observable(!1),this.cachedAnswerData=null,this.accessible=ko.observable(),this.length=ko.computed(function(){for(var a=0,b=this.lists(),c=0;c<b.length;c++){var d=b[c];a+=d.length()}return 0===a&&this.visible(!1),this.updateAccessiblity(a),a},this),this.setSubscribe()},addList:function(a,b){this.lists.push(b),this.listsByType[a]=b},setSubscribe:function(){var a=this;this.selectIndex.subscribe(function(b){a.postbox.notifySubscribers(a.getKeyword(b),"selectedIndex")}),this.activeIndex.subscribe(function(b){a.postbox.notifySubscribers(a.getItem(b),"activate")}),this.postbox.subscribe(function(b){a.update(b)},this,"suggestQuery")},getKeyword:function(a){var b=this.get(a);return b?b.q||b.querySource:""},getItem:function(a){var b=this.get(a);return b?{data:this.getKeyword(a),index:this.options.isReverse?this.length()-(a+1):a,type:b.type,total:b.total}:null},getItems:function(){for(var a=[],b=0;b<this.lists().length;b++)for(var c=this.lists()[b],d=0;d<c.length();d+=1)a.push(c.get(d));return a},hide:function(){this.visible(!1)},show:function(){this.visible(!0)},cancel:function(){this.hide(),this.inactivePrev(),this.resetIndex()},getBaseIndex:function(){return this.keyboardDelegate?this.keyboardDelegate.getBaseIndex():z},onKeyUp:function(a,b){return this.keyboardDelegate.onKeyUp(a,b)},onKeyDown:function(a,b){return this.keyboardDelegate.onKeyDown(a,b)},onBlur:function(){return this.keyboardDelegate.onBlur()},moveUp:function(){var a=this.activeIndex()-1;0>a?(this.cancel(),this.options.isReverse&&this.moveFocus()):this.select(a)},moveDown:function(){var a=this.activeIndex()+1;a>=this.length()?(this.cancel(),this.options.isReverse||this.moveFocus()):this.select(a)},moveFocus:function(){if(this.options.searchButtonEl){var a=document.getElementById(this.options.searchButtonEl);a.focus()}},select:function(a){this.inactivePrev(),this.activeIndex(a),this.selectIndex(a);var b=this.get(a);b&&b.isActivated(!0)},mouseOverItem:function(a){this.inactivePrev(),this.activateItem(a)},activateItem:function(a){var b=this.indexOf(a);a.isActivated(!0),this.activeIndex(b)},inactivePrev:function(){var a=this.activeIndex(),b=this.get(a);b&&b.isActivated(!1)},get:function(a){if(a>-1)for(var b=0;b<this.lists().length;b++){var c=this.lists()[b];if(c.length()>a)return c.get(a);a-=c.length()}},indexOf:function(a){for(var b=0,c=0;c<this.lists().length;c+=1)for(var d=this.lists()[c],e=0;e<d.length();e+=1){if(a===d.get(e))return b;b+=1}return-1},update:function(a,b){if(!a.replace(/ /g,""))return this.cancel(),void this.lists([]);var c=this,d=this.options.queryDelegate||k;d(a,this.options,function(a,d){b&&b(),d&&(c.cachedAnswerData=d),c.lists(a),c.resetIndex()},this.cachedAnswerData),this.show()},resetIndex:function(){this.activeIndex(this.getBaseIndex()),this.selectIndex(this.getBaseIndex())},updateAccessiblity:function(a){this.accessible(""),a>0&&this.accessible(a+"개의 자동완성 결과가 있습니다. 위/아래 방향키를 눌러서 이용하세요")}}),B={on:"숨기기",off:"최근검색어 보기"},C={GET:"get",REMOVE:"remove_all"},D=A.extend({init:function(a,b){this._super(a,b),this.toggleBtn=ko.observable(),this.enableRecent=ko.observable(!1),this.getRecentData()},setSubscribe:function(){this._super(),this.options.enableRecentList&&this.postbox.subscribe(function(a){var b=document.getElementById(this.options.inputEl).value;""===a&&b===a?this.show():this.hide()},this,"suggestQuery")},removeRecentData:function(){this.request(C.REMOVE)},toggle:function(){this.enableRecent()?(this.enableRecent(!1),this.toggleBtn(B.off),Cookies.set("suggest_recent","off",{expires:31536e3})):(this.enableRecent(!0),this.toggleBtn(B.on),Cookies.set("suggest_recent","on",{expires:31536e3}))},getRecentData:function(){if(this.options.enableRecentList){var a=this,b=Cookies.get("suggest_recent")||"on";this.enableRecent("on"===b),this.toggleBtn(B[b]),this.request(C.GET,function(b){a.lists([new E(b,a.options)])})}},update:function(){},request:function(a,b){function c(c){if(a===C.GET)c.myKeywordHistories&&c.myKeywordHistories.length>0&&b&&b(c.myKeywordHistories);else if(a===C.REMOVE){if(!c.processResult||"true"!==c.processResult.isSuccess)throw alert("오류가 발생하여 최근검색어 삭제에 실패하였습니다."),"fail remove recent data";d.lists([])}}var d=this;JSONP({url:d.options.recentAPIServer.host+a+".js",data:d.options.recentAPIServer.queries||{},success:c,callbackName:"function"})}}),E=Class.extend({init:function(a,b){this.options=b,this.items=ko.observableArray([]),this.length=ko.computed(function(){return this.items().length},this),this._parseData(a)},get:function(a){return this.items()[a]},_parseData:function(a){for(var b=[],c=[],d=a.length>this.options.recentLimit?this.options.recentLimit:a.length,e=0;e!==d;e++){var f=a[e].kword;if(b.indexOf(f)<0){b.push(f);var g=j(l(f));g.type="RECENT",c.push(g)}}this.items(c)}}),F=Class.extend({init:function(a){this.isShiftOn=!1,this.suggestList=a},getBaseIndex:function(){return this.suggestList.length()},onKeyDown:function(a,b){var c=b.keyCode,d=this.suggestList;d.activeIndex();switch(c){case o.UP:DOMEvent.preventDefault(b),d.visible()?d.moveUp():d.show();break;case o.DOWN:DOMEvent.preventDefault(b),d.visible()&&d.moveDown();break;case o.TAB:DOMEvent.preventDefault(b),d.visible()&&(this.isShiftOn?d.moveDown():d.moveUp());break;case o.ESC:d.cancel();break;case o.SHIFT:this.isShiftOn=!0}return!0},onKeyUp:function(a,b){var c=b.keyCode;c===o.SHIFT&&(this.isShiftOn=!1)},onBlur:function(){this.isShiftOn=!1}}),G=Class.extend({init:function(a,b){var c=new ko.subscribable,d=this;this.parent=b,this.el=a,this.options=b.options,this.keywordInput=new r(this.options,c),this.suggestList=this.createSuggestList(this.options,c),this.recentList=this.createRecentList(this.options,c),this.activeItem=null,this.timeId=null,this.bindEvent(),c.subscribe(function(a){d.setActiveItem(a)},this,"activate")},createSuggestList:function(a,b){var c;c=A;var d=new c(a,b);return a.isReverse&&(d.keyboardDelegate=new F(d)),d},createRecentList:function(a,b){var c=new D(a,b);return a.isReverse&&(c.keyboardDelegate=new F(c)),c},bindEvent:function(){var a=this;DOMEvent.on(document,"click",this._cancelOnClickDocument.bind(this)),DOMEvent.on(document,"keydown",this._setFocusOnKeydownDocument.bind(this)),
DOMEvent.on(window,"load",function(){"LOAD"===a.options.autoFocus&&a.setFocus()}),DOMEvent.on(document,"keyup",function(b){a._isModifierKey(b.keyCode)&&(a.pressedModifierKey=!1)}),DOMEvent.on(document.getElementById(this.options.inputEl),"mousedown",function(){a.toggleLayer()})},_cancelOnClickDocument:function(a){var b=DOMEvent.getTarget(a);g(this.el,b)||this.cancel()},_setFocusOnKeydownDocument:function(a){return this._shouldNotFocusWhenKeydown(a)?!0:void(this._isModifierKey(a.keyCode)&&this.pressedModifierKey||a.altKey||a.ctrlKey||a.metaKey||(this.keywordInput.searchQuery(""),this.setFocus()))},_shouldNotFocusWhenKeydown:function(a){var b=DOMEvent.getTarget(a),c=b.nodeName,d=a.keyCode;return"WRITE"!==this.options.autoFocus||this._isInputTypeNodeName(c)||this._isModifierKey(d)},_isInputTypeNodeName:function(a){return"INPUT"===a||"SELECT"===a||"TEXTAREA"===a},_isModifierKey:function(a){for(var b in o)if(o.hasOwnProperty(b)&&o[b]===a)return this.pressedModifierKey=!0,!0;return!1},setFocus:function(){this.keywordInput.isSelected(!0)},forceFormSubmit:function(){this.parent.emit("click-item"),this.hide()},setActiveItem:function(a){this.activeItem=a,this.parent.emit("activate-item",a)},getActiveItem:function(){return this.activeItem},hide:function(){this.suggestList.hide(),this.recentList.hide()},cancel:function(){this.suggestList.cancel(),this.recentList.cancel()},onKeyDown:function(a,b){if(b.keyCode===o.TAB&&(this.parent.emit("pressed-tab-key",b),!this.recentList.visible()&&!this.suggestList.visible()))return!0;b.keyCode===o.ENTER&&(null!==this.getActiveItem()&&this.parent.emit("click-item"),this.keywordInput.defaultQuery=this.keywordInput.searchQuery(),this.hide());var c=this.getActiveList();return c.onKeyDown(a,b)},onKeyUp:function(a,b){var c=this.getActiveList();return c.onKeyUp(a,b)},onBlur:function(a,b){var c=this.getActiveList();return clearInterval(this.timeId),c.onBlur(a,b)},onFocus:function(a,b){var c=this,d=document.getElementById(c.options.inputEl);this.timeId=window.setInterval(function(){c.keywordInput.searchQuery(d.value)},100)},getActiveList:function(){return this.recentList.visible()||!this.keywordInput.searchQuery()?this.recentList:this.suggestList},showLayer:function(a){a?(this.suggestList.update(a),this.suggestList.show()):this.options.enableRecentList&&this.recentList.show()},setAPIServer:function(a){var b=this;this.suggestList.options.APIServer=a,this.suggestList.update(this.keywordInput.searchQuery(),function(){b.setFocus(),b.suggestList.show()})},toggleLayer:function(){this.recentList.visible()||this.suggestList.visible()?this.cancel():this.showLayer(this.keywordInput.searchQuery())}}),H=Observer.extend({init:function(a,b){this.options=this._overrideDefaultOptions(b),this._prepareKnockout(),this.viewModel=new G(a,this),ko.applyBindings(this.viewModel,a)},_overrideDefaultOptions:function(a){return b(n,a,!0)},_prepareKnockout:function(){var a=document.getElementById(this.options.inputEl),b=document.getElementById(this.options.suggestBoxEl);if(a&&b){a.setAttribute("data-bind","value: keywordInput.searchQuery, hasFocus: keywordInput.isSelected, event: { keydown: onKeyDown, keyup: onKeyUp, focus: onFocus, blur: onBlur }");var c=a.parentNode,d=document.createElement("span");c.insertBefore(d,a.nextSibling),d.setAttribute("aria-live","polite"),d.setAttribute("data-bind","text: suggestList.accessible, attr: { 'aria-live': 'polite'}, css: 'screen_out'"),b.setAttribute("data-bind",'template: { name: "suggest-container" }')}f()},getSuggestions:function(){return this.viewModel.suggestList.getItems()},isVisibleLayer:function(){return this.viewModel.recentList.visible()||this.viewModel.suggestList.visible()},setAPIServer:function(a){this.viewModel.setAPIServer(a)},getActiveItem:function(){return this.viewModel.getActiveItem()},getUserEnteredQuery:function(){return this.viewModel.keywordInput.defaultQuery},setQuery:function(a){this.viewModel.keywordInput.searchQuery(a)},EVENT_CLICK_ITEM:"click-item",EVENT_PRESS_TAB_KEY:"pressed-tab-key",EVENT_ACTIVATE_ITEM:"activate-item"});window.suggest={Suggest:H}}.call(this),function(a){"use strict";"undefined"!=typeof a.suggest&&(a.suggest.version="1.2.6.1")}(window);